<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Leptonica: src/convolve.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="moller52-tiny.jpg"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Leptonica&#160;<span id="projectnumber">1.68</span></div>
   <div id="projectbrief">C Image Processing Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('convolve_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>convolve.c File Reference</h1>  </div>
</div>
<div class="contents">

<p>Grayscale, color, float, double convolution; windowed mean, block sum and rank filters; census transform.  
<a href="#_details">More...</a></p>
<div class="textblock"><code>#include &lt;math.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="allheaders_8h_source.html">allheaders.h</a>&quot;</code><br/>
</div>
<p><a href="convolve_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#a48fc2b6def6c2a8c8a47ec80816f260d">pixBlockconv</a> (<a class="el" href="struct_pix.html">PIX</a> *pix, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> wc, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> hc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#a7710dd78bd3e0936426a5bac9a62cd4c">pixBlockconvGray</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="struct_pix.html">PIX</a> *pixacc, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> wc, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> hc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#aa5f738603d1c136720f2faa77ae33900">pixBlockconvAccum</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#a89848b81e6825a436c368d2a9c90a04d">pixBlockconvGrayUnnormalized</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> wc, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> hc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#a1d25d956ade86cb0627288b686139349">pixBlockconvTiled</a> (<a class="el" href="struct_pix.html">PIX</a> *pix, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> wc, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> hc, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> <a class="el" href="warper__reg_8c.html#ac1a7ac913bd594dc8922110611750361">nx</a>, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> <a class="el" href="warper__reg_8c.html#a58b4b4ca4b25fac74a719021d506180d">ny</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#a012993a0e78f56351ca278426e4f1f4d">pixBlockconvGrayTile</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="struct_pix.html">PIX</a> *pixacc, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> wc, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> hc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#a15941c0c90d103fed8b73854d657fb2d">pixWindowedStats</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> wc, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> hc, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> hasborder, <a class="el" href="struct_pix.html">PIX</a> **ppixm, <a class="el" href="struct_pix.html">PIX</a> **ppixms, <a class="el" href="struct_f_pix.html">FPIX</a> **pfpixv, <a class="el" href="struct_f_pix.html">FPIX</a> **pfpixrv)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#ac5588d79b9408ce3c7f90e2c09f220a3">pixWindowedMean</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> wc, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> hc, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> hasborder, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> normflag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#a1ec92e53bf1b0fe9230e3035de31f48a">pixWindowedMeanSquare</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> wc, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> hc, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> hasborder)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#a6e3c2a7449ce71bb7c5284870fe95802">pixWindowedVariance</a> (<a class="el" href="struct_pix.html">PIX</a> *pixm, <a class="el" href="struct_pix.html">PIX</a> *pixms, <a class="el" href="struct_f_pix.html">FPIX</a> **pfpixv, <a class="el" href="struct_f_pix.html">FPIX</a> **pfpixrv)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_d_pix.html">DPIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#acf19fd5e7fb628fe67965bc36a5a3d53">pixMeanSquareAccum</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#a56f48bf0144d2a5002dd639babbd9094">pixBlockrank</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="struct_pix.html">PIX</a> *pixacc, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> wc, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> hc, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> rank)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#a397824af191089d99d0ff2c973e48504">pixBlocksum</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="struct_pix.html">PIX</a> *pixacc, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> wc, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> hc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#a2b6df02fe29a7918f3b06bd94f64409b">pixCensusTransform</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> halfsize, <a class="el" href="struct_pix.html">PIX</a> *pixacc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#a7d04971b4f30892631c6b8cde98f16c4">pixConvolve</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="struct_l___kernel.html">L_KERNEL</a> *kel, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> outdepth, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> normflag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#af83200e488331e385f25c51e3a6a03a0">pixConvolveSep</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="struct_l___kernel.html">L_KERNEL</a> *kelx, <a class="el" href="struct_l___kernel.html">L_KERNEL</a> *kely, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> outdepth, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> normflag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#a08c75156812a94e72f48dbc16fff5259">pixConvolveRGB</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="struct_l___kernel.html">L_KERNEL</a> *kel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#af21e391cd6262f83fae79c0acf0822c4">pixConvolveRGBSep</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="struct_l___kernel.html">L_KERNEL</a> *kelx, <a class="el" href="struct_l___kernel.html">L_KERNEL</a> *kely)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_f_pix.html">FPIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#aa42a89d77483b72c6b123743c6330b4b">fpixConvolve</a> (<a class="el" href="struct_f_pix.html">FPIX</a> *fpixs, <a class="el" href="struct_l___kernel.html">L_KERNEL</a> *kel, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> normflag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_f_pix.html">FPIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#ae2148272bc20c4d1ca72b98beb1cde7e">fpixConvolveSep</a> (<a class="el" href="struct_f_pix.html">FPIX</a> *fpixs, <a class="el" href="struct_l___kernel.html">L_KERNEL</a> *kelx, <a class="el" href="struct_l___kernel.html">L_KERNEL</a> *kely, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> normflag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#a543095511eaef1d65f1b5126d0088f43">l_setConvolveSampling</a> (<a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> xfact, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> yfact)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">LEPT_DLL <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#a965992dcd95d181f0edbc4f427acda1a">ConvolveSamplingFactX</a> = 1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">LEPT_DLL <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="convolve_8c.html#afa0fc932e68cb941244acd962730fcec">ConvolveSamplingFactY</a> = 1</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Grayscale, color, float, double convolution; windowed mean, block sum and rank filters; census transform. </p>

<p>Definition in file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a48fc2b6def6c2a8c8a47ec80816f260d"></a><!-- doxytag: member="convolve.c::pixBlockconv" ref="a48fc2b6def6c2a8c8a47ec80816f260d" args="(PIX *pix, l_int32 wc, l_int32 hc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixBlockconv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>wc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>hc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="convolve_8c.html#a48fc2b6def6c2a8c8a47ec80816f260d">pixBlockconv()</a></p>
<p>Input: pix (8 or 32 bpp; or 2, 4 or 8 bpp with colormap) wc, hc (half width/height of convolution kernel) Return: pixd, or null on error</p>
<p>Notes: (1) The full width and height of the convolution kernel are (2 * wc + 1) and (2 * hc + 1) (2) Returns a copy if both wc and hc are 0 (3) Require that w &gt;= 2 * wc + 1 and h &gt;= 2 * hc + 1, where (w,h) are the dimensions of pixs. </p>

<p>Definition at line <a class="el" href="convolve_8c_source.html#l00091">91</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>References <a class="el" href="pix_8h_source.html#l00145">COLOR_BLUE</a>, <a class="el" href="pix_8h_source.html#l00144">COLOR_GREEN</a>, <a class="el" href="pix_8h_source.html#l00143">COLOR_RED</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00266">L_INFO_INT2</a>, <a class="el" href="environ_8h_source.html#l00151">L_MIN</a>, <a class="el" href="environ_8h_source.html#l00257">L_WARNING</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="convolve_8c_source.html#l00172">pixBlockconvGray()</a>, <a class="el" href="pix1_8c_source.html#l00440">pixClone()</a>, <a class="el" href="pix1_8c_source.html#l00548">pixCopy()</a>, <a class="el" href="pix2_8c_source.html#l01827">pixCreateRGBImage()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l01288">pixGetColormap()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix2_8c_source.html#l01883">pixGetRGBComponent()</a>, <a class="el" href="pixconv_8c_source.html#l00223">pixRemoveColormap()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, and <a class="el" href="pix_8h_source.html#l00181">REMOVE_CMAP_BASED_ON_SRC</a>.</p>

<p>Referenced by <a class="el" href="convolve__reg_8c_source.html#l00031">main()</a>, <a class="el" href="convolve_8c_source.html#l00401">pixBlockconvTiled()</a>, <a class="el" href="morphapp_8c_source.html#l01185">pixFastTophat()</a>, <a class="el" href="adaptmap_8c_source.html#l01725">pixGetInvBackgroundMap()</a>, <a class="el" href="adaptmap_8c_source.html#l02518">pixMinMaxTiles()</a>, <a class="el" href="binarize_8c_source.html#l00114">pixOtsuAdaptiveThreshold()</a>, <a class="el" href="rotate_8c_source.html#l00424">pixRotateBinaryNice()</a>, and <a class="el" href="adaptmap_8c_source.html#l02263">pixThresholdSpreadNorm()</a>.</p>

</div>
</div>
<a class="anchor" id="a7710dd78bd3e0936426a5bac9a62cd4c"></a><!-- doxytag: member="convolve.c::pixBlockconvGray" ref="a7710dd78bd3e0936426a5bac9a62cd4c" args="(PIX *pixs, PIX *pixacc, l_int32 wc, l_int32 hc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixBlockconvGray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixacc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>wc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>hc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="convolve_8c.html#a7710dd78bd3e0936426a5bac9a62cd4c">pixBlockconvGray()</a></p>
<p>Input: pix (8 bpp) accum pix (32 bpp; can be null) wc, hc (half width/height of convolution kernel) Return: pix (8 bpp), or null on error</p>
<p>Notes: (1) If accum pix is null, make one and destroy it before returning; otherwise, just use the input accum pix. (2) The full width and height of the convolution kernel are (2 * wc + 1) and (2 * hc + 1). (3) Returns a copy if both wc and hc are 0. (4) Require that w &gt;= 2 * wc + 1 and h &gt;= 2 * hc + 1, where (w,h) are the dimensions of pixs. </p>

<p>Definition at line <a class="el" href="convolve_8c_source.html#l00172">172</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>References <a class="el" href="convolvelow_8c_source.html#l00081">blockconvLow()</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00266">L_INFO_INT2</a>, <a class="el" href="environ_8h_source.html#l00151">L_MIN</a>, <a class="el" href="environ_8h_source.html#l00257">L_WARNING</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="convolve_8c_source.html#l00247">pixBlockconvAccum()</a>, <a class="el" href="pix1_8c_source.html#l00440">pixClone()</a>, <a class="el" href="pix1_8c_source.html#l00548">pixCopy()</a>, <a class="el" href="pix1_8c_source.html#l00328">pixCreateTemplate()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l01358">pixGetData()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix1_8c_source.html#l00970">pixGetWpl()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="alphaclean__reg_8c_source.html#l00028">main()</a>, <a class="el" href="convolve_8c_source.html#l00091">pixBlockconv()</a>, <a class="el" href="convolve_8c_source.html#l01263">pixCensusTransform()</a>, <a class="el" href="enhance_8c_source.html#l01797">pixHalfEdgeByBandpass()</a>, <a class="el" href="morphapp_8c_source.html#l01247">pixMorphGradient()</a>, and <a class="el" href="enhance_8c_source.html#l00931">pixUnsharpMaskingGray()</a>.</p>

</div>
</div>
<a class="anchor" id="aa5f738603d1c136720f2faa77ae33900"></a><!-- doxytag: member="convolve.c::pixBlockconvAccum" ref="aa5f738603d1c136720f2faa77ae33900" args="(PIX *pixs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixBlockconvAccum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="convolve_8c.html#aa5f738603d1c136720f2faa77ae33900">pixBlockconvAccum()</a></p>
<p>Input: pixs (1, 8 or 32 bpp) Return: accum pix (32 bpp), or null on error.</p>
<p>Notes: (1) The general recursion relation is a(i,j) = v(i,j) + a(i-1, j) + a(i, j-1) - a(i-1, j-1) For the first line, this reduces to the special case a(i,j) = v(i,j) + a(i, j-1) For the first column, the special case is a(i,j) = v(i,j) + a(i-1, j) </p>

<p>Definition at line <a class="el" href="convolve_8c_source.html#l00247">247</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>References <a class="el" href="convolvelow_8c_source.html#l00222">blockconvAccumLow()</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix1_8c_source.html#l00269">pixCreate()</a>, <a class="el" href="pix1_8c_source.html#l01358">pixGetData()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix1_8c_source.html#l00970">pixGetWpl()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="convolve__reg_8c_source.html#l00031">main()</a>, <a class="el" href="convolve_8c_source.html#l00172">pixBlockconvGray()</a>, <a class="el" href="convolve_8c_source.html#l00525">pixBlockconvGrayTile()</a>, <a class="el" href="convolve_8c_source.html#l00312">pixBlockconvGrayUnnormalized()</a>, <a class="el" href="convolve_8c_source.html#l01178">pixBlocksum()</a>, <a class="el" href="enhance_8c_source.html#l01797">pixHalfEdgeByBandpass()</a>, <a class="el" href="quadtree_8c_source.html#l00077">pixQuadtreeMean()</a>, <a class="el" href="quadtree_8c_source.html#l00152">pixQuadtreeVariance()</a>, and <a class="el" href="convolve_8c_source.html#l00734">pixWindowedMean()</a>.</p>

</div>
</div>
<a class="anchor" id="a89848b81e6825a436c368d2a9c90a04d"></a><!-- doxytag: member="convolve.c::pixBlockconvGrayUnnormalized" ref="a89848b81e6825a436c368d2a9c90a04d" args="(PIX *pixs, l_int32 wc, l_int32 hc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixBlockconvGrayUnnormalized </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>wc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>hc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="convolve_8c.html#a89848b81e6825a436c368d2a9c90a04d">pixBlockconvGrayUnnormalized()</a></p>
<p>Input: pixs (8 bpp) wc, hc (half width/height of convolution kernel) Return: pix (32 bpp; containing the convolution without normalizing for the window size), or null on error</p>
<p>Notes: (1) The full width and height of the convolution kernel are (2 * wc + 1) and (2 * hc + 1). (2) Require that w &gt;= 2 * wc + 1 and h &gt;= 2 * hc + 1, where (w,h) are the dimensions of pixs. (3) Returns a copy if both wc and hc are 0. (3) Adds mirrored border to avoid treating the boundary pixels specially. Note that we add wc + 1 pixels to the left and wc to the right. The added width is 2 * wc + 1 pixels, and the particular choice simplifies the indexing in the loop. Likewise, add hc + 1 pixels to the top and hc to the bottom. (4) To get the normalized result, divide by the area of the convolution kernel: (2 * wc + 1) * (2 * hc + 1) Specifically, do this: pixc = pixBlockconvGrayUnnormalized(pixs, wc, hc); fract = 1. / ((2 * wc + 1) * (2 * hc + 1)); pixMultConstantGray(pixc, fract); pixd = pixGetRGBComponent(pixc, L_ALPHA_CHANNEL); (5) Unlike <a class="el" href="convolve_8c.html#a7710dd78bd3e0936426a5bac9a62cd4c">pixBlockconvGray()</a>, this always computes the accumulation pix because its size is tied to wc and hc. (6) Compare this implementation with <a class="el" href="convolve_8c.html#a7710dd78bd3e0936426a5bac9a62cd4c">pixBlockconvGray()</a>, where most of the code in <a class="el" href="convolvelow_8c.html#a89e0a5f92a1d9ed1c95fa7d189932ae5">blockconvLow()</a> is special casing for efficiently handling the boundary. Here, the use of mirrored borders and destination indexing makes the implementation very simple. </p>

<p>Definition at line <a class="el" href="convolve_8c_source.html#l00312">312</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00266">L_INFO_INT2</a>, <a class="el" href="environ_8h_source.html#l00151">L_MIN</a>, <a class="el" href="environ_8h_source.html#l00257">L_WARNING</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix2_8c_source.html#l01664">pixAddMirroredBorder()</a>, <a class="el" href="convolve_8c_source.html#l00247">pixBlockconvAccum()</a>, <a class="el" href="pix1_8c_source.html#l00548">pixCopy()</a>, <a class="el" href="pix1_8c_source.html#l00269">pixCreate()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l01358">pixGetData()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix1_8c_source.html#l00970">pixGetWpl()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

</div>
</div>
<a class="anchor" id="a1d25d956ade86cb0627288b686139349"></a><!-- doxytag: member="convolve.c::pixBlockconvTiled" ref="a1d25d956ade86cb0627288b686139349" args="(PIX *pix, l_int32 wc, l_int32 hc, l_int32 nx, l_int32 ny)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixBlockconvTiled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>wc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>hc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>nx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>ny</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="convolve_8c.html#a1d25d956ade86cb0627288b686139349">pixBlockconvTiled()</a></p>
<p>Input: pix (8 or 32 bpp; or 2, 4 or 8 bpp with colormap) wc, hc (half width/height of convolution kernel) nx, ny (subdivision into tiles) Return: pixd, or null on error</p>
<p>Notes: (1) The full width and height of the convolution kernel are (2 * wc + 1) and (2 * hc + 1) (2) Returns a copy if both wc and hc are 0 (3) Require that w &gt;= 2 * wc + 1 and h &gt;= 2 * hc + 1, where (w,h) are the dimensions of pixs. (4) For nx == ny == 1, this defaults to <a class="el" href="convolve_8c.html#a48fc2b6def6c2a8c8a47ec80816f260d">pixBlockconv()</a>, which is typically about twice as fast, and gives nearly identical results as <a class="el" href="convolve_8c.html#a012993a0e78f56351ca278426e4f1f4d">pixBlockconvGrayTile()</a>. (5) If the tiles are too small, nx and/or ny are reduced a minimum amount so that the tiles are expanded to the smallest workable size in the problematic direction(s). (6) Why a tiled version? Three reasons: (a) Because the accumulator is a uint32, overflow can occur for an image with more than 16M pixels. (b) The accumulator array for 16M pixels is 64 MB; using tiles reduces the size of this array. (c) Each tile can be processed independently, in parallel, on a multicore processor. </p>

<p>Definition at line <a class="el" href="convolve_8c_source.html#l00401">401</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>References <a class="el" href="pix_8h_source.html#l00145">COLOR_BLUE</a>, <a class="el" href="pix_8h_source.html#l00144">COLOR_GREEN</a>, <a class="el" href="pix_8h_source.html#l00143">COLOR_RED</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00266">L_INFO_INT2</a>, <a class="el" href="environ_8h_source.html#l00155">L_MAX</a>, <a class="el" href="environ_8h_source.html#l00151">L_MIN</a>, <a class="el" href="environ_8h_source.html#l00257">L_WARNING</a>, <a class="el" href="environ_8h_source.html#l00259">L_WARNING_INT</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pixaatest_8c_source.html#l00026">nx</a>, <a class="el" href="pixaatest_8c_source.html#l00027">ny</a>, <a class="el" href="convolve_8c_source.html#l00091">pixBlockconv()</a>, <a class="el" href="convolve_8c_source.html#l00525">pixBlockconvGrayTile()</a>, <a class="el" href="pix1_8c_source.html#l00440">pixClone()</a>, <a class="el" href="pix1_8c_source.html#l00548">pixCopy()</a>, <a class="el" href="pix2_8c_source.html#l01827">pixCreateRGBImage()</a>, <a class="el" href="pix1_8c_source.html#l00356">pixCreateTemplateNoInit()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l01288">pixGetColormap()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix2_8c_source.html#l01883">pixGetRGBComponent()</a>, <a class="el" href="pixconv_8c_source.html#l00223">pixRemoveColormap()</a>, <a class="el" href="pixtiling_8c_source.html#l00108">pixTilingCreate()</a>, <a class="el" href="pixtiling_8c_source.html#l00165">pixTilingDestroy()</a>, <a class="el" href="pixtiling_8c_source.html#l00242">pixTilingGetTile()</a>, <a class="el" href="pixtiling_8c_source.html#l00371">pixTilingPaintTile()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, and <a class="el" href="pix_8h_source.html#l00181">REMOVE_CMAP_BASED_ON_SRC</a>.</p>

<p>Referenced by <a class="el" href="kernel__reg_8c_source.html#l00034">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a012993a0e78f56351ca278426e4f1f4d"></a><!-- doxytag: member="convolve.c::pixBlockconvGrayTile" ref="a012993a0e78f56351ca278426e4f1f4d" args="(PIX *pixs, PIX *pixacc, l_int32 wc, l_int32 hc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixBlockconvGrayTile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixacc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>wc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>hc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="convolve_8c.html#a012993a0e78f56351ca278426e4f1f4d">pixBlockconvGrayTile()</a></p>
<p>Input: pixs (8 bpp gray) pixacc (32 bpp accum pix) wc, hc (half width/height of convolution kernel) Return: pixd, or null on error</p>
<p>Notes: (1) The full width and height of the convolution kernel are (2 * wc + 1) and (2 * hc + 1) (2) Assumes that the input pixs is padded with (wc + 1) pixels on left and right, and with (hc + 1) pixels on top and bottom. The returned pix has these stripped off; they are only used for computation. (3) Returns a copy if both wc and hc are 0 (4) Require that w &gt; 2 * wc + 1 and h &gt; 2 * hc + 1, where (w,h) are the dimensions of pixs. </p>

<p>Definition at line <a class="el" href="convolve_8c_source.html#l00525">525</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00266">L_INFO_INT2</a>, <a class="el" href="environ_8h_source.html#l00155">L_MAX</a>, <a class="el" href="environ_8h_source.html#l00151">L_MIN</a>, <a class="el" href="environ_8h_source.html#l00257">L_WARNING</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="convolve_8c_source.html#l00247">pixBlockconvAccum()</a>, <a class="el" href="pix1_8c_source.html#l00440">pixClone()</a>, <a class="el" href="pix1_8c_source.html#l00548">pixCopy()</a>, <a class="el" href="pix1_8c_source.html#l00328">pixCreateTemplate()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l01358">pixGetData()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix1_8c_source.html#l00970">pixGetWpl()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, and <a class="el" href="arrayaccess_8h_source.html#l00126">SET_DATA_BYTE</a>.</p>

<p>Referenced by <a class="el" href="convolve_8c_source.html#l00401">pixBlockconvTiled()</a>.</p>

</div>
</div>
<a class="anchor" id="a15941c0c90d103fed8b73854d657fb2d"></a><!-- doxytag: member="convolve.c::pixWindowedStats" ref="a15941c0c90d103fed8b73854d657fb2d" args="(PIX *pixs, l_int32 wc, l_int32 hc, l_int32 hasborder, PIX **ppixm, PIX **ppixms, FPIX **pfpixv, FPIX **pfpixrv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> pixWindowedStats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>wc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>hc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>hasborder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> **&#160;</td>
          <td class="paramname"><em>ppixm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> **&#160;</td>
          <td class="paramname"><em>ppixms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_f_pix.html">FPIX</a> **&#160;</td>
          <td class="paramname"><em>pfpixv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_f_pix.html">FPIX</a> **&#160;</td>
          <td class="paramname"><em>pfpixrv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="convolve_8c.html#a15941c0c90d103fed8b73854d657fb2d">pixWindowedStats()</a></p>
<p>Input: pixs (8 bpp grayscale) wc, hc (half width/height of convolution kernel) hasborder (use 1 if it already has (wc + 1) border pixels on left and right, and (hc + 1) on top and bottom; use 0 to add kernel-dependent border) &amp;pixm (&lt;optional return&gt;=""&gt; 8 bpp mean value in window) &amp;pixms (&lt;optional return&gt;=""&gt; 32 bpp mean square value in window) &amp;fpixv (&lt;optional return&gt;=""&gt; float variance in window) &amp;fpixrv (&lt;optional return&gt;=""&gt; float rms deviation from the mean) Return: 0 if OK, 1 on error</p>
<p>Notes: (1) This is a high-level convenience function for calculating any or all of these derived images. (2) If  = 0, a border is added and the result is computed over all pixels in pixs. Otherwise, no border is added and the border pixels are removed from the output images. (3) These statistical measures over the pixels in the rectangular window are:</p>
<ul>
<li>average value: </li>
</ul>
<p>(pixm)</p>
<ul>
<li>average squared value: &lt;p*p&gt; (pixms)</li>
<li>variance: &lt;(p - </li>
</ul>
<p>)*(p - </p>
<p>)&gt; = &lt;p*p&gt; - </p>
<p>*</p>
<p>(pixv)</p>
<ul>
<li>square-root of variance: (pixrv) where the brackets &lt; .. &gt; indicate that the average value is to be taken over the window. (4) Note that the variance is just the mean square difference from the mean value; and the square root of the variance is the root mean square difference from the mean, sometimes also called the 'standard deviation'. (5) The added border, along with the use of an accumulator array, allows computation without special treatment of pixels near the image boundary, and runs in a time that is independent of the size of the convolution kernel. </li>
</ul>

<p>Definition at line <a class="el" href="convolve_8c_source.html#l00651">651</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix2_8c_source.html#l01531">pixAddBorderGeneral()</a>, <a class="el" href="pix1_8c_source.html#l00440">pixClone()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="convolve_8c_source.html#l00734">pixWindowedMean()</a>, <a class="el" href="convolve_8c_source.html#l00843">pixWindowedMeanSquare()</a>, <a class="el" href="convolve_8c_source.html#l00933">pixWindowedVariance()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="convolve__reg_8c_source.html#l00031">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ac5588d79b9408ce3c7f90e2c09f220a3"></a><!-- doxytag: member="convolve.c::pixWindowedMean" ref="ac5588d79b9408ce3c7f90e2c09f220a3" args="(PIX *pixs, l_int32 wc, l_int32 hc, l_int32 hasborder, l_int32 normflag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixWindowedMean </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>wc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>hc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>hasborder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>normflag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="convolve_8c.html#ac5588d79b9408ce3c7f90e2c09f220a3">pixWindowedMean()</a></p>
<p>Input: pixs (8 or 32 bpp grayscale) wc, hc (half width/height of convolution kernel) hasborder (use 1 if it already has (wc + 1) border pixels on left and right, and (hc + 1) on top and bottom; use 0 to add kernel-dependent border) normflag (1 for normalization to get average in window; 0 for the sum in the window (un-normalized)) Return: pixd (8 or 32 bpp, average over kernel window)</p>
<p>Notes: (1) The input and output depths are the same. (2) A set of border pixels of width (wc + 1) on left and right, and of height (hc + 1) on top and bottom, must be on the pix before the accumulator is found. The output pixd (after convolution) has this border removed. If  = 0, the required border is added. (3) Typically,  == 1. However, if you want the sum within the window, rather than a normalized convolution, use  == 0. (4) This builds a block accumulator pix, uses it here, and destroys it. (5) The added border, along with the use of an accumulator array, allows computation without special treatment of pixels near the image boundary, and runs in a time that is independent of the size of the convolution kernel. </p>

<p>Definition at line <a class="el" href="convolve_8c_source.html#l00734">734</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix2_8c_source.html#l01531">pixAddBorderGeneral()</a>, <a class="el" href="convolve_8c_source.html#l00247">pixBlockconvAccum()</a>, <a class="el" href="pix1_8c_source.html#l00440">pixClone()</a>, <a class="el" href="pix1_8c_source.html#l00269">pixCreate()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l01358">pixGetData()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix1_8c_source.html#l00970">pixGetWpl()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, and <a class="el" href="arrayaccess_8h_source.html#l00126">SET_DATA_BYTE</a>.</p>

<p>Referenced by <a class="el" href="convolve__reg_8c_source.html#l00031">main()</a>, <a class="el" href="colorspace_8c_source.html#l01181">pixFindHistoPeaksHSV()</a>, <a class="el" href="binarize_8c_source.html#l00560">pixSauvolaBinarize()</a>, and <a class="el" href="convolve_8c_source.html#l00651">pixWindowedStats()</a>.</p>

</div>
</div>
<a class="anchor" id="a1ec92e53bf1b0fe9230e3035de31f48a"></a><!-- doxytag: member="convolve.c::pixWindowedMeanSquare" ref="a1ec92e53bf1b0fe9230e3035de31f48a" args="(PIX *pixs, l_int32 wc, l_int32 hc, l_int32 hasborder)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixWindowedMeanSquare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>wc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>hc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>hasborder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="convolve_8c.html#a1ec92e53bf1b0fe9230e3035de31f48a">pixWindowedMeanSquare()</a></p>
<p>Input: pixs (8 bpp grayscale) wc, hc (half width/height of convolution kernel) hasborder (use 1 if it already has (wc + 1) border pixels on left and right, and (hc + 1) on top and bottom; use 0 to add kernel-dependent border) Return: pixd (32 bpp, average over rectangular window of width = 2 * wc + 1 and height = 2 * hc + 1)</p>
<p>Notes: (1) A set of border pixels of width (wc + 1) on left and right, and of height (hc + 1) on top and bottom, must be on the pix before the accumulator is found. The output pixd (after convolution) has this border removed. If  = 0, the required border is added. (2) The advantage is that we are unaffected by the boundary, and it is not necessary to treat pixels within  and  of the border differently. This is because processing for pixd only takes place for pixels in pixs for which the kernel is entirely contained in pixs. (3) Why do we have an added border of width ( + 1) and height ( + 1), when we only need  and  pixels to satisfy this condition? Answer: the accumulators are asymmetric, requiring an extra row and column of pixels at top and left to work accurately. (4) The added border, along with the use of an accumulator array, allows computation without special treatment of pixels near the image boundary, and runs in a time that is independent of the size of the convolution kernel. </p>

<p>Definition at line <a class="el" href="convolve_8c_source.html#l00843">843</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>References <a class="el" href="fpix1_8c_source.html#l01186">dpixDestroy()</a>, <a class="el" href="fpix1_8c_source.html#l01359">dpixGetData()</a>, <a class="el" href="fpix1_8c_source.html#l01262">dpixGetWpl()</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix2_8c_source.html#l01531">pixAddBorderGeneral()</a>, <a class="el" href="pix1_8c_source.html#l00440">pixClone()</a>, <a class="el" href="pix1_8c_source.html#l00269">pixCreate()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l01358">pixGetData()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix1_8c_source.html#l00970">pixGetWpl()</a>, <a class="el" href="convolve_8c_source.html#l01020">pixMeanSquareAccum()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="convolve__reg_8c_source.html#l00031">main()</a>, <a class="el" href="binarize_8c_source.html#l00560">pixSauvolaBinarize()</a>, and <a class="el" href="convolve_8c_source.html#l00651">pixWindowedStats()</a>.</p>

</div>
</div>
<a class="anchor" id="a6e3c2a7449ce71bb7c5284870fe95802"></a><!-- doxytag: member="convolve.c::pixWindowedVariance" ref="a6e3c2a7449ce71bb7c5284870fe95802" args="(PIX *pixm, PIX *pixms, FPIX **pfpixv, FPIX **pfpixrv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> pixWindowedVariance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_f_pix.html">FPIX</a> **&#160;</td>
          <td class="paramname"><em>pfpixv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_f_pix.html">FPIX</a> **&#160;</td>
          <td class="paramname"><em>pfpixrv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="convolve_8c.html#a6e3c2a7449ce71bb7c5284870fe95802">pixWindowedVariance()</a></p>
<p>Input: pixm (mean over window; 8 or 32 bpp grayscale) pixms (mean square over window; 32 bpp) &amp;fpixv (&lt;optional return&gt;=""&gt; float variance -- the ms deviation from the mean) &amp;fpixrv (&lt;optional return&gt;=""&gt; float rms deviation from the mean) Return: 0 if OK, 1 on error</p>
<p>Notes: (1) The mean and mean square values are precomputed, using <a class="el" href="convolve_8c.html#ac5588d79b9408ce3c7f90e2c09f220a3">pixWindowedMean()</a> and <a class="el" href="convolve_8c.html#a1ec92e53bf1b0fe9230e3035de31f48a">pixWindowedMeanSquare()</a>. (2) Either or both of the variance and square-root of variance are returned as an fpix, where the variance is the average over the window of the mean square difference of the pixel value from the mean: &lt;(p - </p>
<p>)*(p - </p>
<p>)&gt; = &lt;p*p&gt; - </p>
<p>*</p>
<p>(3) To visualize the results:</p>
<ul>
<li>for both, use <a class="el" href="fpix2_8c.html#a4738237ca2fd3dd7e12d4ed52944da29">fpixDisplayMaxDynamicRange()</a>.</li>
<li>for rms deviation, simply convert the output fpix to pix, </li>
</ul>

<p>Definition at line <a class="el" href="convolve_8c_source.html#l00933">933</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="fpix1_8c_source.html#l00125">fpixCreate()</a>, <a class="el" href="fpix1_8c_source.html#l00499">fpixGetData()</a>, <a class="el" href="fpix1_8c_source.html#l00402">fpixGetWpl()</a>, <a class="el" href="arrayaccess_8h_source.html#l00118">GET_DATA_BYTE</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix1_8c_source.html#l01358">pixGetData()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix1_8c_source.html#l00970">pixGetWpl()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="convolve__reg_8c_source.html#l00031">main()</a>, and <a class="el" href="convolve_8c_source.html#l00651">pixWindowedStats()</a>.</p>

</div>
</div>
<a class="anchor" id="acf19fd5e7fb628fe67965bc36a5a3d53"></a><!-- doxytag: member="convolve.c::pixMeanSquareAccum" ref="acf19fd5e7fb628fe67965bc36a5a3d53" args="(PIX *pixs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_d_pix.html">DPIX</a>* pixMeanSquareAccum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="convolve_8c.html#acf19fd5e7fb628fe67965bc36a5a3d53">pixMeanSquareAccum()</a></p>
<p>Input: pixs (8 bpp grayscale) Return: dpix (64 bit array), or null on error</p>
<p>Notes: (1) Similar to <a class="el" href="convolve_8c.html#aa5f738603d1c136720f2faa77ae33900">pixBlockconvAccum()</a>, this computes the sum of the squares of the pixel values in such a way that the value at (i,j) is the sum of all squares in the rectangle from the origin to (i,j). (2) The general recursion relation (v are squared pixel values) is a(i,j) = v(i,j) + a(i-1, j) + a(i, j-1) - a(i-1, j-1) For the first line, this reduces to the special case a(i,j) = v(i,j) + a(i, j-1) For the first column, the special case is a(i,j) = v(i,j) + a(i-1, j) </p>

<p>Definition at line <a class="el" href="convolve_8c_source.html#l01020">1020</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>References <a class="el" href="fpix1_8c_source.html#l00991">dpixCreate()</a>, <a class="el" href="fpix1_8c_source.html#l01359">dpixGetData()</a>, <a class="el" href="fpix1_8c_source.html#l01262">dpixGetWpl()</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="arrayaccess_8h_source.html#l00118">GET_DATA_BYTE</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix1_8c_source.html#l01358">pixGetData()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix1_8c_source.html#l00970">pixGetWpl()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="quadtree_8c_source.html#l00152">pixQuadtreeVariance()</a>, and <a class="el" href="convolve_8c_source.html#l00843">pixWindowedMeanSquare()</a>.</p>

</div>
</div>
<a class="anchor" id="a56f48bf0144d2a5002dd639babbd9094"></a><!-- doxytag: member="convolve.c::pixBlockrank" ref="a56f48bf0144d2a5002dd639babbd9094" args="(PIX *pixs, PIX *pixacc, l_int32 wc, l_int32 hc, l_float32 rank)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixBlockrank </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixacc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>wc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>hc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>&#160;</td>
          <td class="paramname"><em>rank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="convolve_8c.html#a56f48bf0144d2a5002dd639babbd9094">pixBlockrank()</a></p>
<p>Input: pixs (1 bpp) accum pix (&lt;optional&gt; 32 bpp) wc, hc (half width/height of block sum/rank kernel) rank (between 0.0 and 1.0; 0.5 is median filter) Return: pixd (1 bpp)</p>
<p>Notes: (1) The full width and height of the convolution kernel are (2 * wc + 1) and (2 * hc + 1) (2) This returns a pixd where each pixel is a 1 if the neighborhood (2 * wc + 1) x (2 * hc + 1)) pixels contains the rank fraction of 1 pixels. Otherwise, the returned pixel is 0. Note that the special case of rank = 0.0 is always satisfied, so the returned pixd has all pixels with value 1. (3) If accum pix is null, make one, use it, and destroy it before returning; otherwise, just use the input accum pix (4) If both wc and hc are 0, returns a copy unless rank == 0.0, in which case this returns an all-ones image. (5) Require that w &gt;= 2 * wc + 1 and h &gt;= 2 * hc + 1, where (w,h) are the dimensions of pixs. </p>

<p>Definition at line <a class="el" href="convolve_8c_source.html#l01098">1098</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00266">L_INFO_INT2</a>, <a class="el" href="environ_8h_source.html#l00151">L_MIN</a>, <a class="el" href="environ_8h_source.html#l00257">L_WARNING</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="convolve_8c_source.html#l01178">pixBlocksum()</a>, <a class="el" href="pix1_8c_source.html#l00548">pixCopy()</a>, <a class="el" href="pix1_8c_source.html#l00328">pixCreateTemplate()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix3_8c_source.html#l01002">pixInvert()</a>, <a class="el" href="pix2_8c_source.html#l00625">pixSetAll()</a>, <a class="el" href="grayquant_8c_source.html#l00217">pixThresholdToBinary()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="convolve__reg_8c_source.html#l00031">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a397824af191089d99d0ff2c973e48504"></a><!-- doxytag: member="convolve.c::pixBlocksum" ref="a397824af191089d99d0ff2c973e48504" args="(PIX *pixs, PIX *pixacc, l_int32 wc, l_int32 hc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixBlocksum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixacc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>wc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>hc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="convolve_8c.html#a397824af191089d99d0ff2c973e48504">pixBlocksum()</a></p>
<p>Input: pixs (1 bpp) accum pix (&lt;optional&gt; 32 bpp) wc, hc (half width/height of block sum/rank kernel) Return: pixd (8 bpp)</p>
<p>Notes: (1) If accum pix is null, make one and destroy it before returning; otherwise, just use the input accum pix (2) The full width and height of the convolution kernel are (2 * wc + 1) and (2 * hc + 1) (3) Use of wc = hc = 1, followed by <a class="el" href="leptprotos_8h.html#a6f0dcf6a1fb094a9354b2ec890d46f0c">pixInvert()</a> on the 8 bpp result, gives a nice anti-aliased, and somewhat darkened, result on text. (4) Require that w &gt;= 2 * wc + 1 and h &gt;= 2 * hc + 1, where (w,h) are the dimensions of pixs. (5) Returns in each dest pixel the sum of all src pixels that are within a block of size of the kernel, centered on the dest pixel. This sum is the number of src ON pixels in the block at each location, normalized to 255 for a block containing all ON pixels. For pixels near the boundary, where the block is not entirely contained within the image, we then multiply by a second normalization factor that is greater than one, so that all results are normalized by the number of participating pixels within the block. </p>

<p>Definition at line <a class="el" href="convolve_8c_source.html#l01178">1178</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>References <a class="el" href="convolvelow_8c_source.html#l00354">blocksumLow()</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00266">L_INFO_INT2</a>, <a class="el" href="environ_8h_source.html#l00151">L_MIN</a>, <a class="el" href="environ_8h_source.html#l00257">L_WARNING</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="convolve_8c_source.html#l00247">pixBlockconvAccum()</a>, <a class="el" href="pix1_8c_source.html#l00440">pixClone()</a>, <a class="el" href="pix1_8c_source.html#l00548">pixCopy()</a>, <a class="el" href="pix1_8c_source.html#l01114">pixCopyResolution()</a>, <a class="el" href="pix1_8c_source.html#l00269">pixCreate()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l01358">pixGetData()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix1_8c_source.html#l00970">pixGetWpl()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="convolve__reg_8c_source.html#l00031">main()</a>, and <a class="el" href="convolve_8c_source.html#l01098">pixBlockrank()</a>.</p>

</div>
</div>
<a class="anchor" id="a2b6df02fe29a7918f3b06bd94f64409b"></a><!-- doxytag: member="convolve.c::pixCensusTransform" ref="a2b6df02fe29a7918f3b06bd94f64409b" args="(PIX *pixs, l_int32 halfsize, PIX *pixacc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixCensusTransform </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>halfsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixacc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="convolve_8c.html#a2b6df02fe29a7918f3b06bd94f64409b">pixCensusTransform()</a></p>
<p>Input: pixs (8 bpp) halfsize (of square over which neighbors are averaged) accum pix (&lt;optional&gt; 32 bpp) Return: pixd (1 bpp)</p>
<p>Notes: (1) The Census transform was invented by Ramin Zabih and John Woodfill ("Non-parametric local transforms for computing visual
          correspondence", Third European Conference on Computer Vision, Stockholm, Sweden, May 1994); see publications at <a href="http://www.cs.cornell.edu/~rdz/index.htm">http://www.cs.cornell.edu/~rdz/index.htm</a> This compares each pixel against the average of its neighbors, in a square of odd dimension centered on the pixel. If the pixel is greater than the average of its neighbors, the output pixel value is 1; otherwise it is 0. (2) This can be used as an encoding for an image that is fairly robust against slow illumination changes, with applications in image comparison and mosaicing. (3) The size of the convolution kernel is (2 * halfsize + 1) on a side. The halfsize parameter must be &gt;= 1. (4) If accum pix is null, make one, use it, and destroy it before returning; otherwise, just use the input accum pix </p>

<p>Definition at line <a class="el" href="convolve_8c_source.html#l01263">1263</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="arrayaccess_8h_source.html#l00118">GET_DATA_BYTE</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="convolve_8c_source.html#l00172">pixBlockconvGray()</a>, <a class="el" href="pix1_8c_source.html#l00269">pixCreate()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l01358">pixGetData()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix1_8c_source.html#l00970">pixGetWpl()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, and <a class="el" href="arrayaccess_8h_source.html#l00063">SET_DATA_BIT</a>.</p>

<p>Referenced by <a class="el" href="convolve__reg_8c_source.html#l00031">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a7d04971b4f30892631c6b8cde98f16c4"></a><!-- doxytag: member="convolve.c::pixConvolve" ref="a7d04971b4f30892631c6b8cde98f16c4" args="(PIX *pixs, L_KERNEL *kel, l_int32 outdepth, l_int32 normflag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixConvolve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_l___kernel.html">L_KERNEL</a> *&#160;</td>
          <td class="paramname"><em>kel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>outdepth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>normflag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="convolve_8c.html#a7d04971b4f30892631c6b8cde98f16c4">pixConvolve()</a></p>
<p>Input: pixs (8, 16, 32 bpp; no colormap) kernel outdepth (of pixd: 8, 16 or 32) normflag (1 to normalize kernel to unit sum; 0 otherwise) Return: pixd (8, 16 or 32 bpp)</p>
<p>Notes: (1) This gives a convolution with an arbitrary kernel. (2) The input pixs must have only one sample/pixel. To do a convolution on an RGB image, use <a class="el" href="convolve_8c.html#a08c75156812a94e72f48dbc16fff5259">pixConvolveRGB()</a>. (3) The parameter  determines the depth of the result. If the kernel is normalized to unit sum, the output values can never exceed 255, so an output depth of 8 bpp is sufficient. If the kernel is not normalized, it may be necessary to use 16 or 32 bpp output to avoid overflow. (4) If normflag == 1, the result is normalized by scaling all kernel values for a unit sum. Do not normalize if the kernel has null sum, such as a DoG. (5) The kernel values can be positive or negative, but the result for the convolution can only be stored as a positive number. Consequently, if it goes negative, the choices are to clip to 0 or take the absolute value. We're choosing the former for now. Another possibility would be to output a second unsigned image for the negative values. (6) This uses a mirrored border to avoid special casing on the boundaries. (7) To get a subsampled output, call <a class="el" href="convolve_8c.html#a543095511eaef1d65f1b5126d0088f43">l_setConvolveSampling()</a>. The time to make a subsampled output is reduced by the product of the sampling factors. (8) The function is slow, running at about 12 machine cycles for each pixel-op in the convolution. For example, with a 3 GHz cpu, a 1 Mpixel grayscale image, and a kernel with (sx * sy) = 25 elements, the convolution takes about 100 msec. </p>

<p>Definition at line <a class="el" href="convolve_8c_source.html#l01357">1357</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>References <a class="el" href="convolve_8c_source.html#l00070">ConvolveSamplingFactX</a>, <a class="el" href="convolve_8c_source.html#l00071">ConvolveSamplingFactY</a>, <a class="el" href="morph_8h_source.html#l00079">L_Kernel::data</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="arrayaccess_8h_source.html#l00118">GET_DATA_BYTE</a>, <a class="el" href="arrayaccess_8h_source.html#l00138">GET_DATA_TWO_BYTES</a>, <a class="el" href="kernel_8c_source.html#l00147">kernelCopy()</a>, <a class="el" href="kernel_8c_source.html#l00116">kernelDestroy()</a>, <a class="el" href="kernel_8c_source.html#l00242">kernelGetParameters()</a>, <a class="el" href="kernel_8c_source.html#l00424">kernelInvert()</a>, <a class="el" href="kernel_8c_source.html#l00380">kernelNormalize()</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix2_8c_source.html#l01664">pixAddMirroredBorder()</a>, <a class="el" href="pix1_8c_source.html#l00269">pixCreate()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l01288">pixGetColormap()</a>, <a class="el" href="pix1_8c_source.html#l01358">pixGetData()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix1_8c_source.html#l00970">pixGetWpl()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="arrayaccess_8h_source.html#l00126">SET_DATA_BYTE</a>, and <a class="el" href="arrayaccess_8h_source.html#l00146">SET_DATA_TWO_BYTES</a>.</p>

<p>Referenced by <a class="el" href="convolve__reg_8c_source.html#l00031">main()</a>, <a class="el" href="convolve_8c_source.html#l01555">pixConvolveRGB()</a>, and <a class="el" href="convolve_8c_source.html#l01484">pixConvolveSep()</a>.</p>

</div>
</div>
<a class="anchor" id="af83200e488331e385f25c51e3a6a03a0"></a><!-- doxytag: member="convolve.c::pixConvolveSep" ref="af83200e488331e385f25c51e3a6a03a0" args="(PIX *pixs, L_KERNEL *kelx, L_KERNEL *kely, l_int32 outdepth, l_int32 normflag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixConvolveSep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_l___kernel.html">L_KERNEL</a> *&#160;</td>
          <td class="paramname"><em>kelx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_l___kernel.html">L_KERNEL</a> *&#160;</td>
          <td class="paramname"><em>kely</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>outdepth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>normflag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="convolve_8c.html#af83200e488331e385f25c51e3a6a03a0">pixConvolveSep()</a></p>
<p>Input: pixs (8, 16, 32 bpp; no colormap) kelx (x-dependent kernel) kely (y-dependent kernel) outdepth (of pixd: 8, 16 or 32) normflag (1 to normalize kernel to unit sum; 0 otherwise) Return: pixd (8, 16 or 32 bpp)</p>
<p>Notes: (1) This does a convolution with a separable kernel that is is a sequence of convolutions in x and y. The two one-dimensional kernel components must be input separately; the full kernel is the product of these components. The support for the full kernel is thus a rectangular region. (2) The input pixs must have only one sample/pixel. To do a convolution on an RGB image, use pixConvolveSepRGB(). (3) The parameter  determines the depth of the result. If the kernel is normalized to unit sum, the output values can never exceed 255, so an output depth of 8 bpp is sufficient. If the kernel is not normalized, it may be necessary to use 16 or 32 bpp output to avoid overflow. (2) The  parameter is used as in <a class="el" href="convolve_8c.html#a7d04971b4f30892631c6b8cde98f16c4">pixConvolve()</a>. (4) The kernel values can be positive or negative, but the result for the convolution can only be stored as a positive number. Consequently, if it goes negative, the choices are to clip to 0 or take the absolute value. We're choosing the former for now. Another possibility would be to output a second unsigned image for the negative values. (5) Warning: if you use <a class="el" href="convolve_8c.html#a543095511eaef1d65f1b5126d0088f43">l_setConvolveSampling()</a> to get a subsampled output, and the sampling factor is larger than the kernel half-width, it is faster to use the non-separable version <a class="el" href="convolve_8c.html#a7d04971b4f30892631c6b8cde98f16c4">pixConvolve()</a>. This is because the first convolution here must be done on every raster line, regardless of the vertical sampling factor. If the sampling factor is smaller than kernel half-width, it's faster to use the separable convolution. (6) This uses mirrored borders to avoid special casing on the boundaries. </p>

<p>Definition at line <a class="el" href="convolve_8c_source.html#l01484">1484</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>References <a class="el" href="convolve_8c_source.html#l00070">ConvolveSamplingFactX</a>, <a class="el" href="convolve_8c_source.html#l00071">ConvolveSamplingFactY</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="kernel_8c_source.html#l00116">kernelDestroy()</a>, <a class="el" href="kernel_8c_source.html#l00380">kernelNormalize()</a>, <a class="el" href="convolve_8c_source.html#l01816">l_setConvolveSampling()</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="convolve_8c_source.html#l01357">pixConvolve()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="fpix__reg_8c_source.html#l00032">main()</a>, and <a class="el" href="convolve_8c_source.html#l01612">pixConvolveRGBSep()</a>.</p>

</div>
</div>
<a class="anchor" id="a08c75156812a94e72f48dbc16fff5259"></a><!-- doxytag: member="convolve.c::pixConvolveRGB" ref="a08c75156812a94e72f48dbc16fff5259" args="(PIX *pixs, L_KERNEL *kel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixConvolveRGB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_l___kernel.html">L_KERNEL</a> *&#160;</td>
          <td class="paramname"><em>kel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="convolve_8c.html#a08c75156812a94e72f48dbc16fff5259">pixConvolveRGB()</a></p>
<p>Input: pixs (32 bpp rgb) kernel Return: pixd (32 bpp rgb)</p>
<p>Notes: (1) This gives a convolution on an RGB image using an arbitrary kernel (which we normalize to keep each component within the range [0 ... 255]. (2) The input pixs must be RGB. (3) The kernel values can be positive or negative, but the result for the convolution can only be stored as a positive number. Consequently, if it goes negative, we clip the result to 0. (4) To get a subsampled output, call <a class="el" href="convolve_8c.html#a543095511eaef1d65f1b5126d0088f43">l_setConvolveSampling()</a>. The time to make a subsampled output is reduced by the product of the sampling factors. (5) This uses a mirrored border to avoid special casing on the boundaries. </p>

<p>Definition at line <a class="el" href="convolve_8c_source.html#l01555">1555</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>References <a class="el" href="pix_8h_source.html#l00145">COLOR_BLUE</a>, <a class="el" href="pix_8h_source.html#l00144">COLOR_GREEN</a>, <a class="el" href="pix_8h_source.html#l00143">COLOR_RED</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="convolve_8c_source.html#l01357">pixConvolve()</a>, <a class="el" href="pix2_8c_source.html#l01827">pixCreateRGBImage()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix2_8c_source.html#l01883">pixGetRGBComponent()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="fpix__reg_8c_source.html#l00032">main()</a>.</p>

</div>
</div>
<a class="anchor" id="af21e391cd6262f83fae79c0acf0822c4"></a><!-- doxytag: member="convolve.c::pixConvolveRGBSep" ref="af21e391cd6262f83fae79c0acf0822c4" args="(PIX *pixs, L_KERNEL *kelx, L_KERNEL *kely)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixConvolveRGBSep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_l___kernel.html">L_KERNEL</a> *&#160;</td>
          <td class="paramname"><em>kelx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_l___kernel.html">L_KERNEL</a> *&#160;</td>
          <td class="paramname"><em>kely</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="convolve_8c.html#af21e391cd6262f83fae79c0acf0822c4">pixConvolveRGBSep()</a></p>
<p>Input: pixs (32 bpp rgb) kelx (x-dependent kernel) kely (y-dependent kernel) Return: pixd (32 bpp rgb)</p>
<p>Notes: (1) This does a convolution on an RGB image using a separable kernel that is a sequence of convolutions in x and y. The two one-dimensional kernel components must be input separately; the full kernel is the product of these components. The support for the full kernel is thus a rectangular region. (2) The kernel values can be positive or negative, but the result for the convolution can only be stored as a positive number. Consequently, if it goes negative, we clip the result to 0. (3) To get a subsampled output, call <a class="el" href="convolve_8c.html#a543095511eaef1d65f1b5126d0088f43">l_setConvolveSampling()</a>. The time to make a subsampled output is reduced by the product of the sampling factors. (4) This uses a mirrored border to avoid special casing on the boundaries. </p>

<p>Definition at line <a class="el" href="convolve_8c_source.html#l01612">1612</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>References <a class="el" href="pix_8h_source.html#l00145">COLOR_BLUE</a>, <a class="el" href="pix_8h_source.html#l00144">COLOR_GREEN</a>, <a class="el" href="pix_8h_source.html#l00143">COLOR_RED</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="convolve_8c_source.html#l01484">pixConvolveSep()</a>, <a class="el" href="pix2_8c_source.html#l01827">pixCreateRGBImage()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix2_8c_source.html#l01883">pixGetRGBComponent()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="fpix__reg_8c_source.html#l00032">main()</a>.</p>

</div>
</div>
<a class="anchor" id="aa42a89d77483b72c6b123743c6330b4b"></a><!-- doxytag: member="convolve.c::fpixConvolve" ref="aa42a89d77483b72c6b123743c6330b4b" args="(FPIX *fpixs, L_KERNEL *kel, l_int32 normflag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_f_pix.html">FPIX</a>* fpixConvolve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_pix.html">FPIX</a> *&#160;</td>
          <td class="paramname"><em>fpixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_l___kernel.html">L_KERNEL</a> *&#160;</td>
          <td class="paramname"><em>kel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>normflag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="convolve_8c.html#aa42a89d77483b72c6b123743c6330b4b">fpixConvolve()</a></p>
<p>Input: fpixs (32 bit float array) kernel normflag (1 to normalize kernel to unit sum; 0 otherwise) Return: fpixd (32 bit float array)</p>
<p>Notes: (1) This gives a float convolution with an arbitrary kernel. (2) If normflag == 1, the result is normalized by scaling all kernel values for a unit sum. Do not normalize if the kernel has null sum, such as a DoG. (3) With the <a class="el" href="struct_f_pix.html">FPix</a>, there are no issues about negative array or kernel values. The convolution is performed with single precision arithmetic. (4) To get a subsampled output, call <a class="el" href="convolve_8c.html#a543095511eaef1d65f1b5126d0088f43">l_setConvolveSampling()</a>. The time to make a subsampled output is reduced by the product of the sampling factors. (5) This uses a mirrored border to avoid special casing on the boundaries. </p>

<p>Definition at line <a class="el" href="convolve_8c_source.html#l01671">1671</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>References <a class="el" href="convolve_8c_source.html#l00070">ConvolveSamplingFactX</a>, <a class="el" href="convolve_8c_source.html#l00071">ConvolveSamplingFactY</a>, <a class="el" href="morph_8h_source.html#l00079">L_Kernel::data</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="fpix2_8c_source.html#l00614">fpixAddMirroredBorder()</a>, <a class="el" href="fpix1_8c_source.html#l00125">fpixCreate()</a>, <a class="el" href="fpix1_8c_source.html#l00326">fpixDestroy()</a>, <a class="el" href="fpix1_8c_source.html#l00499">fpixGetData()</a>, <a class="el" href="fpix1_8c_source.html#l00365">fpixGetDimensions()</a>, <a class="el" href="fpix1_8c_source.html#l00402">fpixGetWpl()</a>, <a class="el" href="kernel_8c_source.html#l00147">kernelCopy()</a>, <a class="el" href="kernel_8c_source.html#l00116">kernelDestroy()</a>, <a class="el" href="kernel_8c_source.html#l00242">kernelGetParameters()</a>, <a class="el" href="kernel_8c_source.html#l00424">kernelInvert()</a>, <a class="el" href="kernel_8c_source.html#l00380">kernelNormalize()</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="convolve_8c_source.html#l01758">fpixConvolveSep()</a>, and <a class="el" href="fpix__reg_8c_source.html#l00032">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ae2148272bc20c4d1ca72b98beb1cde7e"></a><!-- doxytag: member="convolve.c::fpixConvolveSep" ref="ae2148272bc20c4d1ca72b98beb1cde7e" args="(FPIX *fpixs, L_KERNEL *kelx, L_KERNEL *kely, l_int32 normflag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_f_pix.html">FPIX</a>* fpixConvolveSep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_f_pix.html">FPIX</a> *&#160;</td>
          <td class="paramname"><em>fpixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_l___kernel.html">L_KERNEL</a> *&#160;</td>
          <td class="paramname"><em>kelx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_l___kernel.html">L_KERNEL</a> *&#160;</td>
          <td class="paramname"><em>kely</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>normflag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="convolve_8c.html#ae2148272bc20c4d1ca72b98beb1cde7e">fpixConvolveSep()</a></p>
<p>Input: fpixs (32 bit float array) kelx (x-dependent kernel) kely (y-dependent kernel) normflag (1 to normalize kernel to unit sum; 0 otherwise) Return: fpixd (32 bit float array)</p>
<p>Notes: (1) This does a convolution with a separable kernel that is is a sequence of convolutions in x and y. The two one-dimensional kernel components must be input separately; the full kernel is the product of these components. The support for the full kernel is thus a rectangular region. (2) The normflag parameter is used as in <a class="el" href="convolve_8c.html#aa42a89d77483b72c6b123743c6330b4b">fpixConvolve()</a>. (3) Warning: if you use <a class="el" href="convolve_8c.html#a543095511eaef1d65f1b5126d0088f43">l_setConvolveSampling()</a> to get a subsampled output, and the sampling factor is larger than the kernel half-width, it is faster to use the non-separable version <a class="el" href="convolve_8c.html#a7d04971b4f30892631c6b8cde98f16c4">pixConvolve()</a>. This is because the first convolution here must be done on every raster line, regardless of the vertical sampling factor. If the sampling factor is smaller than kernel half-width, it's faster to use the separable convolution. (4) This uses mirrored borders to avoid special casing on the boundaries. </p>

<p>Definition at line <a class="el" href="convolve_8c_source.html#l01758">1758</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>References <a class="el" href="convolve_8c_source.html#l00070">ConvolveSamplingFactX</a>, <a class="el" href="convolve_8c_source.html#l00071">ConvolveSamplingFactY</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="convolve_8c_source.html#l01671">fpixConvolve()</a>, <a class="el" href="fpix1_8c_source.html#l00326">fpixDestroy()</a>, <a class="el" href="kernel_8c_source.html#l00116">kernelDestroy()</a>, <a class="el" href="kernel_8c_source.html#l00380">kernelNormalize()</a>, <a class="el" href="convolve_8c_source.html#l01816">l_setConvolveSampling()</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="fpix__reg_8c_source.html#l00032">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a543095511eaef1d65f1b5126d0088f43"></a><!-- doxytag: member="convolve.c::l_setConvolveSampling" ref="a543095511eaef1d65f1b5126d0088f43" args="(l_int32 xfact, l_int32 yfact)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void l_setConvolveSampling </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>xfact</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>yfact</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="convolve_8c.html#a543095511eaef1d65f1b5126d0088f43">l_setConvolveSampling()</a></p>
<p>Input: xfact, yfact (integer &gt;= 1) Return: void</p>
<p>Notes: (1) This sets the x and y output subsampling factors for generic pix and fpix convolution. The default values are 1 (no subsampling). </p>

<p>Definition at line <a class="el" href="convolve_8c_source.html#l01816">1816</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>References <a class="el" href="convolve_8c_source.html#l00070">ConvolveSamplingFactX</a>, and <a class="el" href="convolve_8c_source.html#l00071">ConvolveSamplingFactY</a>.</p>

<p>Referenced by <a class="el" href="convolve_8c_source.html#l01758">fpixConvolveSep()</a>, <a class="el" href="fpix__reg_8c_source.html#l00032">main()</a>, and <a class="el" href="convolve_8c_source.html#l01484">pixConvolveSep()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a965992dcd95d181f0edbc4f427acda1a"></a><!-- doxytag: member="convolve.c::ConvolveSamplingFactX" ref="a965992dcd95d181f0edbc4f427acda1a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LEPT_DLL <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> <a class="el" href="convolve_8c.html#a965992dcd95d181f0edbc4f427acda1a">ConvolveSamplingFactX</a> = 1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="convolve_8c_source.html#l00070">70</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>Referenced by <a class="el" href="convolve_8c_source.html#l01671">fpixConvolve()</a>, <a class="el" href="convolve_8c_source.html#l01758">fpixConvolveSep()</a>, <a class="el" href="convolve_8c_source.html#l01816">l_setConvolveSampling()</a>, <a class="el" href="convolve_8c_source.html#l01357">pixConvolve()</a>, and <a class="el" href="convolve_8c_source.html#l01484">pixConvolveSep()</a>.</p>

</div>
</div>
<a class="anchor" id="afa0fc932e68cb941244acd962730fcec"></a><!-- doxytag: member="convolve.c::ConvolveSamplingFactY" ref="afa0fc932e68cb941244acd962730fcec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LEPT_DLL <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> <a class="el" href="convolve_8c.html#afa0fc932e68cb941244acd962730fcec">ConvolveSamplingFactY</a> = 1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="convolve_8c_source.html#l00071">71</a> of file <a class="el" href="convolve_8c_source.html">convolve.c</a>.</p>

<p>Referenced by <a class="el" href="convolve_8c_source.html#l01671">fpixConvolve()</a>, <a class="el" href="convolve_8c_source.html#l01758">fpixConvolveSep()</a>, <a class="el" href="convolve_8c_source.html#l01816">l_setConvolveSampling()</a>, <a class="el" href="convolve_8c_source.html#l01357">pixConvolve()</a>, and <a class="el" href="convolve_8c_source.html#l01484">pixConvolveSep()</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="convolve_8c.html">convolve.c</a>      </li>
      <li class="footer">Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
