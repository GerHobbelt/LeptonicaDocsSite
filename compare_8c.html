<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Leptonica: src/compare.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="moller52-tiny.jpg"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Leptonica&#160;<span id="projectnumber">1.68</span></div>
   <div id="projectbrief">C Image Processing Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('compare_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>compare.c File Reference</h1>  </div>
</div>
<div class="contents">

<p><a class="el" href="struct_pix.html">Pix</a> equality, binary <a class="el" href="struct_pix.html">Pix</a> correlation, image differences.  
<a href="#_details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;math.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="allheaders_8h_source.html">allheaders.h</a>&quot;</code><br/>
</div>
<p><a href="compare_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compare_8c.html#a1c9bd362d963e6bd000573717472bfd0">pixEqual</a> (<a class="el" href="struct_pix.html">PIX</a> *pix1, <a class="el" href="struct_pix.html">PIX</a> *pix2, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *psame)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compare_8c.html#a0466567ebefbeba3160781fc78fc012e">pixEqualWithCmap</a> (<a class="el" href="struct_pix.html">PIX</a> *pix1, <a class="el" href="struct_pix.html">PIX</a> *pix2, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *psame)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compare_8c.html#ae466549541e925734dbae31836a02d40">pixUsesCmapColor</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *pcolor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compare_8c.html#ab6f8ae6e20f0e20d87f5a44e963b5069">pixCorrelationBinary</a> (<a class="el" href="struct_pix.html">PIX</a> *pix1, <a class="el" href="struct_pix.html">PIX</a> *pix2, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *pval)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compare_8c.html#a81117e5b546bad8b9cbcbde7772d53bd">pixDisplayDiffBinary</a> (<a class="el" href="struct_pix.html">PIX</a> *pix1, <a class="el" href="struct_pix.html">PIX</a> *pix2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compare_8c.html#ab0a6cf8252b12bb8463bb2ed3591c690">pixCompareBinary</a> (<a class="el" href="struct_pix.html">PIX</a> *pix1, <a class="el" href="struct_pix.html">PIX</a> *pix2, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> comptype, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *pfract, <a class="el" href="struct_pix.html">PIX</a> **ppixdiff)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compare_8c.html#ac848dec74d7817a071e2ad1ee87e5e94">pixCompareGrayOrRGB</a> (<a class="el" href="struct_pix.html">PIX</a> *pix1, <a class="el" href="struct_pix.html">PIX</a> *pix2, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> comptype, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> plottype, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *psame, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *pdiff, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *prmsdiff, <a class="el" href="struct_pix.html">PIX</a> **ppixdiff)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compare_8c.html#a64ad3b50c11cf3c62a3c43cf226c589f">pixCompareGray</a> (<a class="el" href="struct_pix.html">PIX</a> *pix1, <a class="el" href="struct_pix.html">PIX</a> *pix2, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> comptype, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> plottype, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *psame, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *pdiff, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *prmsdiff, <a class="el" href="struct_pix.html">PIX</a> **ppixdiff)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compare_8c.html#aa892ed0d7f8e8f4f26dc6eb91b1c90d0">pixCompareRGB</a> (<a class="el" href="struct_pix.html">PIX</a> *pix1, <a class="el" href="struct_pix.html">PIX</a> *pix2, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> comptype, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> plottype, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *psame, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *pdiff, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *prmsdiff, <a class="el" href="struct_pix.html">PIX</a> **ppixdiff)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compare_8c.html#a0b919b979cc727221476a89485cc39f4">pixCompareTiled</a> (<a class="el" href="struct_pix.html">PIX</a> *pix1, <a class="el" href="struct_pix.html">PIX</a> *pix2, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> sx, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> sy, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> type, <a class="el" href="struct_pix.html">PIX</a> **ppixdiff)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_numa.html">NUMA</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compare_8c.html#a558f0dab241bfa95b13de8bc8a86e437">pixCompareRankDifference</a> (<a class="el" href="struct_pix.html">PIX</a> *pix1, <a class="el" href="struct_pix.html">PIX</a> *pix2, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> factor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compare_8c.html#ad5e05b75f5bff4c9d1b7851c865af6f8">pixTestForSimilarity</a> (<a class="el" href="struct_pix.html">PIX</a> *pix1, <a class="el" href="struct_pix.html">PIX</a> *pix2, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> factor, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> mindiff, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> maxfract, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> maxave, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *psimilar, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> printstats)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compare_8c.html#a47f9b27b782946e3fcf75a7e3b9d9a17">pixGetDifferenceStats</a> (<a class="el" href="struct_pix.html">PIX</a> *pix1, <a class="el" href="struct_pix.html">PIX</a> *pix2, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> factor, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> mindiff, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *pfractdiff, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *pavediff, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> printstats)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_numa.html">NUMA</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compare_8c.html#a945852f949e9c7b9f8f959df19e53733">pixGetDifferenceHistogram</a> (<a class="el" href="struct_pix.html">PIX</a> *pix1, <a class="el" href="struct_pix.html">PIX</a> *pix2, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> factor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compare_8c.html#ad8578ab874b224b2f2482ef02ee5cb13">pixGetPSNR</a> (<a class="el" href="struct_pix.html">PIX</a> *pix1, <a class="el" href="struct_pix.html">PIX</a> *pix2, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> factor, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *ppsnr)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compare_8c.html#aedc2c6c9059edca729b56d56e94afaf0">TINY</a> = 0.00001</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="struct_pix.html">Pix</a> equality, binary <a class="el" href="struct_pix.html">Pix</a> correlation, image differences. </p>
<div class="fragment"><pre class="fragment">    Test <span class="keywordflow">for</span> pix equality
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>     <a class="code" href="compare_8c.html#a1c9bd362d963e6bd000573717472bfd0">pixEqual</a>()
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>     <a class="code" href="compare_8c.html#a0466567ebefbeba3160781fc78fc012e">pixEqualWithCmap</a>()
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>     <a class="code" href="compare_8c.html#ae466549541e925734dbae31836a02d40">pixUsesCmapColor</a>()

    Binary correlation
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>     <a class="code" href="compare_8c.html#ab6f8ae6e20f0e20d87f5a44e963b5069">pixCorrelationBinary</a>()

    Difference of two images of same <a class="code" href="warper__reg_8c.html#a711275dc7bbe85bb6fa721bc60b8637c">size</a>
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>     <a class="code" href="compare_8c.html#a81117e5b546bad8b9cbcbde7772d53bd">pixDisplayDiffBinary</a>()
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>     <a class="code" href="compare_8c.html#ab0a6cf8252b12bb8463bb2ed3591c690">pixCompareBinary</a>()
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>     <a class="code" href="compare_8c.html#ac848dec74d7817a071e2ad1ee87e5e94">pixCompareGrayOrRGB</a>()
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>     <a class="code" href="compare_8c.html#a64ad3b50c11cf3c62a3c43cf226c589f">pixCompareGray</a>()
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>     <a class="code" href="compare_8c.html#aa892ed0d7f8e8f4f26dc6eb91b1c90d0">pixCompareRGB</a>()
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>     <a class="code" href="compare_8c.html#a0b919b979cc727221476a89485cc39f4">pixCompareTiled</a>()

    Other measures of the difference of two images of the same <a class="code" href="warper__reg_8c.html#a711275dc7bbe85bb6fa721bc60b8637c">size</a>
         <a class="code" href="struct_numa.html">NUMA</a>       *<a class="code" href="compare_8c.html#a558f0dab241bfa95b13de8bc8a86e437">pixCompareRankDifference</a>()
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>     pixTestforSimilarity()
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>     <a class="code" href="compare_8c.html#a47f9b27b782946e3fcf75a7e3b9d9a17">pixGetDifferenceStats</a>()
         <a class="code" href="struct_numa.html">NUMA</a>       *<a class="code" href="compare_8c.html#a945852f949e9c7b9f8f959df19e53733">pixGetDifferenceHistogram</a>()
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>     <a class="code" href="compare_8c.html#ad8578ab874b224b2f2482ef02ee5cb13">pixGetPSNR</a>()

    Translated images at the same resolution
         TODO
</pre></div> 
<p>Definition in file <a class="el" href="compare_8c_source.html">compare.c</a>.</p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a1c9bd362d963e6bd000573717472bfd0"></a><!-- doxytag: member="compare.c::pixEqual" ref="a1c9bd362d963e6bd000573717472bfd0" args="(PIX *pix1, PIX *pix2, l_int32 *psame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> pixEqual </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *&#160;</td>
          <td class="paramname"><em>psame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="compare_8c.html#a1c9bd362d963e6bd000573717472bfd0">pixEqual()</a></p>
<p>Input: pix1 pix2 &amp;same (&lt;return&gt; 1 if same; 0 if different) Return: 0 if OK; 1 on error</p>
<p>Notes: (1) Equality is defined as having the same pixel values for each respective image pixel. (2) This works on two pix of any depth. If one or both pix have a colormap, the depths can be different and the two pix can still be equal. (3) If both pix have colormaps and the depths are equal, use the <a class="el" href="compare_8c.html#a0466567ebefbeba3160781fc78fc012e">pixEqualWithCmap()</a> function, which does a fast comparison if the colormaps are identical and a relatively slow comparison otherwise. (4) In all other cases, any existing colormaps must first be removed before doing pixel comparison. After the colormaps are removed, the resulting two images must have the same depth. The "lowest common denominator" is RGB, but this is only chosen when necessary, or when both have colormaps but different depths. (5) For 32 bpp, ignore the bits in the 4th byte (the 'A' byte of the RGBA pixel) (6) For images without colormaps that are not 32 bpp, all bits in the image part of the data array must be identical. </p>

<p>Definition at line <a class="el" href="compare_8c_source.html#l00087">87</a> of file <a class="el" href="compare_8c_source.html">compare.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="environ_8h_source.html#l00179">FALSE</a>, <a class="el" href="environ_8h_source.html#l00263">L_INFO</a>, <a class="el" href="pix1_8c_source.html#l00440">pixClone()</a>, <a class="el" href="pixconv_8c_source.html#l02776">pixConvertLossless()</a>, <a class="el" href="pixconv_8c_source.html#l02297">pixConvertTo8()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="compare_8c_source.html#l00268">pixEqualWithCmap()</a>, <a class="el" href="pix1_8c_source.html#l01288">pixGetColormap()</a>, <a class="el" href="pix1_8c_source.html#l01358">pixGetData()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix1_8c_source.html#l00970">pixGetWpl()</a>, <a class="el" href="pixconv_8c_source.html#l00223">pixRemoveColormap()</a>, <a class="el" href="compare_8c_source.html#l00387">pixUsesCmapColor()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="pix_8h_source.html#l00180">REMOVE_CMAP_TO_FULL_COLOR</a>, and <a class="el" href="pix_8h_source.html#l00179">REMOVE_CMAP_TO_GRAYSCALE</a>.</p>

<p>Referenced by <a class="el" href="pixmem__reg_8c_source.html#l00172">Compare()</a>, <a class="el" href="lowaccess__reg_8c_source.html#l00269">compareResults()</a>, <a class="el" href="readfile_8c_source.html#l00986">ioFormatTest()</a>, <a class="el" href="binmorph1__reg_8c_source.html#l00060">main()</a>, <a class="el" href="pixafunc1_8c_source.html#l01507">pixaEqual()</a>, <a class="el" href="colormorphtest_8c_source.html#l00086">pixCompare()</a>, <a class="el" href="binmorph4__reg_8c_source.html#l00522">PixCompareDwa()</a>, <a class="el" href="seedfill_8c_source.html#l00193">pixSeedfillBinary()</a>, <a class="el" href="seedfill_8c_source.html#l00779">pixSeedfillGrayInvSimple()</a>, <a class="el" href="seedfill_8c_source.html#l00710">pixSeedfillGraySimple()</a>, <a class="el" href="morphapp_8c_source.html#l00859">pixSeedfillMorph()</a>, <a class="el" href="grayfill__reg_8c_source.html#l00133">PixTestEqual()</a>, <a class="el" href="ccthin_8c_source.html#l00231">pixThinGeneral()</a>, <a class="el" href="regutils_8c_source.html#l00225">regTestComparePix()</a>, <a class="el" href="gifio__reg_8c_source.html#l00139">test_gif()</a>, <a class="el" href="gifio__reg_8c_source.html#l00174">test_mem_gif()</a>, <a class="el" href="pngio__reg_8c_source.html#l00161">test_mem_png()</a>, <a class="el" href="ioformats__reg_8c_source.html#l00514">test_writemem()</a>, <a class="el" href="ioformats__reg_8c_source.html#l00464">testcomp()</a>, <a class="el" href="ioformats__reg_8c_source.html#l00493">testcomp_mem()</a>, and <a class="el" href="pixtile__reg_8c_source.html#l00053">TestTiling()</a>.</p>

</div>
</div>
<a class="anchor" id="a0466567ebefbeba3160781fc78fc012e"></a><!-- doxytag: member="compare.c::pixEqualWithCmap" ref="a0466567ebefbeba3160781fc78fc012e" args="(PIX *pix1, PIX *pix2, l_int32 *psame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> pixEqualWithCmap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *&#160;</td>
          <td class="paramname"><em>psame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="compare_8c.html#a0466567ebefbeba3160781fc78fc012e">pixEqualWithCmap()</a></p>
<p>Input: pix1 pix2 &amp;same Return: 0 if OK, 1 on error</p>
<p>Notes: (1) This returns same = TRUE if the images have identical content. (2) Both pix must have a colormap, and be of equal size and depth. If these conditions are not satisfied, it is not an error; the returned result is same = FALSE. (3) We then check whether the colormaps are the same; if so, the comparison proceeds 32 bits at a time. (4) If the colormaps are different, the comparison is done by slow brute force. </p>

<p>Definition at line <a class="el" href="compare_8c_source.html#l00268">268</a> of file <a class="el" href="compare_8c_source.html">compare.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="environ_8h_source.html#l00179">FALSE</a>, <a class="el" href="environ_8h_source.html#l00263">L_INFO</a>, <a class="el" href="colormap_8c_source.html#l00632">pixcmapGetColor()</a>, <a class="el" href="colormap_8c_source.html#l00517">pixcmapGetCount()</a>, <a class="el" href="pix1_8c_source.html#l01288">pixGetColormap()</a>, <a class="el" href="pix1_8c_source.html#l01358">pixGetData()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00833">pixGetHeight()</a>, <a class="el" href="pix2_8c_source.html#l00148">pixGetPixel()</a>, <a class="el" href="pix1_8c_source.html#l00803">pixGetWidth()</a>, <a class="el" href="pix1_8c_source.html#l00970">pixGetWpl()</a>, <a class="el" href="pix1_8c_source.html#l00680">pixSizesEqual()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, and <a class="el" href="environ_8h_source.html#l00175">TRUE</a>.</p>

<p>Referenced by <a class="el" href="compare_8c_source.html#l00087">pixEqual()</a>.</p>

</div>
</div>
<a class="anchor" id="ae466549541e925734dbae31836a02d40"></a><!-- doxytag: member="compare.c::pixUsesCmapColor" ref="ae466549541e925734dbae31836a02d40" args="(PIX *pixs, l_int32 *pcolor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> pixUsesCmapColor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *&#160;</td>
          <td class="paramname"><em>pcolor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="compare_8c.html#ae466549541e925734dbae31836a02d40">pixUsesCmapColor()</a></p>
<p>Input: pixs &amp;color (&lt;return&gt;) Return: 0 if OK, 1 on error</p>
<p>Notes: (1) This returns color = TRUE if three things are obtained: (a) the pix has a colormap (b) the colormap has at least one color entry (c) a color entry is actually used (2) It is used in <a class="el" href="compare_8c.html#a1c9bd362d963e6bd000573717472bfd0">pixEqual()</a> for comparing two images, in a situation where it is required to know if the colormap has color entries that are actually used in the image. </p>

<p>Definition at line <a class="el" href="compare_8c_source.html#l00387">387</a> of file <a class="el" href="compare_8c_source.html">compare.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="numabasic_8c_source.html#l00292">numaDestroy()</a>, <a class="el" href="numabasic_8c_source.html#l00647">numaGetIValue()</a>, <a class="el" href="colormap_8c_source.html#l00632">pixcmapGetColor()</a>, <a class="el" href="colormap_8c_source.html#l00517">pixcmapGetCount()</a>, <a class="el" href="colormap_8c_source.html#l00777">pixcmapHasColor()</a>, <a class="el" href="pix1_8c_source.html#l01288">pixGetColormap()</a>, <a class="el" href="pix4_8c_source.html#l00085">pixGetGrayHistogram()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="compare_8c_source.html#l00087">pixEqual()</a>.</p>

</div>
</div>
<a class="anchor" id="ab6f8ae6e20f0e20d87f5a44e963b5069"></a><!-- doxytag: member="compare.c::pixCorrelationBinary" ref="ab6f8ae6e20f0e20d87f5a44e963b5069" args="(PIX *pix1, PIX *pix2, l_float32 *pval)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> pixCorrelationBinary </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *&#160;</td>
          <td class="paramname"><em>pval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="compare_8c.html#ab6f8ae6e20f0e20d87f5a44e963b5069">pixCorrelationBinary()</a></p>
<p>Input: pix1 (1 bpp) pix2 (1 bpp) &amp;val (&lt;return&gt; correlation) Return: 0 if OK; 1 on error</p>
<p>Notes: (1) The correlation is a number between 0.0 and 1.0, based on foreground similarity: (|1 AND 2|)**2 correlation = -------------- |1| * |2| where |x| is the count of foreground pixels in image x. If the images are identical, this is 1.0. If they have no fg pixels in common, this is 0.0. If one or both images have no fg pixels, the correlation is 0.0. (2) Typically the two images are of equal size, but this is not enforced. Instead, the UL corners are be aligned. </p>

<p>Definition at line <a class="el" href="compare_8c_source.html#l00451">451</a> of file <a class="el" href="compare_8c_source.html">compare.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="environ_8h_source.html#l00216">FREE</a>, <a class="el" href="pix3_8c_source.html#l01807">makePixelSumTab8()</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix3_8c_source.html#l01113">pixAnd()</a>, <a class="el" href="pix3_8c_source.html#l01352">pixCountPixels()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

</div>
</div>
<a class="anchor" id="a81117e5b546bad8b9cbcbde7772d53bd"></a><!-- doxytag: member="compare.c::pixDisplayDiffBinary" ref="a81117e5b546bad8b9cbcbde7772d53bd" args="(PIX *pix1, PIX *pix2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixDisplayDiffBinary </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="compare_8c.html#a81117e5b546bad8b9cbcbde7772d53bd">pixDisplayDiffBinary()</a></p>
<p>Input: pix1 (1 bpp) pix2 (1 bpp) Return: pixd (4 bpp cmapped), or null on error</p>
<p>Notes: (1) This gives a color representation of the difference between pix1 and pix2. The color difference depends on the order. The pixels in pixd have 4 colors: * unchanged: black (on), white (off) * on in pix1, off in pix2: red * on in pix2, off in pix1: green (2) pix1 and pix2 must be the same size. </p>

<p>Definition at line <a class="el" href="compare_8c_source.html#l00500">500</a> of file <a class="el" href="compare_8c_source.html">compare.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix3_8c_source.html#l01113">pixAnd()</a>, <a class="el" href="colormap_8c_source.html#l00271">pixcmapAddColor()</a>, <a class="el" href="colormap_8c_source.html#l00085">pixcmapCreate()</a>, <a class="el" href="pix1_8c_source.html#l00269">pixCreate()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix3_8c_source.html#l00569">pixPaintThroughMask()</a>, <a class="el" href="pix1_8c_source.html#l01312">pixSetColormap()</a>, <a class="el" href="pix1_8c_source.html#l00680">pixSizesEqual()</a>, <a class="el" href="pix3_8c_source.html#l01238">pixSubtract()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, and <a class="el" href="maze__reg_8c_source.html#l00027">x0</a>.</p>

</div>
</div>
<a class="anchor" id="ab0a6cf8252b12bb8463bb2ed3591c690"></a><!-- doxytag: member="compare.c::pixCompareBinary" ref="ab0a6cf8252b12bb8463bb2ed3591c690" args="(PIX *pix1, PIX *pix2, l_int32 comptype, l_float32 *pfract, PIX **ppixdiff)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> pixCompareBinary </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>comptype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *&#160;</td>
          <td class="paramname"><em>pfract</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> **&#160;</td>
          <td class="paramname"><em>ppixdiff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="compare_8c.html#ab0a6cf8252b12bb8463bb2ed3591c690">pixCompareBinary()</a></p>
<p>Input: pix1 (1 bpp) pix2 (1 bpp) comptype (L_COMPARE_XOR, L_COMPARE_SUBTRACT) &amp;fract (&lt;return&gt; fraction of pixels that are different) &amp;pixdiff (&lt;optional return&gt;=""&gt; pix of difference) Return: 0 if OK; 1 on error</p>
<p>Notes: (1) The two images are aligned at the UL corner, and do not need to be the same size. (2) If using L_COMPARE_SUBTRACT, pix2 is subtracted from pix1. (3) The total number of pixels is determined by pix1. </p>

<p>Definition at line <a class="el" href="compare_8c_source.html#l00553">553</a> of file <a class="el" href="compare_8c_source.html">compare.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="morph_8h_source.html#l00197">L_COMPARE_SUBTRACT</a>, <a class="el" href="morph_8h_source.html#l00196">L_COMPARE_XOR</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix3_8c_source.html#l01352">pixCountPixels()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix3_8c_source.html#l01238">pixSubtract()</a>, <a class="el" href="pix3_8c_source.html#l01175">pixXor()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="comparetest_8c_source.html#l00049">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ac848dec74d7817a071e2ad1ee87e5e94"></a><!-- doxytag: member="compare.c::pixCompareGrayOrRGB" ref="ac848dec74d7817a071e2ad1ee87e5e94" args="(PIX *pix1, PIX *pix2, l_int32 comptype, l_int32 plottype, l_int32 *psame, l_float32 *pdiff, l_float32 *prmsdiff, PIX **ppixdiff)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> pixCompareGrayOrRGB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>comptype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>plottype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *&#160;</td>
          <td class="paramname"><em>psame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *&#160;</td>
          <td class="paramname"><em>pdiff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *&#160;</td>
          <td class="paramname"><em>prmsdiff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> **&#160;</td>
          <td class="paramname"><em>ppixdiff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="compare_8c.html#ac848dec74d7817a071e2ad1ee87e5e94">pixCompareGrayOrRGB()</a></p>
<p>Input: pix1 (8 or 16 bpp gray, 32 bpp rgb, or colormapped) pix2 (8 or 16 bpp gray, 32 bpp rgb, or colormapped) comptype (L_COMPARE_SUBTRACT, L_COMPARE_ABS_DIFF) plottype (gplot plot output type, or 0 for no plot) &amp;same (&lt;optional return&gt;=""&gt; 1 if pixel values are identical) &amp;diff (&lt;optional return&gt;=""&gt; average difference) &amp;rmsdiff (&lt;optional return&gt;=""&gt; rms of difference) &amp;pixdiff (&lt;optional return&gt;=""&gt; pix of difference) Return: 0 if OK; 1 on error</p>
<p>Notes: (1) The two images are aligned at the UL corner, and do not need to be the same size. If they are not the same size, the comparison will be made over overlapping pixels. (2) If there is a colormap, it is removed and the result is either gray or RGB depending on the colormap. (3) If RGB, each component is compared separately. (4) If type is L_COMPARE_ABS_DIFF, pix2 is subtracted from pix1 and the absolute value is taken. (5) If type is L_COMPARE_SUBTRACT, pix2 is subtracted from pix1 and the result is clipped to 0. (6) The plot output types are specified in <a class="el" href="gplot_8h.html" title="Struct and parameters for generating gnuplot files.">gplot.h</a>. Use 0 if no difference plot is to be made. (7) If the images are pixelwise identical, no difference plot is made, even if requested. The result (TRUE or FALSE) is optionally returned in the parameter 'same'. (8) The average difference (either subtracting or absolute value) is optionally returned in the parameter 'diff'. (9) The RMS difference is optionally returned in the parameter 'rmsdiff'. For RGB, we return the average of the RMS differences for each of the components. </p>

<p>Definition at line <a class="el" href="compare_8c_source.html#l00627">627</a> of file <a class="el" href="compare_8c_source.html">compare.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="morph_8h_source.html#l00198">L_COMPARE_ABS_DIFF</a>, <a class="el" href="morph_8h_source.html#l00197">L_COMPARE_SUBTRACT</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="gplot_8h_source.html#l00036">NUM_GPLOT_OUTPUTS</a>, <a class="el" href="compare_8c_source.html#l00694">pixCompareGray()</a>, <a class="el" href="compare_8c_source.html#l00787">pixCompareRGB()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l01288">pixGetColormap()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pixconv_8c_source.html#l00223">pixRemoveColormap()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, and <a class="el" href="pix_8h_source.html#l00181">REMOVE_CMAP_BASED_ON_SRC</a>.</p>

<p>Referenced by <a class="el" href="comparetest_8c_source.html#l00049">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a64ad3b50c11cf3c62a3c43cf226c589f"></a><!-- doxytag: member="compare.c::pixCompareGray" ref="a64ad3b50c11cf3c62a3c43cf226c589f" args="(PIX *pix1, PIX *pix2, l_int32 comptype, l_int32 plottype, l_int32 *psame, l_float32 *pdiff, l_float32 *prmsdiff, PIX **ppixdiff)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> pixCompareGray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>comptype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>plottype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *&#160;</td>
          <td class="paramname"><em>psame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *&#160;</td>
          <td class="paramname"><em>pdiff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *&#160;</td>
          <td class="paramname"><em>prmsdiff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> **&#160;</td>
          <td class="paramname"><em>ppixdiff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="compare_8c.html#a64ad3b50c11cf3c62a3c43cf226c589f">pixCompareGray()</a></p>
<p>Input: pix1 (8 or 16 bpp, not cmapped) pix2 (8 or 16 bpp, not cmapped) comptype (L_COMPARE_SUBTRACT, L_COMPARE_ABS_DIFF) plottype (gplot plot output type, or 0 for no plot) &amp;same (&lt;optional return&gt;=""&gt; 1 if pixel values are identical) &amp;diff (&lt;optional return&gt;=""&gt; average difference) &amp;rmsdiff (&lt;optional return&gt;=""&gt; rms of difference) &amp;pixdiff (&lt;optional return&gt;=""&gt; pix of difference) Return: 0 if OK; 1 on error</p>
<p>Notes: (1) See <a class="el" href="compare_8c.html#ac848dec74d7817a071e2ad1ee87e5e94">pixCompareGrayOrRGB()</a> for details. (2) Use <a class="el" href="compare_8c.html#ac848dec74d7817a071e2ad1ee87e5e94">pixCompareGrayOrRGB()</a> if the input pix are colormapped. </p>

<p>Definition at line <a class="el" href="compare_8c_source.html#l00694">694</a> of file <a class="el" href="compare_8c_source.html">compare.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="gplot_8h_source.html#l00029">GPLOT_LINES</a>, <a class="el" href="gplot_8c_source.html#l00241">gplotAddPlot()</a>, <a class="el" href="gplot_8c_source.html#l00126">gplotCreate()</a>, <a class="el" href="gplot_8c_source.html#l00185">gplotDestroy()</a>, <a class="el" href="gplot_8c_source.html#l00349">gplotMakeOutput()</a>, <a class="el" href="morph_8h_source.html#l00198">L_COMPARE_ABS_DIFF</a>, <a class="el" href="morph_8h_source.html#l00197">L_COMPARE_SUBTRACT</a>, <a class="el" href="pix_8h_source.html#l00761">L_MEAN_ABSVAL</a>, <a class="el" href="pix_8h_source.html#l00765">L_ROOT_MEAN_SQUARE</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="gplot_8h_source.html#l00036">NUM_GPLOT_OUTPUTS</a>, <a class="el" href="numafunc1_8c_source.html#l00890">numaClipToInterval()</a>, <a class="el" href="numabasic_8c_source.html#l00292">numaDestroy()</a>, <a class="el" href="numafunc1_8c_source.html#l00797">numaGetNonzeroRange()</a>, <a class="el" href="pixarith_8c_source.html#l00599">pixAbsDifference()</a>, <a class="el" href="pix1_8c_source.html#l00548">pixCopy()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix4_8c_source.html#l00868">pixGetAverageMasked()</a>, <a class="el" href="pix1_8c_source.html#l01288">pixGetColormap()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix4_8c_source.html#l00085">pixGetGrayHistogram()</a>, <a class="el" href="pixarith_8c_source.html#l00250">pixSubtractGray()</a>, <a class="el" href="pix3_8c_source.html#l01299">pixZero()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, and <a class="el" href="compare_8c_source.html#l00051">TINY</a>.</p>

<p>Referenced by <a class="el" href="convolvetest_8c_source.html#l00033">main()</a>, and <a class="el" href="compare_8c_source.html#l00627">pixCompareGrayOrRGB()</a>.</p>

</div>
</div>
<a class="anchor" id="aa892ed0d7f8e8f4f26dc6eb91b1c90d0"></a><!-- doxytag: member="compare.c::pixCompareRGB" ref="aa892ed0d7f8e8f4f26dc6eb91b1c90d0" args="(PIX *pix1, PIX *pix2, l_int32 comptype, l_int32 plottype, l_int32 *psame, l_float32 *pdiff, l_float32 *prmsdiff, PIX **ppixdiff)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> pixCompareRGB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>comptype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>plottype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *&#160;</td>
          <td class="paramname"><em>psame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *&#160;</td>
          <td class="paramname"><em>pdiff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *&#160;</td>
          <td class="paramname"><em>prmsdiff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> **&#160;</td>
          <td class="paramname"><em>ppixdiff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="compare_8c.html#aa892ed0d7f8e8f4f26dc6eb91b1c90d0">pixCompareRGB()</a></p>
<p>Input: pix1 (32 bpp rgb) pix2 (32 bpp rgb) comptype (L_COMPARE_SUBTRACT, L_COMPARE_ABS_DIFF) plottype (gplot plot output type, or 0 for no plot) &amp;same (&lt;optional return&gt;=""&gt; 1 if pixel values are identical) &amp;diff (&lt;optional return&gt;=""&gt; average difference) &amp;rmsdiff (&lt;optional return&gt;=""&gt; rms of difference) &amp;pixdiff (&lt;optional return&gt;=""&gt; pix of difference) Return: 0 if OK; 1 on error</p>
<p>Notes: (1) See <a class="el" href="compare_8c.html#ac848dec74d7817a071e2ad1ee87e5e94">pixCompareGrayOrRGB()</a> for details. </p>

<p>Definition at line <a class="el" href="compare_8c_source.html#l00787">787</a> of file <a class="el" href="compare_8c_source.html">compare.c</a>.</p>

<p>References <a class="el" href="pix_8h_source.html#l00145">COLOR_BLUE</a>, <a class="el" href="pix_8h_source.html#l00144">COLOR_GREEN</a>, <a class="el" href="pix_8h_source.html#l00143">COLOR_RED</a>, <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="gplot_8h_source.html#l00029">GPLOT_LINES</a>, <a class="el" href="gplot_8c_source.html#l00241">gplotAddPlot()</a>, <a class="el" href="gplot_8c_source.html#l00126">gplotCreate()</a>, <a class="el" href="gplot_8c_source.html#l00185">gplotDestroy()</a>, <a class="el" href="gplot_8c_source.html#l00349">gplotMakeOutput()</a>, <a class="el" href="morph_8h_source.html#l00198">L_COMPARE_ABS_DIFF</a>, <a class="el" href="morph_8h_source.html#l00197">L_COMPARE_SUBTRACT</a>, <a class="el" href="environ_8h_source.html#l00155">L_MAX</a>, <a class="el" href="pix_8h_source.html#l00761">L_MEAN_ABSVAL</a>, <a class="el" href="pix_8h_source.html#l00765">L_ROOT_MEAN_SQUARE</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="gplot_8h_source.html#l00036">NUM_GPLOT_OUTPUTS</a>, <a class="el" href="numafunc1_8c_source.html#l00890">numaClipToInterval()</a>, <a class="el" href="numabasic_8c_source.html#l00292">numaDestroy()</a>, <a class="el" href="numafunc1_8c_source.html#l00797">numaGetNonzeroRange()</a>, <a class="el" href="pixarith_8c_source.html#l00599">pixAbsDifference()</a>, <a class="el" href="pix2_8c_source.html#l01827">pixCreateRGBImage()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix4_8c_source.html#l00868">pixGetAverageMasked()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix4_8c_source.html#l00085">pixGetGrayHistogram()</a>, <a class="el" href="pix2_8c_source.html#l01883">pixGetRGBComponent()</a>, <a class="el" href="pixarith_8c_source.html#l00250">pixSubtractGray()</a>, <a class="el" href="pix3_8c_source.html#l01299">pixZero()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, and <a class="el" href="compare_8c_source.html#l00051">TINY</a>.</p>

<p>Referenced by <a class="el" href="compare_8c_source.html#l00627">pixCompareGrayOrRGB()</a>.</p>

</div>
</div>
<a class="anchor" id="a0b919b979cc727221476a89485cc39f4"></a><!-- doxytag: member="compare.c::pixCompareTiled" ref="a0b919b979cc727221476a89485cc39f4" args="(PIX *pix1, PIX *pix2, l_int32 sx, l_int32 sy, l_int32 type, PIX **ppixdiff)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> pixCompareTiled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>sx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>sy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> **&#160;</td>
          <td class="paramname"><em>ppixdiff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="compare_8c.html#a0b919b979cc727221476a89485cc39f4">pixCompareTiled()</a></p>
<p>Input: pix1 (8 bpp or 32 bpp rgb) pix2 (8 bpp 32 bpp rgb) sx, sy (tile size; must be &gt; 1) type (L_MEAN_ABSVAL or L_ROOT_MEAN_SQUARE) &amp;pixdiff (&lt;return&gt; pix of difference) Return: 0 if OK; 1 on error</p>
<p>Notes: (1) With L_MEAN_ABSVAL, we compute for each tile the average abs value of the pixel component difference between the two (aligned) images. With L_ROOT_MEAN_SQUARE, we compute instead the rms difference over all components. (2) The two input pix must be the same depth. Comparison is made using UL corner alignment. (3) For 32 bpp, the distance between corresponding tiles is found by averaging the measured difference over all three components of each pixel in the tile. (4) The result, pixdiff, contains one pixel for each source tile. </p>

<p>Definition at line <a class="el" href="compare_8c_source.html#l00930">930</a> of file <a class="el" href="compare_8c_source.html">compare.c</a>.</p>

<p>References <a class="el" href="pix_8h_source.html#l00145">COLOR_BLUE</a>, <a class="el" href="pix_8h_source.html#l00144">COLOR_GREEN</a>, <a class="el" href="pix_8h_source.html#l00143">COLOR_RED</a>, <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="pix_8h_source.html#l00761">L_MEAN_ABSVAL</a>, <a class="el" href="pix_8h_source.html#l00765">L_ROOT_MEAN_SQUARE</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pixarith_8c_source.html#l00599">pixAbsDifference()</a>, <a class="el" href="pixacc_8c_source.html#l00235">pixaccAdd()</a>, <a class="el" href="pixacc_8c_source.html#l00077">pixaccCreate()</a>, <a class="el" href="pixacc_8c_source.html#l00142">pixaccDestroy()</a>, <a class="el" href="pixacc_8c_source.html#l00174">pixaccFinal()</a>, <a class="el" href="pixacc_8c_source.html#l00279">pixaccMultConst()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix4_8c_source.html#l01058">pixGetAverageTiled()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix2_8c_source.html#l01883">pixGetRGBComponent()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

</div>
</div>
<a class="anchor" id="a558f0dab241bfa95b13de8bc8a86e437"></a><!-- doxytag: member="compare.c::pixCompareRankDifference" ref="a558f0dab241bfa95b13de8bc8a86e437" args="(PIX *pix1, PIX *pix2, l_int32 factor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_numa.html">NUMA</a>* pixCompareRankDifference </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>factor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="compare_8c.html#a558f0dab241bfa95b13de8bc8a86e437">pixCompareRankDifference()</a></p>
<p>Input: pix1 (8 bpp gray or 32 bpp rgb, or colormapped) pix2 (8 bpp gray or 32 bpp rgb, or colormapped) factor (subsampling factor; use 0 or 1 for no subsampling) Return: narank (numa of rank difference), or null on error</p>
<p>Notes: (1) This answers the question: if the pixel values in each component are compared by absolute difference, for any value of difference, what is the fraction of pixel pairs that have a difference of this magnitude or greater. For a difference of 0, the fraction is 1.0. In this sense, it is a mapping from pixel difference to rank order of difference. (2) The two images are aligned at the UL corner, and do not need to be the same size. If they are not the same size, the comparison will be made over overlapping pixels. (3) If there is a colormap, it is removed and the result is either gray or RGB depending on the colormap. (4) If RGB, pixel differences for each component are aggregated into a single histogram. </p>

<p>Definition at line <a class="el" href="compare_8c_source.html#l01022">1022</a> of file <a class="el" href="compare_8c_source.html">compare.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="pix_8h_source.html#l00602">L_NOCOPY</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="numabasic_8c_source.html#l00177">numaCreate()</a>, <a class="el" href="numabasic_8c_source.html#l00292">numaDestroy()</a>, <a class="el" href="numabasic_8c_source.html#l00781">numaGetFArray()</a>, <a class="el" href="numafunc2_8c_source.html#l00975">numaNormalizeHistogram()</a>, <a class="el" href="numabasic_8c_source.html#l00582">numaSetCount()</a>, <a class="el" href="compare_8c_source.html#l01274">pixGetDifferenceHistogram()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="comparetest_8c_source.html#l00049">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ad5e05b75f5bff4c9d1b7851c865af6f8"></a><!-- doxytag: member="compare.c::pixTestForSimilarity" ref="ad5e05b75f5bff4c9d1b7851c865af6f8" args="(PIX *pix1, PIX *pix2, l_int32 factor, l_int32 mindiff, l_float32 maxfract, l_float32 maxave, l_int32 *psimilar, l_int32 printstats)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> pixTestForSimilarity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>factor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>mindiff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>&#160;</td>
          <td class="paramname"><em>maxfract</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>&#160;</td>
          <td class="paramname"><em>maxave</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *&#160;</td>
          <td class="paramname"><em>psimilar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>printstats</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="compare_8c.html#ad5e05b75f5bff4c9d1b7851c865af6f8">pixTestForSimilarity()</a></p>
<p>Input: pix1 (8 bpp gray or 32 bpp rgb, or colormapped) pix2 (8 bpp gray or 32 bpp rgb, or colormapped) factor (subsampling factor; use 0 or 1 for no subsampling) mindiff (minimum pixel difference to be counted; &gt; 0) maxfract (maximum fraction of pixels allowed to have diff greater than or equal to mindiff) maxave (maximum average difference of pixels allowed for pixels with diff greater than or equal to mindiff, after subtracting mindiff) &amp;similar (&lt;return&gt; 1 if similar, 0 otherwise) printstats (use 1 to print normalized histogram to stderr) Return: 0 if OK, 1 on error</p>
<p>Notes: (1) This takes 2 pix that are the same size and determines using 3 input parameters if they are "similar". The first parameter  establishes a criterion of pixel-to-pixel similarity: two pixels are not similar if their difference in value is at least mindiff. Then  and  are thresholds on the number and distribution of dissimilar pixels allowed for the two pix to be similar. If the pix are to be similar, neither threshold can be exceeded. (2) In setting the  and  thresholds, you have these options: (a) Base the comparison only on . Then set  = 0.0 or 256.0. (If 0, we always ignore it.) (b) Base the comparison only on . Then set  = 1.0. (c) Base the comparison on both thresholds. (3) Example of values that can be expected at mindiff = 15 when comparing lossless png encoding with jpeg encoding, q=75: (smoothish bg) fractdiff = 0.01, avediff = 2.5 (natural scene) fractdiff = 0.13, avediff = 3.5 To identify these images as 'similar', select maxfract and maxave to be upper bounds of what you expect. (4) See <a class="el" href="compare_8c.html#a47f9b27b782946e3fcf75a7e3b9d9a17">pixGetDifferenceStats()</a> for a discussion of why we subtract mindiff from the computed average diff of the nonsimilar pixels to get the 'avediff' returned by that function. (5) If there is a colormap, it is removed and the result is either gray or RGB depending on the colormap. (6) If RGB, the maximum difference between pixel components is saved in the histogram. </p>

<p>Definition at line <a class="el" href="compare_8c_source.html#l01105">1105</a> of file <a class="el" href="compare_8c_source.html">compare.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="compare_8c_source.html#l01178">pixGetDifferenceStats()</a>, <a class="el" href="pix1_8c_source.html#l00680">pixSizesEqual()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="regutils_8c_source.html#l00280">regTestCompareSimilarPix()</a>.</p>

</div>
</div>
<a class="anchor" id="a47f9b27b782946e3fcf75a7e3b9d9a17"></a><!-- doxytag: member="compare.c::pixGetDifferenceStats" ref="a47f9b27b782946e3fcf75a7e3b9d9a17" args="(PIX *pix1, PIX *pix2, l_int32 factor, l_int32 mindiff, l_float32 *pfractdiff, l_float32 *pavediff, l_int32 printstats)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> pixGetDifferenceStats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>factor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>mindiff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *&#160;</td>
          <td class="paramname"><em>pfractdiff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *&#160;</td>
          <td class="paramname"><em>pavediff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>printstats</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="compare_8c.html#a47f9b27b782946e3fcf75a7e3b9d9a17">pixGetDifferenceStats()</a></p>
<p>Input: pix1 (8 bpp gray or 32 bpp rgb, or colormapped) pix2 (8 bpp gray or 32 bpp rgb, or colormapped) factor (subsampling factor; use 0 or 1 for no subsampling) mindiff (minimum pixel difference to be counted; &gt; 0) &amp;fractdiff (&lt;return&gt; fraction of pixels with diff greater than or equal to mindiff) &amp;avediff (&lt;return&gt; average difference of pixels with diff greater than or equal to mindiff, less mindiff) printstats (use 1 to print normalized histogram to stderr) Return: 0 if OK, 1 on error</p>
<p>Notes: (1) This takes a threshold  and describes the difference between two images in terms of two numbers: (a) the fraction of pixels, , whose difference equals or exceeds the threshold , and (b) the average value  of the difference in pixel value for the pixels in the set given by (a), after you subtract . The reason for subtracting  is that you then get a useful measure for the rate of falloff of the distribution for larger differences. For example, if  = 10 and you find that  = 2.5, it says that of the pixels with diff &gt; 10, the average of their diffs is just mindiff + 2.5 = 12.5. This is a fast falloff in the histogram with increasing difference. (2) The two images are aligned at the UL corner, and do not need to be the same size. If they are not the same size, the comparison will be made over overlapping pixels. (3) If there is a colormap, it is removed and the result is either gray or RGB depending on the colormap. (4) If RGB, the maximum difference between pixel components is saved in the histogram. </p>

<p>Definition at line <a class="el" href="compare_8c_source.html#l01178">1178</a> of file <a class="el" href="compare_8c_source.html">compare.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="environ_8h_source.html#l00151">L_MIN</a>, <a class="el" href="pix_8h_source.html#l00602">L_NOCOPY</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="numafunc1_8c_source.html#l00890">numaClipToInterval()</a>, <a class="el" href="numabasic_8c_source.html#l00292">numaDestroy()</a>, <a class="el" href="numabasic_8c_source.html#l00781">numaGetFArray()</a>, <a class="el" href="numafunc1_8c_source.html#l00797">numaGetNonzeroRange()</a>, <a class="el" href="numafunc2_8c_source.html#l00975">numaNormalizeHistogram()</a>, <a class="el" href="numabasic_8c_source.html#l01029">numaWriteStream()</a>, <a class="el" href="compare_8c_source.html#l01274">pixGetDifferenceHistogram()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="compare_8c_source.html#l01105">pixTestForSimilarity()</a>.</p>

</div>
</div>
<a class="anchor" id="a945852f949e9c7b9f8f959df19e53733"></a><!-- doxytag: member="compare.c::pixGetDifferenceHistogram" ref="a945852f949e9c7b9f8f959df19e53733" args="(PIX *pix1, PIX *pix2, l_int32 factor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_numa.html">NUMA</a>* pixGetDifferenceHistogram </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>factor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="compare_8c.html#a945852f949e9c7b9f8f959df19e53733">pixGetDifferenceHistogram()</a></p>
<p>Input: pix1 (8 bpp gray or 32 bpp rgb, or colormapped) pix2 (8 bpp gray or 32 bpp rgb, or colormapped) factor (subsampling factor; use 0 or 1 for no subsampling) Return: na (<a class="el" href="struct_numa.html">Numa</a> of histogram of differences), or null on error</p>
<p>Notes: (1) The two images are aligned at the UL corner, and do not need to be the same size. If they are not the same size, the comparison will be made over overlapping pixels. (2) If there is a colormap, it is removed and the result is either gray or RGB depending on the colormap. (3) If RGB, the maximum difference between pixel components is saved in the histogram. </p>

<p>Definition at line <a class="el" href="compare_8c_source.html#l01274">1274</a> of file <a class="el" href="compare_8c_source.html">compare.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="pix2_8c_source.html#l02108">extractRGBValues()</a>, <a class="el" href="arrayaccess_8h_source.html#l00118">GET_DATA_BYTE</a>, <a class="el" href="environ_8h_source.html#l00159">L_ABS</a>, <a class="el" href="environ_8h_source.html#l00155">L_MAX</a>, <a class="el" href="environ_8h_source.html#l00151">L_MIN</a>, <a class="el" href="pix_8h_source.html#l00602">L_NOCOPY</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="numabasic_8c_source.html#l00177">numaCreate()</a>, <a class="el" href="numabasic_8c_source.html#l00781">numaGetFArray()</a>, <a class="el" href="numabasic_8c_source.html#l00582">numaSetCount()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l01288">pixGetColormap()</a>, <a class="el" href="pix1_8c_source.html#l01358">pixGetData()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix1_8c_source.html#l00970">pixGetWpl()</a>, <a class="el" href="pixconv_8c_source.html#l00223">pixRemoveColormap()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, and <a class="el" href="pix_8h_source.html#l00181">REMOVE_CMAP_BASED_ON_SRC</a>.</p>

<p>Referenced by <a class="el" href="compare_8c_source.html#l01022">pixCompareRankDifference()</a>, and <a class="el" href="compare_8c_source.html#l01178">pixGetDifferenceStats()</a>.</p>

</div>
</div>
<a class="anchor" id="ad8578ab874b224b2f2482ef02ee5cb13"></a><!-- doxytag: member="compare.c::pixGetPSNR" ref="ad8578ab874b224b2f2482ef02ee5cb13" args="(PIX *pix1, PIX *pix2, l_int32 factor, l_float32 *ppsnr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> pixGetPSNR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>factor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> *&#160;</td>
          <td class="paramname"><em>ppsnr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="compare_8c.html#ad8578ab874b224b2f2482ef02ee5cb13">pixGetPSNR()</a></p>
<p>Input: pix1, pix2 (8 or 32 bpp; no colormap) factor (sampling factor; &gt;= 1) &amp;psnr (&lt;return&gt; power signal/noise ratio difference) Return: 0 if OK, 1 on error</p>
<p>Notes: (1) This computes the power S/N ratio, in dB, for the difference between two images. By convention, the power S/N for a grayscale image is ('log' == log base 10, and 'ln == log base e): PSNR = 10 * log((255/MSE)^2) = 4.3429 * ln((255/MSE)^2) = -4.3429 * ln((MSE/255)^2) where MSE is the mean squared error. </p>

<p>Definition at line <a class="el" href="compare_8c_source.html#l01377">1377</a> of file <a class="el" href="compare_8c_source.html">compare.c</a>.</p>

<p>References <a class="el" href="colorquant2_8c_source.html#l00176">L_Box3d::b1</a>, <a class="el" href="colorquant2_8c_source.html#l00177">L_Box3d::b2</a>, <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="pix2_8c_source.html#l02108">extractRGBValues()</a>, <a class="el" href="colorquant2_8c_source.html#l00174">L_Box3d::g1</a>, <a class="el" href="colorquant2_8c_source.html#l00175">L_Box3d::g2</a>, <a class="el" href="arrayaccess_8h_source.html#l00118">GET_DATA_BYTE</a>, <a class="el" href="pix1_8c_source.html#l01288">pixGetColormap()</a>, <a class="el" href="pix1_8c_source.html#l01358">pixGetData()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix1_8c_source.html#l00970">pixGetWpl()</a>, <a class="el" href="pix1_8c_source.html#l00680">pixSizesEqual()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="colorquant2_8c_source.html#l00172">L_Box3d::r1</a>, and <a class="el" href="colorquant2_8c_source.html#l00173">L_Box3d::r2</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="aedc2c6c9059edca729b56d56e94afaf0"></a><!-- doxytag: member="compare.c::TINY" ref="aedc2c6c9059edca729b56d56e94afaf0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> <a class="el" href="compare_8c.html#aedc2c6c9059edca729b56d56e94afaf0">TINY</a> = 0.00001<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="compare_8c_source.html#l00051">51</a> of file <a class="el" href="compare_8c_source.html">compare.c</a>.</p>

<p>Referenced by <a class="el" href="compare_8c_source.html#l00694">pixCompareGray()</a>, and <a class="el" href="compare_8c_source.html#l00787">pixCompareRGB()</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="compare_8c.html">compare.c</a>      </li>
      <li class="footer">Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
