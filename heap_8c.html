<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Leptonica: src/heap.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="moller52-tiny.jpg"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Leptonica&#160;<span id="projectnumber">1.68</span></div>
   <div id="projectbrief">C Image Processing Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('heap_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>heap.c File Reference</h1>  </div>
</div>
<div class="contents">

<p>Implements heap of generic pointers to structs that are keyed by a float, used for priority queue.  
<a href="#_details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="allheaders_8h_source.html">allheaders.h</a>&quot;</code><br/>
</div>
<p><a href="heap_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8c.html#a0f339091e6dd44421361dccaae7f6b3d">SWAP_ITEMS</a>(i, j)</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_l___heap.html">L_HEAP</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8c.html#a5a5c54761f5c78f115a98e1d7265df1b">lheapCreate</a> (<a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> nalloc, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> direction)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8c.html#a07c7aedd74a1193e13e06719be69d8d5">lheapDestroy</a> (<a class="el" href="struct_l___heap.html">L_HEAP</a> **plh, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> freeflag)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8c.html#abfc96d3a166aae8e05acf4b87174f7ca">lheapAdd</a> (<a class="el" href="struct_l___heap.html">L_HEAP</a> *lh, void *item)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8c.html#a19848651a94f9f6cc0b43787058bb39f">lheapExtendArray</a> (<a class="el" href="struct_l___heap.html">L_HEAP</a> *lh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8c.html#af0a3c4cde50e8067528ec8ae26ddd2fc">lheapRemove</a> (<a class="el" href="struct_l___heap.html">L_HEAP</a> *lh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8c.html#ad52bcb18e14862f4fcaa85ec1eb0a8c0">lheapGetCount</a> (<a class="el" href="struct_l___heap.html">L_HEAP</a> *lh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8c.html#ae1a0c07663eca05e17729a1e0d7489c1">lheapSwapUp</a> (<a class="el" href="struct_l___heap.html">L_HEAP</a> *lh, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8c.html#affe14f8da5aa64ccf074ad4e9a141d1f">lheapSwapDown</a> (<a class="el" href="struct_l___heap.html">L_HEAP</a> *lh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8c.html#a3d01958aa0cd233edeb3615234075ea1">lheapSort</a> (<a class="el" href="struct_l___heap.html">L_HEAP</a> *lh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8c.html#aaaec900faddafba56fa4ee7984fa3b84">lheapSortStrictOrder</a> (<a class="el" href="struct_l___heap.html">L_HEAP</a> *lh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8c.html#a1baaaafdd2ee3dc2e47b4d11d6693358">lheapPrint</a> (FILE *fp, <a class="el" href="struct_l___heap.html">L_HEAP</a> *lh)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8c.html#a8e9a330056ba8cdb661500ae6322f62a">MIN_BUFFER_SIZE</a> = 20</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8c.html#a7eecbb1282d9f0c0b88d1a9c622da329">INITIAL_BUFFER_ARRAYSIZE</a> = 128</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Implements heap of generic pointers to structs that are keyed by a float, used for priority queue. </p>

<p>Definition in file <a class="el" href="heap_8c_source.html">heap.c</a>.</p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="a0f339091e6dd44421361dccaae7f6b3d"></a><!-- doxytag: member="heap.c::SWAP_ITEMS" ref="a0f339091e6dd44421361dccaae7f6b3d" args="(i, j)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SWAP_ITEMS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">i, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">j&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">{ <span class="keywordtype">void</span> *tempitem = lh-&gt;array[(i)]; \
                                 lh-&gt;array[(i)] = lh-&gt;array[(j)]; \
                                 lh-&gt;array[(j)] = tempitem; }
</pre></div>
<p>Definition at line <a class="el" href="heap_8c_source.html#l00072">72</a> of file <a class="el" href="heap_8c_source.html">heap.c</a>.</p>

<p>Referenced by <a class="el" href="heap_8c_source.html#l00467">lheapSortStrictOrder()</a>, <a class="el" href="heap_8c_source.html#l00349">lheapSwapDown()</a>, and <a class="el" href="heap_8c_source.html#l00284">lheapSwapUp()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a5a5c54761f5c78f115a98e1d7265df1b"></a><!-- doxytag: member="heap.c::lheapCreate" ref="a5a5c54761f5c78f115a98e1d7265df1b" args="(l_int32 nalloc, l_int32 direction)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_l___heap.html">L_HEAP</a>* lheapCreate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>nalloc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="heap_8c.html#a5a5c54761f5c78f115a98e1d7265df1b">lheapCreate()</a></p>
<p>Input: size of ptr array to be alloc'd (0 for default) direction (L_SORT_INCREASING, L_SORT_DECREASING) Return: lheap, or null on error </p>

<p>Definition at line <a class="el" href="heap_8c_source.html#l00088">88</a> of file <a class="el" href="heap_8c_source.html">heap.c</a>.</p>

<p>References <a class="el" href="heap_8h_source.html#l00067">L_Heap::array</a>, <a class="el" href="environ_8h_source.html#l00214">CALLOC</a>, <a class="el" href="heap_8h_source.html#l00068">L_Heap::direction</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="heap_8c_source.html#l00069">MIN_BUFFER_SIZE</a>, <a class="el" href="heap_8h_source.html#l00066">L_Heap::n</a>, <a class="el" href="heap_8h_source.html#l00065">L_Heap::nalloc</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="partition_8c_source.html#l00168">boxaGetWhiteblocks()</a>, <a class="el" href="heap__reg_8c_source.html#l00034">main()</a>, <a class="el" href="colorquant2_8c_source.html#l00293">pixMedianCutQuantGeneral()</a>, <a class="el" href="colorquant1_8c_source.html#l01641">pixOctreeQuantByPopulation()</a>, <a class="el" href="colorquant1_8c_source.html#l02199">pixOctreeQuantNumColors()</a>, <a class="el" href="maze_8c_source.html#l00718">pixSearchGrayMaze()</a>, and <a class="el" href="watershed_8c_source.html#l00290">wshedApply()</a>.</p>

</div>
</div>
<a class="anchor" id="a07c7aedd74a1193e13e06719be69d8d5"></a><!-- doxytag: member="heap.c::lheapDestroy" ref="a07c7aedd74a1193e13e06719be69d8d5" args="(L_HEAP **plh, l_int32 freeflag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lheapDestroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l___heap.html">L_HEAP</a> **&#160;</td>
          <td class="paramname"><em>plh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>freeflag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="heap_8c.html#a07c7aedd74a1193e13e06719be69d8d5">lheapDestroy()</a></p>
<p>Input: &amp;lheap (&lt;to be="" nulled&gt;=""&gt;) freeflag (TRUE to free each remaining struct in the array) Return: void</p>
<p>Notes: (1) Use freeflag == TRUE when the items in the array can be simply destroyed using free. If those items require their own destroy function, they must be destroyed before calling this function, and then this function is called with freeflag == FALSE. (2) To destroy the lheap, we destroy the ptr array, then the lheap, and then null the contents of the input ptr. </p>

<p>Definition at line <a class="el" href="heap_8c_source.html#l00127">127</a> of file <a class="el" href="heap_8c_source.html">heap.c</a>.</p>

<p>References <a class="el" href="heap_8h_source.html#l00067">L_Heap::array</a>, <a class="el" href="environ_8h_source.html#l00216">FREE</a>, <a class="el" href="environ_8h_source.html#l00257">L_WARNING</a>, <a class="el" href="environ_8h_source.html#l00259">L_WARNING_INT</a>, <a class="el" href="heap_8h_source.html#l00066">L_Heap::n</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="partition_8c_source.html#l00168">boxaGetWhiteblocks()</a>, <a class="el" href="heap__reg_8c_source.html#l00034">main()</a>, <a class="el" href="colorquant2_8c_source.html#l00293">pixMedianCutQuantGeneral()</a>, <a class="el" href="colorquant1_8c_source.html#l01641">pixOctreeQuantByPopulation()</a>, <a class="el" href="colorquant1_8c_source.html#l02199">pixOctreeQuantNumColors()</a>, <a class="el" href="maze_8c_source.html#l00718">pixSearchGrayMaze()</a>, and <a class="el" href="watershed_8c_source.html#l00290">wshedApply()</a>.</p>

</div>
</div>
<a class="anchor" id="abfc96d3a166aae8e05acf4b87174f7ca"></a><!-- doxytag: member="heap.c::lheapAdd" ref="abfc96d3a166aae8e05acf4b87174f7ca" args="(L_HEAP *lh, void *item)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> lheapAdd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l___heap.html">L_HEAP</a> *&#160;</td>
          <td class="paramname"><em>lh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="heap_8c.html#abfc96d3a166aae8e05acf4b87174f7ca">lheapAdd()</a></p>
<p>Input: lheap item to be added to the tail of the heap Return: 0 if OK, 1 on error </p>

<p>Definition at line <a class="el" href="heap_8c_source.html#l00168">168</a> of file <a class="el" href="heap_8c_source.html">heap.c</a>.</p>

<p>References <a class="el" href="heap_8h_source.html#l00067">L_Heap::array</a>, <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="heap_8c_source.html#l00199">lheapExtendArray()</a>, <a class="el" href="heap_8c_source.html#l00284">lheapSwapUp()</a>, <a class="el" href="heap_8h_source.html#l00066">L_Heap::n</a>, <a class="el" href="heap_8h_source.html#l00065">L_Heap::nalloc</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="partition_8c_source.html#l00168">boxaGetWhiteblocks()</a>, <a class="el" href="heap__reg_8c_source.html#l00034">main()</a>, <a class="el" href="colorquant2_8c_source.html#l00293">pixMedianCutQuantGeneral()</a>, <a class="el" href="colorquant1_8c_source.html#l01641">pixOctreeQuantByPopulation()</a>, <a class="el" href="colorquant1_8c_source.html#l02199">pixOctreeQuantNumColors()</a>, <a class="el" href="maze_8c_source.html#l00718">pixSearchGrayMaze()</a>, and <a class="el" href="watershed_8c_source.html#l00889">pushWSPixel()</a>.</p>

</div>
</div>
<a class="anchor" id="a19848651a94f9f6cc0b43787058bb39f"></a><!-- doxytag: member="heap.c::lheapExtendArray" ref="a19848651a94f9f6cc0b43787058bb39f" args="(L_HEAP *lh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> lheapExtendArray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l___heap.html">L_HEAP</a> *&#160;</td>
          <td class="paramname"><em>lh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="heap_8c.html#a19848651a94f9f6cc0b43787058bb39f">lheapExtendArray()</a></p>
<p>Input: lheap Return: 0 if OK, 1 on error </p>

<p>Definition at line <a class="el" href="heap_8c_source.html#l00199">199</a> of file <a class="el" href="heap_8c_source.html">heap.c</a>.</p>

<p>References <a class="el" href="heap_8h_source.html#l00067">L_Heap::array</a>, <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="heap_8h_source.html#l00065">L_Heap::nalloc</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, and <a class="el" href="utils_8c_source.html#l01477">reallocNew()</a>.</p>

<p>Referenced by <a class="el" href="heap_8c_source.html#l00168">lheapAdd()</a>.</p>

</div>
</div>
<a class="anchor" id="af0a3c4cde50e8067528ec8ae26ddd2fc"></a><!-- doxytag: member="heap.c::lheapRemove" ref="af0a3c4cde50e8067528ec8ae26ddd2fc" args="(L_HEAP *lh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* lheapRemove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l___heap.html">L_HEAP</a> *&#160;</td>
          <td class="paramname"><em>lh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="heap_8c.html#af0a3c4cde50e8067528ec8ae26ddd2fc">lheapRemove()</a></p>
<p>Input: lheap Return: ptr to item popped from the root of the heap, or null if the heap is empty or on error </p>

<p>Definition at line <a class="el" href="heap_8c_source.html#l00224">224</a> of file <a class="el" href="heap_8c_source.html">heap.c</a>.</p>

<p>References <a class="el" href="heap_8h_source.html#l00067">L_Heap::array</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="heap_8c_source.html#l00349">lheapSwapDown()</a>, <a class="el" href="heap_8h_source.html#l00066">L_Heap::n</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="partition_8c_source.html#l00168">boxaGetWhiteblocks()</a>, <a class="el" href="heap__reg_8c_source.html#l00034">main()</a>, <a class="el" href="colorquant2_8c_source.html#l01422">pixcmapGenerateFromMedianCuts()</a>, <a class="el" href="colorquant2_8c_source.html#l00293">pixMedianCutQuantGeneral()</a>, <a class="el" href="colorquant1_8c_source.html#l01641">pixOctreeQuantByPopulation()</a>, <a class="el" href="colorquant1_8c_source.html#l02199">pixOctreeQuantNumColors()</a>, <a class="el" href="maze_8c_source.html#l00718">pixSearchGrayMaze()</a>, and <a class="el" href="watershed_8c_source.html#l00940">popWSPixel()</a>.</p>

</div>
</div>
<a class="anchor" id="ad52bcb18e14862f4fcaa85ec1eb0a8c0"></a><!-- doxytag: member="heap.c::lheapGetCount" ref="ad52bcb18e14862f4fcaa85ec1eb0a8c0" args="(L_HEAP *lh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> lheapGetCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l___heap.html">L_HEAP</a> *&#160;</td>
          <td class="paramname"><em>lh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="heap_8c.html#ad52bcb18e14862f4fcaa85ec1eb0a8c0">lheapGetCount()</a></p>
<p>Input: lheap Return: count, or 0 on error </p>

<p>Definition at line <a class="el" href="heap_8c_source.html#l00253">253</a> of file <a class="el" href="heap_8c_source.html">heap.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="heap_8h_source.html#l00066">L_Heap::n</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="heap_8c_source.html#l00349">lheapSwapDown()</a>, <a class="el" href="heap__reg_8c_source.html#l00034">main()</a>, <a class="el" href="colorquant2_8c_source.html#l01422">pixcmapGenerateFromMedianCuts()</a>, <a class="el" href="maze_8c_source.html#l00718">pixSearchGrayMaze()</a>, and <a class="el" href="watershed_8c_source.html#l00290">wshedApply()</a>.</p>

</div>
</div>
<a class="anchor" id="ae1a0c07663eca05e17729a1e0d7489c1"></a><!-- doxytag: member="heap.c::lheapSwapUp" ref="ae1a0c07663eca05e17729a1e0d7489c1" args="(L_HEAP *lh, l_int32 index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> lheapSwapUp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l___heap.html">L_HEAP</a> *&#160;</td>
          <td class="paramname"><em>lh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="heap_8c.html#ae1a0c07663eca05e17729a1e0d7489c1">lheapSwapUp()</a></p>
<p>Input: lh (heap) index (of array corresponding to node to be swapped up) Return: 0 if OK, 1 on error</p>
<p>Notes: (1) This is called after a new item is put on the heap, at the bottom of a complete tree. (2) To regain the heap order, we let it bubble up, iteratively swapping with its parent, until it either reaches the root of the heap or it finds a parent that is in the correct position already vis-a-vis the child. </p>

<p>Definition at line <a class="el" href="heap_8c_source.html#l00284">284</a> of file <a class="el" href="heap_8c_source.html">heap.c</a>.</p>

<p>References <a class="el" href="heap_8h_source.html#l00067">L_Heap::array</a>, <a class="el" href="heap_8h_source.html#l00068">L_Heap::direction</a>, <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="pix_8h_source.html#l00609">L_SORT_INCREASING</a>, <a class="el" href="heap_8h_source.html#l00066">L_Heap::n</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, and <a class="el" href="heap_8c_source.html#l00072">SWAP_ITEMS</a>.</p>

<p>Referenced by <a class="el" href="heap_8c_source.html#l00168">lheapAdd()</a>, and <a class="el" href="heap_8c_source.html#l00435">lheapSort()</a>.</p>

</div>
</div>
<a class="anchor" id="affe14f8da5aa64ccf074ad4e9a141d1f"></a><!-- doxytag: member="heap.c::lheapSwapDown" ref="affe14f8da5aa64ccf074ad4e9a141d1f" args="(L_HEAP *lh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> lheapSwapDown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l___heap.html">L_HEAP</a> *&#160;</td>
          <td class="paramname"><em>lh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="heap_8c.html#affe14f8da5aa64ccf074ad4e9a141d1f">lheapSwapDown()</a></p>
<p>Input: lh (heap) Return: 0 if OK, 1 on error</p>
<p>Notes: (1) This is called after an item has been popped off the root of the heap, and the last item in the heap has been placed at the root. (2) To regain the heap order, we let it bubble down, iteratively swapping with one of its children. For a decreasing sort, it swaps with the largest child; for an increasing sort, the smallest. This continues until it either reaches the lowest level in the heap, or the parent finds that neither child should swap with it (e.g., for a decreasing heap, the parent is larger than or equal to both children). </p>

<p>Definition at line <a class="el" href="heap_8c_source.html#l00349">349</a> of file <a class="el" href="heap_8c_source.html">heap.c</a>.</p>

<p>References <a class="el" href="heap_8h_source.html#l00067">L_Heap::array</a>, <a class="el" href="heap_8h_source.html#l00068">L_Heap::direction</a>, <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="pix_8h_source.html#l00609">L_SORT_INCREASING</a>, <a class="el" href="heap_8c_source.html#l00253">lheapGetCount()</a>, <a class="el" href="heap_8h_source.html#l00066">L_Heap::n</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, and <a class="el" href="heap_8c_source.html#l00072">SWAP_ITEMS</a>.</p>

<p>Referenced by <a class="el" href="heap_8c_source.html#l00224">lheapRemove()</a>, and <a class="el" href="heap_8c_source.html#l00467">lheapSortStrictOrder()</a>.</p>

</div>
</div>
<a class="anchor" id="a3d01958aa0cd233edeb3615234075ea1"></a><!-- doxytag: member="heap.c::lheapSort" ref="a3d01958aa0cd233edeb3615234075ea1" args="(L_HEAP *lh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> lheapSort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l___heap.html">L_HEAP</a> *&#160;</td>
          <td class="paramname"><em>lh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="heap_8c.html#a3d01958aa0cd233edeb3615234075ea1">lheapSort()</a></p>
<p>Input: lh (heap, with internal array) Return: 0 if OK, 1 on error</p>
<p>Notes: (1) This sorts an array into heap order. If the heap is already in heap order for the direction given, this has no effect. </p>

<p>Definition at line <a class="el" href="heap_8c_source.html#l00435">435</a> of file <a class="el" href="heap_8c_source.html">heap.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="heap_8c_source.html#l00284">lheapSwapUp()</a>, <a class="el" href="heap_8h_source.html#l00066">L_Heap::n</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="heap__reg_8c_source.html#l00034">main()</a>.</p>

</div>
</div>
<a class="anchor" id="aaaec900faddafba56fa4ee7984fa3b84"></a><!-- doxytag: member="heap.c::lheapSortStrictOrder" ref="aaaec900faddafba56fa4ee7984fa3b84" args="(L_HEAP *lh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> lheapSortStrictOrder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l___heap.html">L_HEAP</a> *&#160;</td>
          <td class="paramname"><em>lh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="heap_8c.html#aaaec900faddafba56fa4ee7984fa3b84">lheapSortStrictOrder()</a></p>
<p>Input: lh (heap, with internal array) Return: 0 if OK, 1 on error</p>
<p>Notes: (1) This sorts a heap into strict order. (2) For each element, starting at the end of the array and working forward, the element is swapped with the head element and then allowed to swap down onto a heap of size reduced by one. The result is that the heap is reversed but in strict order. The array elements are then reversed to put it in the original order. </p>

<p>Definition at line <a class="el" href="heap_8c_source.html#l00467">467</a> of file <a class="el" href="heap_8c_source.html">heap.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="heap_8c_source.html#l00349">lheapSwapDown()</a>, <a class="el" href="heap_8h_source.html#l00066">L_Heap::n</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="warper__reg_8c_source.html#l00027">size</a>, and <a class="el" href="heap_8c_source.html#l00072">SWAP_ITEMS</a>.</p>

<p>Referenced by <a class="el" href="heap__reg_8c_source.html#l00034">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a1baaaafdd2ee3dc2e47b4d11d6693358"></a><!-- doxytag: member="heap.c::lheapPrint" ref="a1baaaafdd2ee3dc2e47b4d11d6693358" args="(FILE *fp, L_HEAP *lh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> lheapPrint </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_l___heap.html">L_HEAP</a> *&#160;</td>
          <td class="paramname"><em>lh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="heap_8c.html#a1baaaafdd2ee3dc2e47b4d11d6693358">lheapPrint()</a></p>
<p>Input: stream lheap Return: 0 if OK; 1 on error </p>

<p>Definition at line <a class="el" href="heap_8c_source.html#l00504">504</a> of file <a class="el" href="heap_8c_source.html">heap.c</a>.</p>

<p>References <a class="el" href="heap_8h_source.html#l00067">L_Heap::array</a>, <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="heap_8h_source.html#l00066">L_Heap::n</a>, <a class="el" href="heap_8h_source.html#l00065">L_Heap::nalloc</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="heap__reg_8c_source.html#l00034">main()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a8e9a330056ba8cdb661500ae6322f62a"></a><!-- doxytag: member="heap.c::MIN_BUFFER_SIZE" ref="a8e9a330056ba8cdb661500ae6322f62a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> <a class="el" href="queue_8c.html#a8e9a330056ba8cdb661500ae6322f62a">MIN_BUFFER_SIZE</a> = 20<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="heap_8c_source.html#l00069">69</a> of file <a class="el" href="heap_8c_source.html">heap.c</a>.</p>

<p>Referenced by <a class="el" href="heap_8c_source.html#l00088">lheapCreate()</a>.</p>

</div>
</div>
<a class="anchor" id="a7eecbb1282d9f0c0b88d1a9c622da329"></a><!-- doxytag: member="heap.c::INITIAL_BUFFER_ARRAYSIZE" ref="a7eecbb1282d9f0c0b88d1a9c622da329" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> <a class="el" href="queue_8c.html#a7eecbb1282d9f0c0b88d1a9c622da329">INITIAL_BUFFER_ARRAYSIZE</a> = 128<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="heap_8c_source.html#l00070">70</a> of file <a class="el" href="heap_8c_source.html">heap.c</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="heap_8c.html">heap.c</a>      </li>
      <li class="footer">Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
