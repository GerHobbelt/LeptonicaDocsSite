<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Leptonica: src/bbuffer.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="moller52-tiny.jpg"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Leptonica&#160;<span id="projectnumber">1.68</span></div>
   <div id="projectbrief">C Image Processing Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('bbuffer_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>bbuffer.c File Reference</h1>  </div>
</div>
<div class="contents">

<p>Implements <a class="el" href="struct_byte_buffer.html">ByteBuffer</a>, a byte queue; used for zlib comp/decomp in memory.  
<a href="#_details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="allheaders_8h_source.html">allheaders.h</a>&quot;</code><br/>
</div>
<p><a href="bbuffer_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_byte_buffer.html">BBUFFER</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bbuffer_8c.html#af2e89a620293df2b2d182fa75f7d68f5">bbufferCreate</a> (<a class="el" href="environ_8h.html#a7ed60554e7d6dd89aca643189b1e70ad">l_uint8</a> *indata, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> nalloc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bbuffer_8c.html#aaa4b7610490a5f9315caf8ca4ce4b6f7">bbufferDestroy</a> (<a class="el" href="struct_byte_buffer.html">BBUFFER</a> **pbb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a7ed60554e7d6dd89aca643189b1e70ad">l_uint8</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bbuffer_8c.html#a82e32394162f7ffa65232b4b8e0ecbc6">bbufferDestroyAndSaveData</a> (<a class="el" href="struct_byte_buffer.html">BBUFFER</a> **pbb, size_t *pnbytes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bbuffer_8c.html#a5f36de071cd460f68c599a1232e997c4">bbufferRead</a> (<a class="el" href="struct_byte_buffer.html">BBUFFER</a> *bb, <a class="el" href="environ_8h.html#a7ed60554e7d6dd89aca643189b1e70ad">l_uint8</a> *src, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> nbytes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bbuffer_8c.html#a53ce8438f552001a98c63b70095daad4">bbufferReadStream</a> (<a class="el" href="struct_byte_buffer.html">BBUFFER</a> *bb, FILE *fp, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> nbytes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bbuffer_8c.html#a382d8bdb02b233891a4ca66c324932bd">bbufferExtendArray</a> (<a class="el" href="struct_byte_buffer.html">BBUFFER</a> *bb, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> nbytes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bbuffer_8c.html#a895afbf5ccdf4dceb379a53ae21304be">bbufferWrite</a> (<a class="el" href="struct_byte_buffer.html">BBUFFER</a> *bb, <a class="el" href="environ_8h.html#a7ed60554e7d6dd89aca643189b1e70ad">l_uint8</a> *dest, size_t nbytes, size_t *pnout)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bbuffer_8c.html#a0699cae890821473261aa5d733d4c083">bbufferWriteStream</a> (<a class="el" href="struct_byte_buffer.html">BBUFFER</a> *bb, FILE *fp, size_t nbytes, size_t *pnout)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bbuffer_8c.html#aef445771dcd739e44cbcc82d9c98be2f">bbufferBytesToWrite</a> (<a class="el" href="struct_byte_buffer.html">BBUFFER</a> *bb, size_t *pnbytes)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bbuffer_8c.html#a7eecbb1282d9f0c0b88d1a9c622da329">INITIAL_BUFFER_ARRAYSIZE</a> = 1024</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Implements <a class="el" href="struct_byte_buffer.html">ByteBuffer</a>, a byte queue; used for zlib comp/decomp in memory. </p>

<p>Definition in file <a class="el" href="bbuffer_8c_source.html">bbuffer.c</a>.</p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="af2e89a620293df2b2d182fa75f7d68f5"></a><!-- doxytag: member="bbuffer.c::bbufferCreate" ref="af2e89a620293df2b2d182fa75f7d68f5" args="(l_uint8 *indata, l_int32 nalloc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_byte_buffer.html">BBUFFER</a>* bbufferCreate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a7ed60554e7d6dd89aca643189b1e70ad">l_uint8</a> *&#160;</td>
          <td class="paramname"><em>indata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>nalloc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="bbuffer_8c.html#af2e89a620293df2b2d182fa75f7d68f5">bbufferCreate()</a></p>
<p>Input: buffer address in memory (&lt;optional&gt;) size of byte array to be alloc'd (0 for default) Return: bbuffer, or null on error</p>
<p>Notes: (1) If a buffer address is given, you should read all the data in. (2) Allocates a bbuffer with associated byte array of the given size. If a buffer address is given, it then reads the number of bytes into the byte array. </p>

<p>Definition at line <a class="el" href="bbuffer_8c_source.html#l00108">108</a> of file <a class="el" href="bbuffer_8c_source.html">bbuffer.c</a>.</p>

<p>References <a class="el" href="bbuffer_8h_source.html#l00041">ByteBuffer::array</a>, <a class="el" href="environ_8h_source.html#l00214">CALLOC</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="bbuffer_8c_source.html#l00088">INITIAL_BUFFER_ARRAYSIZE</a>, <a class="el" href="bbuffer_8h_source.html#l00039">ByteBuffer::n</a>, <a class="el" href="array_8h_source.html#l00100">L_Bytea::nalloc</a>, <a class="el" href="bbuffer_8h_source.html#l00038">ByteBuffer::nalloc</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="bbuffer_8h_source.html#l00040">ByteBuffer::nwritten</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="ccbord_8c_source.html#l02180">ccbaWriteStream()</a>, <a class="el" href="buffertest_8c_source.html#l00026">main()</a>, <a class="el" href="zlibmem_8c_source.html#l00073">zlibCompress()</a>, and <a class="el" href="zlibmem_8c_source.html#l00156">zlibUncompress()</a>.</p>

</div>
</div>
<a class="anchor" id="aaa4b7610490a5f9315caf8ca4ce4b6f7"></a><!-- doxytag: member="bbuffer.c::bbufferDestroy" ref="aaa4b7610490a5f9315caf8ca4ce4b6f7" args="(BBUFFER **pbb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bbufferDestroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_byte_buffer.html">BBUFFER</a> **&#160;</td>
          <td class="paramname"><em>pbb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="bbuffer_8c.html#aaa4b7610490a5f9315caf8ca4ce4b6f7">bbufferDestroy()</a></p>
<p>Input: &amp;bbuffer (&lt;to be="" nulled&gt;=""&gt;) Return: void</p>
<p>Notes: (1) Destroys the byte array in the bbuffer and then the bbuffer; then nulls the contents of the input ptr. </p>

<p>Definition at line <a class="el" href="bbuffer_8c_source.html#l00147">147</a> of file <a class="el" href="bbuffer_8c_source.html">bbuffer.c</a>.</p>

<p>References <a class="el" href="bbuffer_8h_source.html#l00041">ByteBuffer::array</a>, <a class="el" href="environ_8h_source.html#l00216">FREE</a>, <a class="el" href="environ_8h_source.html#l00257">L_WARNING</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="bbuffer_8c_source.html#l00181">bbufferDestroyAndSaveData()</a>, <a class="el" href="buffertest_8c_source.html#l00026">main()</a>, <a class="el" href="zlibmem_8c_source.html#l00073">zlibCompress()</a>, and <a class="el" href="zlibmem_8c_source.html#l00156">zlibUncompress()</a>.</p>

</div>
</div>
<a class="anchor" id="a82e32394162f7ffa65232b4b8e0ecbc6"></a><!-- doxytag: member="bbuffer.c::bbufferDestroyAndSaveData" ref="a82e32394162f7ffa65232b4b8e0ecbc6" args="(BBUFFER **pbb, size_t *pnbytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a7ed60554e7d6dd89aca643189b1e70ad">l_uint8</a>* bbufferDestroyAndSaveData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_byte_buffer.html">BBUFFER</a> **&#160;</td>
          <td class="paramname"><em>pbb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pnbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="bbuffer_8c.html#a82e32394162f7ffa65232b4b8e0ecbc6">bbufferDestroyAndSaveData()</a></p>
<p>Input: &amp;bbuffer (&lt;to be="" nulled&gt;=""&gt;) &amp;nbytes (&lt;return&gt; number of bytes saved in array) Return: barray (newly allocated array of data)</p>
<p>Notes: (1) Copies data to newly allocated array; then destroys the bbuffer. </p>

<p>Definition at line <a class="el" href="bbuffer_8c_source.html#l00181">181</a> of file <a class="el" href="bbuffer_8c_source.html">bbuffer.c</a>.</p>

<p>References <a class="el" href="bbuffer_8h_source.html#l00041">ByteBuffer::array</a>, <a class="el" href="bbuffer_8c_source.html#l00147">bbufferDestroy()</a>, <a class="el" href="environ_8h_source.html#l00214">CALLOC</a>, <a class="el" href="environ_8h_source.html#l00257">L_WARNING</a>, <a class="el" href="bbuffer_8h_source.html#l00039">ByteBuffer::n</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="bbuffer_8h_source.html#l00040">ByteBuffer::nwritten</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="ccbord_8c_source.html#l02180">ccbaWriteStream()</a>, <a class="el" href="zlibmem_8c_source.html#l00073">zlibCompress()</a>, and <a class="el" href="zlibmem_8c_source.html#l00156">zlibUncompress()</a>.</p>

</div>
</div>
<a class="anchor" id="a5f36de071cd460f68c599a1232e997c4"></a><!-- doxytag: member="bbuffer.c::bbufferRead" ref="a5f36de071cd460f68c599a1232e997c4" args="(BBUFFER *bb, l_uint8 *src, l_int32 nbytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> bbufferRead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_byte_buffer.html">BBUFFER</a> *&#160;</td>
          <td class="paramname"><em>bb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a7ed60554e7d6dd89aca643189b1e70ad">l_uint8</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>nbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="bbuffer_8c.html#a5f36de071cd460f68c599a1232e997c4">bbufferRead()</a></p>
<p>Input: bbuffer src (source memory buffer from which bytes are read) nbytes (bytes to be read) Return: 0 if OK, 1 on error</p>
<p>Notes: (1) For a read after write, first remove the written bytes by shifting the unwritten bytes in the array, then check if there is enough room to add the new bytes. If not, realloc with bbufferExpandArray(), resulting in a second writing of the unwritten bytes. While less efficient, this is simpler than making a special case of <a class="el" href="leptprotos_8h.html#abe8bc34cbaea6831e51796aa917a8471">reallocNew()</a>. </p>

<p>Definition at line <a class="el" href="bbuffer_8c_source.html#l00239">239</a> of file <a class="el" href="bbuffer_8c_source.html">bbuffer.c</a>.</p>

<p>References <a class="el" href="bbuffer_8h_source.html#l00041">ByteBuffer::array</a>, <a class="el" href="bbuffer_8c_source.html#l00336">bbufferExtendArray()</a>, <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="environ_8h_source.html#l00155">L_MAX</a>, <a class="el" href="bbuffer_8h_source.html#l00039">ByteBuffer::n</a>, <a class="el" href="bbuffer_8h_source.html#l00038">ByteBuffer::nalloc</a>, <a class="el" href="bbuffer_8h_source.html#l00040">ByteBuffer::nwritten</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="ccbord_8c_source.html#l02180">ccbaWriteStream()</a>, <a class="el" href="buffertest_8c_source.html#l00026">main()</a>, <a class="el" href="zlibmem_8c_source.html#l00073">zlibCompress()</a>, and <a class="el" href="zlibmem_8c_source.html#l00156">zlibUncompress()</a>.</p>

</div>
</div>
<a class="anchor" id="a53ce8438f552001a98c63b70095daad4"></a><!-- doxytag: member="bbuffer.c::bbufferReadStream" ref="a53ce8438f552001a98c63b70095daad4" args="(BBUFFER *bb, FILE *fp, l_int32 nbytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> bbufferReadStream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_byte_buffer.html">BBUFFER</a> *&#160;</td>
          <td class="paramname"><em>bb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>nbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="bbuffer_8c.html#a53ce8438f552001a98c63b70095daad4">bbufferReadStream()</a></p>
<p>Input: bbuffer fp (source stream from which bytes are read) nbytes (bytes to be read) Return: 0 if OK, 1 on error </p>

<p>Definition at line <a class="el" href="bbuffer_8c_source.html#l00286">286</a> of file <a class="el" href="bbuffer_8c_source.html">bbuffer.c</a>.</p>

<p>References <a class="el" href="bbuffer_8h_source.html#l00041">ByteBuffer::array</a>, <a class="el" href="bbuffer_8c_source.html#l00336">bbufferExtendArray()</a>, <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="environ_8h_source.html#l00155">L_MAX</a>, <a class="el" href="bbuffer_8h_source.html#l00039">ByteBuffer::n</a>, <a class="el" href="bbuffer_8h_source.html#l00038">ByteBuffer::nalloc</a>, <a class="el" href="bbuffer_8h_source.html#l00040">ByteBuffer::nwritten</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

</div>
</div>
<a class="anchor" id="a382d8bdb02b233891a4ca66c324932bd"></a><!-- doxytag: member="bbuffer.c::bbufferExtendArray" ref="a382d8bdb02b233891a4ca66c324932bd" args="(BBUFFER *bb, l_int32 nbytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> bbufferExtendArray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_byte_buffer.html">BBUFFER</a> *&#160;</td>
          <td class="paramname"><em>bb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>nbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="bbuffer_8c.html#a382d8bdb02b233891a4ca66c324932bd">bbufferExtendArray()</a></p>
<p>Input: bbuffer nbytes (number of bytes to extend array size) Return: 0 if OK, 1 on error</p>
<p>Notes: (1) <a class="el" href="leptprotos_8h.html#abe8bc34cbaea6831e51796aa917a8471">reallocNew()</a> copies all bb-&gt;nalloc bytes, even though only bb-&gt;n are data. </p>

<p>Definition at line <a class="el" href="bbuffer_8c_source.html#l00336">336</a> of file <a class="el" href="bbuffer_8c_source.html">bbuffer.c</a>.</p>

<p>References <a class="el" href="bbuffer_8h_source.html#l00041">ByteBuffer::array</a>, <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="bbuffer_8h_source.html#l00038">ByteBuffer::nalloc</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, and <a class="el" href="utils_8c_source.html#l01477">reallocNew()</a>.</p>

<p>Referenced by <a class="el" href="bbuffer_8c_source.html#l00239">bbufferRead()</a>, and <a class="el" href="bbuffer_8c_source.html#l00286">bbufferReadStream()</a>.</p>

</div>
</div>
<a class="anchor" id="a895afbf5ccdf4dceb379a53ae21304be"></a><!-- doxytag: member="bbuffer.c::bbufferWrite" ref="a895afbf5ccdf4dceb379a53ae21304be" args="(BBUFFER *bb, l_uint8 *dest, size_t nbytes, size_t *pnout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> bbufferWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_byte_buffer.html">BBUFFER</a> *&#160;</td>
          <td class="paramname"><em>bb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a7ed60554e7d6dd89aca643189b1e70ad">l_uint8</a> *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pnout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="bbuffer_8c.html#a895afbf5ccdf4dceb379a53ae21304be">bbufferWrite()</a></p>
<p>Input: bbuffer dest (dest memory buffer to which bytes are written) nbytes (bytes requested to be written) &amp;nout (&lt;return&gt; bytes actually written) Return: 0 if OK, 1 on error </p>

<p>Definition at line <a class="el" href="bbuffer_8c_source.html#l00368">368</a> of file <a class="el" href="bbuffer_8c_source.html">bbuffer.c</a>.</p>

<p>References <a class="el" href="bbuffer_8h_source.html#l00041">ByteBuffer::array</a>, <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="environ_8h_source.html#l00151">L_MIN</a>, <a class="el" href="bbuffer_8h_source.html#l00039">ByteBuffer::n</a>, <a class="el" href="bbuffer_8h_source.html#l00040">ByteBuffer::nwritten</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="buffertest_8c_source.html#l00026">main()</a>, <a class="el" href="zlibmem_8c_source.html#l00073">zlibCompress()</a>, and <a class="el" href="zlibmem_8c_source.html#l00156">zlibUncompress()</a>.</p>

</div>
</div>
<a class="anchor" id="a0699cae890821473261aa5d733d4c083"></a><!-- doxytag: member="bbuffer.c::bbufferWriteStream" ref="a0699cae890821473261aa5d733d4c083" args="(BBUFFER *bb, FILE *fp, size_t nbytes, size_t *pnout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> bbufferWriteStream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_byte_buffer.html">BBUFFER</a> *&#160;</td>
          <td class="paramname"><em>bb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pnout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="bbuffer_8c.html#a0699cae890821473261aa5d733d4c083">bbufferWriteStream()</a></p>
<p>Input: bbuffer fp (dest stream to which bytes are written) nbytes (bytes requested to be written) &amp;nout (&lt;return&gt; bytes actually written) Return: 0 if OK, 1 on error </p>

<p>Definition at line <a class="el" href="bbuffer_8c_source.html#l00420">420</a> of file <a class="el" href="bbuffer_8c_source.html">bbuffer.c</a>.</p>

<p>References <a class="el" href="bbuffer_8h_source.html#l00041">ByteBuffer::array</a>, <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="environ_8h_source.html#l00151">L_MIN</a>, <a class="el" href="bbuffer_8h_source.html#l00039">ByteBuffer::n</a>, <a class="el" href="bbuffer_8h_source.html#l00040">ByteBuffer::nwritten</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="buffertest_8c_source.html#l00026">main()</a>.</p>

</div>
</div>
<a class="anchor" id="aef445771dcd739e44cbcc82d9c98be2f"></a><!-- doxytag: member="bbuffer.c::bbufferBytesToWrite" ref="aef445771dcd739e44cbcc82d9c98be2f" args="(BBUFFER *bb, size_t *pnbytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> bbufferBytesToWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_byte_buffer.html">BBUFFER</a> *&#160;</td>
          <td class="paramname"><em>bb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pnbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="bbuffer_8c.html#aef445771dcd739e44cbcc82d9c98be2f">bbufferBytesToWrite()</a></p>
<p>Input: bbuffer &amp;nbytes (&lt;return&gt;) Return: 0 if OK; 1 on error </p>

<p>Definition at line <a class="el" href="bbuffer_8c_source.html#l00474">474</a> of file <a class="el" href="bbuffer_8c_source.html">bbuffer.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="bbuffer_8h_source.html#l00039">ByteBuffer::n</a>, <a class="el" href="bbuffer_8h_source.html#l00040">ByteBuffer::nwritten</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a7eecbb1282d9f0c0b88d1a9c622da329"></a><!-- doxytag: member="bbuffer.c::INITIAL_BUFFER_ARRAYSIZE" ref="a7eecbb1282d9f0c0b88d1a9c622da329" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> <a class="el" href="queue_8c.html#a7eecbb1282d9f0c0b88d1a9c622da329">INITIAL_BUFFER_ARRAYSIZE</a> = 1024<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="bbuffer_8c_source.html#l00088">88</a> of file <a class="el" href="bbuffer_8c_source.html">bbuffer.c</a>.</p>

<p>Referenced by <a class="el" href="bbuffer_8c_source.html#l00108">bbufferCreate()</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="bbuffer_8c.html">bbuffer.c</a>      </li>
      <li class="footer">Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
