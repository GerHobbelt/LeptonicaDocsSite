<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Leptonica: src/morphseq.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="moller52-tiny.jpg"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Leptonica&#160;<span id="projectnumber">1.68</span></div>
   <div id="projectbrief">C Image Processing Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('morphseq_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>morphseq.c File Reference</h1>  </div>
</div>
<div class="contents">

<p>Interpreter for morphological operations, including binary expansion and reduction.  
<a href="#_details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="allheaders_8h_source.html">allheaders.h</a>&quot;</code><br/>
</div>
<p><a href="morphseq_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="morphseq_8c.html#a6e29a4ce70a0d570adfa003b6a3755d0">pixMorphSequence</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, const char *sequence, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> dispsep)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="morphseq_8c.html#af10e3bcdbcc374f586e5ea449a1da45c">pixMorphCompSequence</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, const char *sequence, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> dispsep)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="morphseq_8c.html#a583974a318647d766e4a20ce3db636a1">pixMorphSequenceDwa</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, const char *sequence, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> dispsep)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="morphseq_8c.html#acf35bdd9e1597935c40cdcc7702a23b7">pixMorphCompSequenceDwa</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, const char *sequence, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> dispsep)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="morphseq_8c.html#a983c54a08981723527f5b517ee851e99">morphSequenceVerify</a> (<a class="el" href="struct_sarray.html">SARRAY</a> *sa)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="morphseq_8c.html#adb7267a183f1421fc66751c2e5b08f8c">pixGrayMorphSequence</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, const char *sequence, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> dispsep, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> dispy)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="morphseq_8c.html#aacfa21c266a3cce7f516acf38b1c792d">pixColorMorphSequence</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, const char *sequence, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> dispsep, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> dispy)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Interpreter for morphological operations, including binary expansion and reduction. </p>

<p>Definition in file <a class="el" href="morphseq_8c_source.html">morphseq.c</a>.</p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a6e29a4ce70a0d570adfa003b6a3755d0"></a><!-- doxytag: member="morphseq.c::pixMorphSequence" ref="a6e29a4ce70a0d570adfa003b6a3755d0" args="(PIX *pixs, const char *sequence, l_int32 dispsep)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixMorphSequence </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>dispsep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#aac143671b2099c1306d08047e9caf097">pixMorphSequence()</a></p>
<p>Input: pixs sequence (string specifying sequence) dispsep (horizontal separation in pixels between successive displays; use zero to suppress display) Return: pixd, or null on error</p>
<p>Notes: (1) This does rasterop morphology on binary images. (2) This runs a pipeline of operations; no branching is allowed. (3) This only uses brick Sels, which are created on the fly. In the future this will be generalized to extract Sels from a <a class="el" href="struct_sela.html">Sela</a> by name. (4) A new image is always produced; the input image is not changed. (5) This contains an interpreter, allowing sequences to be generated and run. (6) The format of the sequence string is defined below. (7) In addition to morphological operations, rank order reduction and replicated expansion allow operations to take place downscaled by a power of 2. (8) Intermediate results can optionally be displayed. (9) Thanks to Dar-Shyang Lee, who had the idea for this and built the first implementation. (10) The sequence string is formatted as follows:</p>
<ul>
<li>An arbitrary number of operations, each separated by a '+' character. White space is ignored.</li>
<li>Each operation begins with a case-independent character specifying the operation: d or D (dilation) e or E (erosion) o or O (opening) c or C (closing) r or R (rank binary reduction) x or X (replicative binary expansion) b or B (add a border of 0 pixels of this size)</li>
<li>The args to the morphological operations are bricks of hits, and are formatted as a.b, where a and b are horizontal and vertical dimensions, rsp.</li>
<li>The args to the reduction are a sequence of up to 4 integers, each from 1 to 4.</li>
<li>The arg to the expansion is a power of two, in the set {2, 4, 8, 16}. (11) An example valid sequence is: "b32 + o1.3 + C3.1 + r23 + e2.2 + D3.2 + X4" In this example, the following operation sequence is carried out: * b32: Add a 32 pixel border around the input image * o1.3: Opening with vert sel of length 3 (e.g., 1 x 3) * C3.1: Closing with horiz sel of length 3 (e.g., 3 x 1) * r23: Two successive 2x2 reductions with rank 2 in the first and rank 3 in the second. The result is a 4x reduced pix. * e2.2: Erosion with a 2x2 sel (origin will be at x,y: 0,0) * d3.2: Dilation with a 3x2 sel (origin will be at x,y: 1,0) * X4: 4x replicative expansion, back to original resolution (12) The safe closing is used. However, if you implement a closing as separable dilations followed by separable erosions, it will not be safe. For that situation, you need to add a sufficiently large border as the first operation in the sequence. This will be removed automatically at the end. There are two cautions:<ul>
<li>When computing what is sufficient, remember that if reductions are carried out, the border is also reduced.</li>
<li>The border is removed at the end, so if a border is added at the beginning, the result must be at the same resolution as the input! </li>
</ul>
</li>
</ul>

<p>Definition at line <a class="el" href="morphseq_8c_source.html#l00118">118</a> of file <a class="el" href="morphseq_8c_source.html">morphseq.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00216">FREE</a>, <a class="el" href="morphseq_8c_source.html#l00774">morphSequenceVerify()</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix2_8c_source.html#l01463">pixAddBorder()</a>, <a class="el" href="pix1_8c_source.html#l00440">pixClone()</a>, <a class="el" href="morph_8c_source.html#l00918">pixCloseSafeBrick()</a>, <a class="el" href="pix1_8c_source.html#l00548">pixCopy()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="morph_8c_source.html#l00657">pixDilateBrick()</a>, <a class="el" href="writefile_8c_source.html#l00677">pixDisplay()</a>, <a class="el" href="morph_8c_source.html#l00720">pixErodeBrick()</a>, <a class="el" href="scale_8c_source.html#l02173">pixExpandReplicate()</a>, <a class="el" href="morph_8c_source.html#l00783">pixOpenBrick()</a>, <a class="el" href="binreduce_8c_source.html#l00108">pixReduceRankBinaryCascade()</a>, <a class="el" href="pix2_8c_source.html#l01587">pixRemoveBorder()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="sarray_8c_source.html#l00140">sarrayCreate()</a>, <a class="el" href="sarray_8c_source.html#l00319">sarrayDestroy()</a>, <a class="el" href="sarray_8c_source.html#l00585">sarrayGetCount()</a>, <a class="el" href="sarray_8c_source.html#l00648">sarrayGetString()</a>, <a class="el" href="sarray_8c_source.html#l01064">sarraySplitString()</a>, and <a class="el" href="utils_8c_source.html#l01141">stringRemoveChars()</a>.</p>

<p>Referenced by <a class="el" href="livre__pageseg_8c_source.html#l00065">DoPageSegmentation()</a>, <a class="el" href="pdfiotest_8c_source.html#l00398">GetImageMask()</a>, <a class="el" href="jbclass_8c_source.html#l01292">jbGetComponents()</a>, <a class="el" href="binmorph1__reg_8c_source.html#l00060">main()</a>, <a class="el" href="bmf_8c_source.html#l00405">pixaGenerateFont()</a>, <a class="el" href="colorcontent_8c_source.html#l00766">pixColorsForQuantization()</a>, <a class="el" href="flipdetect_8c_source.html#l00973">pixDebugFlipDetect()</a>, <a class="el" href="baseline_8c_source.html#l00106">pixFindBaselines()</a>, <a class="el" href="pageseg_8c_source.html#l00386">pixGenTextblockMask()</a>, <a class="el" href="adaptmap_8c_source.html#l00764">pixGetBackgroundGrayMap()</a>, <a class="el" href="adaptmap_8c_source.html#l00939">pixGetBackgroundRGBMap()</a>, <a class="el" href="dewarp_8c_source.html#l00620">pixGetTextlineCenters()</a>, <a class="el" href="finditalic_8c_source.html#l00092">pixItalicWords()</a>, <a class="el" href="binarize_8c_source.html#l00323">pixMaskedThreshOnBackgroundNorm()</a>, <a class="el" href="morphapp_8c_source.html#l00127">pixMorphSequenceMasked()</a>, <a class="el" href="flipdetect_8c_source.html#l00437">pixUpDownDetectGeneral()</a>, <a class="el" href="jbclass_8c_source.html#l01420">pixWordMaskByDilation()</a>, and <a class="el" href="ptafunc1_8c_source.html#l01563">ptaGetBoundaryPixels()</a>.</p>

</div>
</div>
<a class="anchor" id="af10e3bcdbcc374f586e5ea449a1da45c"></a><!-- doxytag: member="morphseq.c::pixMorphCompSequence" ref="af10e3bcdbcc374f586e5ea449a1da45c" args="(PIX *pixs, const char *sequence, l_int32 dispsep)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixMorphCompSequence </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>dispsep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#ae0edfc6c099ef8f8ba499074791cb678">pixMorphCompSequence()</a></p>
<p>Input: pixs sequence (string specifying sequence) dispsep (horizontal separation in pixels between successive displays; use zero to suppress display) Return: pixd, or null on error</p>
<p>Notes: (1) This does rasterop morphology on binary images, using composite operations for extra speed on large Sels. (2) Safe closing is used atomically. However, if you implement a closing as a sequence with a dilation followed by an erosion, it will not be safe, and to ensure that you have no boundary effects you must add a border in advance and remove it at the end. (3) For other usage details, see the notes for <a class="el" href="leptprotos_8h.html#aac143671b2099c1306d08047e9caf097">pixMorphSequence()</a>. (4) The sequence string is formatted as follows:</p>
<ul>
<li>An arbitrary number of operations, each separated by a '+' character. White space is ignored.</li>
<li>Each operation begins with a case-independent character specifying the operation: d or D (dilation) e or E (erosion) o or O (opening) c or C (closing) r or R (rank binary reduction) x or X (replicative binary expansion) b or B (add a border of 0 pixels of this size)</li>
<li>The args to the morphological operations are bricks of hits, and are formatted as a.b, where a and b are horizontal and vertical dimensions, rsp.</li>
<li>The args to the reduction are a sequence of up to 4 integers, each from 1 to 4.</li>
<li>The arg to the expansion is a power of two, in the set {2, 4, 8, 16}. </li>
</ul>

<p>Definition at line <a class="el" href="morphseq_8c_source.html#l00298">298</a> of file <a class="el" href="morphseq_8c_source.html">morphseq.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00216">FREE</a>, <a class="el" href="morphseq_8c_source.html#l00774">morphSequenceVerify()</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix2_8c_source.html#l01463">pixAddBorder()</a>, <a class="el" href="pix1_8c_source.html#l00440">pixClone()</a>, <a class="el" href="morph_8c_source.html#l01564">pixCloseSafeCompBrick()</a>, <a class="el" href="pix1_8c_source.html#l00548">pixCopy()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="morph_8c_source.html#l01170">pixDilateCompBrick()</a>, <a class="el" href="writefile_8c_source.html#l00677">pixDisplay()</a>, <a class="el" href="morph_8c_source.html#l01270">pixErodeCompBrick()</a>, <a class="el" href="scale_8c_source.html#l02173">pixExpandReplicate()</a>, <a class="el" href="morph_8c_source.html#l01361">pixOpenCompBrick()</a>, <a class="el" href="binreduce_8c_source.html#l00108">pixReduceRankBinaryCascade()</a>, <a class="el" href="pix2_8c_source.html#l01587">pixRemoveBorder()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="sarray_8c_source.html#l00140">sarrayCreate()</a>, <a class="el" href="sarray_8c_source.html#l00319">sarrayDestroy()</a>, <a class="el" href="sarray_8c_source.html#l00585">sarrayGetCount()</a>, <a class="el" href="sarray_8c_source.html#l00648">sarrayGetString()</a>, <a class="el" href="sarray_8c_source.html#l01064">sarraySplitString()</a>, and <a class="el" href="utils_8c_source.html#l01141">stringRemoveChars()</a>.</p>

<p>Referenced by <a class="el" href="livre__pageseg_8c_source.html#l00065">DoPageSegmentation()</a>, <a class="el" href="binmorph1__reg_8c_source.html#l00060">main()</a>, <a class="el" href="morphapp_8c_source.html#l00240">pixaMorphSequenceByComponent()</a>, <a class="el" href="morphapp_8c_source.html#l00393">pixaMorphSequenceByRegion()</a>, <a class="el" href="pageseg_8c_source.html#l00302">pixGenTextlineMask()</a>, <a class="el" href="flipdetect_8c_source.html#l00803">pixMirrorDetect()</a>, and <a class="el" href="flipdetect_8c_source.html#l00437">pixUpDownDetectGeneral()</a>.</p>

</div>
</div>
<a class="anchor" id="a583974a318647d766e4a20ce3db636a1"></a><!-- doxytag: member="morphseq.c::pixMorphSequenceDwa" ref="a583974a318647d766e4a20ce3db636a1" args="(PIX *pixs, const char *sequence, l_int32 dispsep)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixMorphSequenceDwa </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>dispsep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#aeef1ed2ac2e267ec7f495e6a2ae59f99">pixMorphSequenceDwa()</a></p>
<p>Input: pixs sequence (string specifying sequence) dispsep (horizontal separation in pixels between successive displays; use zero to suppress display) Return: pixd, or null on error</p>
<p>Notes: (1) This does dwa morphology on binary images. (2) This runs a pipeline of operations; no branching is allowed. (3) This only uses brick Sels that have been pre-compiled with dwa code. (4) A new image is always produced; the input image is not changed. (5) This contains an interpreter, allowing sequences to be generated and run. (6) See <a class="el" href="leptprotos_8h.html#aac143671b2099c1306d08047e9caf097">pixMorphSequence()</a> for further information about usage. </p>

<p>Definition at line <a class="el" href="morphseq_8c_source.html#l00459">459</a> of file <a class="el" href="morphseq_8c_source.html">morphseq.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00216">FREE</a>, <a class="el" href="morphseq_8c_source.html#l00774">morphSequenceVerify()</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix2_8c_source.html#l01463">pixAddBorder()</a>, <a class="el" href="pix1_8c_source.html#l00440">pixClone()</a>, <a class="el" href="morphdwa_8c_source.html#l00473">pixCloseBrickDwa()</a>, <a class="el" href="pix1_8c_source.html#l00548">pixCopy()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="morphdwa_8c_source.html#l00162">pixDilateBrickDwa()</a>, <a class="el" href="writefile_8c_source.html#l00677">pixDisplay()</a>, <a class="el" href="morphdwa_8c_source.html#l00264">pixErodeBrickDwa()</a>, <a class="el" href="scale_8c_source.html#l02173">pixExpandReplicate()</a>, <a class="el" href="morphdwa_8c_source.html#l00366">pixOpenBrickDwa()</a>, <a class="el" href="binreduce_8c_source.html#l00108">pixReduceRankBinaryCascade()</a>, <a class="el" href="pix2_8c_source.html#l01587">pixRemoveBorder()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="sarray_8c_source.html#l00140">sarrayCreate()</a>, <a class="el" href="sarray_8c_source.html#l00319">sarrayDestroy()</a>, <a class="el" href="sarray_8c_source.html#l00585">sarrayGetCount()</a>, <a class="el" href="sarray_8c_source.html#l00648">sarrayGetString()</a>, <a class="el" href="sarray_8c_source.html#l01064">sarraySplitString()</a>, and <a class="el" href="utils_8c_source.html#l01141">stringRemoveChars()</a>.</p>

<p>Referenced by <a class="el" href="binmorph1__reg_8c_source.html#l00060">main()</a>, <a class="el" href="flipdetect_8c_source.html#l00893">pixMirrorDetectDwa()</a>, and <a class="el" href="flipdetect_8c_source.html#l00650">pixUpDownDetectGeneralDwa()</a>.</p>

</div>
</div>
<a class="anchor" id="acf35bdd9e1597935c40cdcc7702a23b7"></a><!-- doxytag: member="morphseq.c::pixMorphCompSequenceDwa" ref="acf35bdd9e1597935c40cdcc7702a23b7" args="(PIX *pixs, const char *sequence, l_int32 dispsep)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixMorphCompSequenceDwa </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>dispsep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a834c5acfd6cb59282ae0c90daff16427">pixMorphCompSequenceDwa()</a></p>
<p>Input: pixs sequence (string specifying sequence) dispsep (horizontal separation in pixels between successive displays; use zero to suppress display) Return: pixd, or null on error</p>
<p>Notes: (1) This does dwa morphology on binary images, using brick Sels. (2) This runs a pipeline of operations; no branching is allowed. (3) It implements all brick Sels that have dimensions up to 63 on each side, using a composite (linear + comb) when useful. (4) A new image is always produced; the input image is not changed. (5) This contains an interpreter, allowing sequences to be generated and run. (6) See <a class="el" href="leptprotos_8h.html#aac143671b2099c1306d08047e9caf097">pixMorphSequence()</a> for further information about usage. </p>

<p>Definition at line <a class="el" href="morphseq_8c_source.html#l00620">620</a> of file <a class="el" href="morphseq_8c_source.html">morphseq.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00216">FREE</a>, <a class="el" href="morphseq_8c_source.html#l00774">morphSequenceVerify()</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix2_8c_source.html#l01463">pixAddBorder()</a>, <a class="el" href="pix1_8c_source.html#l00440">pixClone()</a>, <a class="el" href="morphdwa_8c_source.html#l01034">pixCloseCompBrickDwa()</a>, <a class="el" href="pix1_8c_source.html#l00548">pixCopy()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="morphdwa_8c_source.html#l00600">pixDilateCompBrickDwa()</a>, <a class="el" href="writefile_8c_source.html#l00677">pixDisplay()</a>, <a class="el" href="morphdwa_8c_source.html#l00733">pixErodeCompBrickDwa()</a>, <a class="el" href="scale_8c_source.html#l02173">pixExpandReplicate()</a>, <a class="el" href="morphdwa_8c_source.html#l00862">pixOpenCompBrickDwa()</a>, <a class="el" href="binreduce_8c_source.html#l00108">pixReduceRankBinaryCascade()</a>, <a class="el" href="pix2_8c_source.html#l01587">pixRemoveBorder()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="sarray_8c_source.html#l00140">sarrayCreate()</a>, <a class="el" href="sarray_8c_source.html#l00319">sarrayDestroy()</a>, <a class="el" href="sarray_8c_source.html#l00585">sarrayGetCount()</a>, <a class="el" href="sarray_8c_source.html#l00648">sarrayGetString()</a>, <a class="el" href="sarray_8c_source.html#l01064">sarraySplitString()</a>, and <a class="el" href="utils_8c_source.html#l01141">stringRemoveChars()</a>.</p>

<p>Referenced by <a class="el" href="binmorph2__reg_8c_source.html#l00032">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a983c54a08981723527f5b517ee851e99"></a><!-- doxytag: member="morphseq.c::morphSequenceVerify" ref="a983c54a08981723527f5b517ee851e99" args="(SARRAY *sa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> morphSequenceVerify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sarray.html">SARRAY</a> *&#160;</td>
          <td class="paramname"><em>sa</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a4bb1a828b125eae4dc6c0ec5f399fb10">morphSequenceVerify()</a></p>
<p>Input: sarray (of operation sequence) Return: TRUE if valid; FALSE otherwise or on error</p>
<p>Notes: (1) This does verification of valid binary morphological operation sequences. (2) See <a class="el" href="leptprotos_8h.html#aac143671b2099c1306d08047e9caf097">pixMorphSequence()</a> for notes on valid operations in the sequence. </p>

<p>Definition at line <a class="el" href="morphseq_8c_source.html#l00774">774</a> of file <a class="el" href="morphseq_8c_source.html">morphseq.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="environ_8h_source.html#l00179">FALSE</a>, <a class="el" href="environ_8h_source.html#l00216">FREE</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="sarray_8c_source.html#l00585">sarrayGetCount()</a>, <a class="el" href="sarray_8c_source.html#l00648">sarrayGetString()</a>, <a class="el" href="utils_8c_source.html#l01141">stringRemoveChars()</a>, and <a class="el" href="environ_8h_source.html#l00175">TRUE</a>.</p>

<p>Referenced by <a class="el" href="morphseq_8c_source.html#l00298">pixMorphCompSequence()</a>, <a class="el" href="morphseq_8c_source.html#l00620">pixMorphCompSequenceDwa()</a>, <a class="el" href="morphseq_8c_source.html#l00118">pixMorphSequence()</a>, and <a class="el" href="morphseq_8c_source.html#l00459">pixMorphSequenceDwa()</a>.</p>

</div>
</div>
<a class="anchor" id="adb7267a183f1421fc66751c2e5b08f8c"></a><!-- doxytag: member="morphseq.c::pixGrayMorphSequence" ref="adb7267a183f1421fc66751c2e5b08f8c" args="(PIX *pixs, const char *sequence, l_int32 dispsep, l_int32 dispy)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixGrayMorphSequence </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>dispsep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>dispy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a085c0dc327073a7335d0ddbed8882c33">pixGrayMorphSequence()</a></p>
<p>Input: pixs sequence (string specifying sequence) dispsep (horizontal separation in pixels between successive displays; use zero to suppress display) dispy (if dispsep != 0, this gives the y-value of the UL corner for display; otherwise it is ignored) Return: pixd, or null on error</p>
<p>Notes: (1) This works on 8 bpp grayscale images. (2) This runs a pipeline of operations; no branching is allowed. (3) This only uses brick SELs. (4) A new image is always produced; the input image is not changed. (5) This contains an interpreter, allowing sequences to be generated and run. (6) The format of the sequence string is defined below. (7) In addition to morphological operations, the composite morph/subtract tophat can be performed. (8) <a class="el" href="struct_sel.html">Sel</a> sizes (width, height) must each be odd numbers. (9) Intermediate results can optionally be displayed (10) The sequence string is formatted as follows:</p>
<ul>
<li>An arbitrary number of operations, each separated by a '+' character. White space is ignored.</li>
<li>Each operation begins with a case-independent character specifying the operation: d or D (dilation) e or E (erosion) o or O (opening) c or C (closing) t or T (tophat)</li>
<li>The args to the morphological operations are bricks of hits, and are formatted as a.b, where a and b are horizontal and vertical dimensions, rsp. (each must be an odd number)</li>
<li>The args to the tophat are w or W (for white tophat) or b or B (for black tophat), followed by a.b as for the dilation, erosion, opening and closing. Example valid sequences are: "c5.3 + o7.5" "c9.9 + tw9.9" </li>
</ul>

<p>Definition at line <a class="el" href="morphseq_8c_source.html#l00944">944</a> of file <a class="el" href="morphseq_8c_source.html">morphseq.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00179">FALSE</a>, <a class="el" href="environ_8h_source.html#l00216">FREE</a>, <a class="el" href="morph_8h_source.html#l00153">L_TOPHAT_BLACK</a>, <a class="el" href="morph_8h_source.html#l00152">L_TOPHAT_WHITE</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix1_8c_source.html#l00440">pixClone()</a>, <a class="el" href="graymorph_8c_source.html#l00417">pixCloseGray()</a>, <a class="el" href="pix1_8c_source.html#l00548">pixCopy()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="graymorph_8c_source.html#l00182">pixDilateGray()</a>, <a class="el" href="writefile_8c_source.html#l00677">pixDisplay()</a>, <a class="el" href="graymorph_8c_source.html#l00073">pixErodeGray()</a>, <a class="el" href="graymorph_8c_source.html#l00291">pixOpenGray()</a>, <a class="el" href="morphapp_8c_source.html#l01032">pixTophat()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="sarray_8c_source.html#l00140">sarrayCreate()</a>, <a class="el" href="sarray_8c_source.html#l00319">sarrayDestroy()</a>, <a class="el" href="sarray_8c_source.html#l00585">sarrayGetCount()</a>, <a class="el" href="sarray_8c_source.html#l00648">sarrayGetString()</a>, <a class="el" href="sarray_8c_source.html#l01064">sarraySplitString()</a>, <a class="el" href="utils_8c_source.html#l01141">stringRemoveChars()</a>, and <a class="el" href="environ_8h_source.html#l00175">TRUE</a>.</p>

<p>Referenced by <a class="el" href="graymorph1__reg_8c_source.html#l00053">main()</a>.</p>

</div>
</div>
<a class="anchor" id="aacfa21c266a3cce7f516acf38b1c792d"></a><!-- doxytag: member="morphseq.c::pixColorMorphSequence" ref="aacfa21c266a3cce7f516acf38b1c792d" args="(PIX *pixs, const char *sequence, l_int32 dispsep, l_int32 dispy)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixColorMorphSequence </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sequence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>dispsep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>dispy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a13218144f8564591ea1316ffa6890fb1">pixColorMorphSequence()</a></p>
<p>Input: pixs sequence (string specifying sequence) dispsep (horizontal separation in pixels between successive displays; use zero to suppress display) dispy (if dispsep != 0, this gives the y-value of the UL corner for display; otherwise it is ignored) Return: pixd, or null on error</p>
<p>Notes: (1) This works on 32 bpp rgb images. (2) Each component is processed separately. (3) This runs a pipeline of operations; no branching is allowed. (4) This only uses brick SELs. (5) A new image is always produced; the input image is not changed. (6) This contains an interpreter, allowing sequences to be generated and run. (7) <a class="el" href="struct_sel.html">Sel</a> sizes (width, height) must each be odd numbers. (8) The format of the sequence string is defined below. (9) Intermediate results can optionally be displayed. (10) The sequence string is formatted as follows:</p>
<ul>
<li>An arbitrary number of operations, each separated by a '+' character. White space is ignored.</li>
<li>Each operation begins with a case-independent character specifying the operation: d or D (dilation) e or E (erosion) o or O (opening) c or C (closing)</li>
<li>The args to the morphological operations are bricks of hits, and are formatted as a.b, where a and b are horizontal and vertical dimensions, rsp. (each must be an odd number) Example valid sequences are: "c5.3 + o7.5" "D9.1" </li>
</ul>

<p>Definition at line <a class="el" href="morphseq_8c_source.html#l01151">1151</a> of file <a class="el" href="morphseq_8c_source.html">morphseq.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00179">FALSE</a>, <a class="el" href="environ_8h_source.html#l00216">FREE</a>, <a class="el" href="morph_8h_source.html#l00134">L_MORPH_CLOSE</a>, <a class="el" href="morph_8h_source.html#l00131">L_MORPH_DILATE</a>, <a class="el" href="morph_8h_source.html#l00132">L_MORPH_ERODE</a>, <a class="el" href="morph_8h_source.html#l00133">L_MORPH_OPEN</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix1_8c_source.html#l00440">pixClone()</a>, <a class="el" href="colormorph_8c_source.html#l00053">pixColorMorph()</a>, <a class="el" href="pix1_8c_source.html#l00548">pixCopy()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="writefile_8c_source.html#l00677">pixDisplay()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="sarray_8c_source.html#l00140">sarrayCreate()</a>, <a class="el" href="sarray_8c_source.html#l00319">sarrayDestroy()</a>, <a class="el" href="sarray_8c_source.html#l00585">sarrayGetCount()</a>, <a class="el" href="sarray_8c_source.html#l00648">sarrayGetString()</a>, <a class="el" href="sarray_8c_source.html#l01064">sarraySplitString()</a>, <a class="el" href="utils_8c_source.html#l01141">stringRemoveChars()</a>, and <a class="el" href="environ_8h_source.html#l00175">TRUE</a>.</p>

<p>Referenced by <a class="el" href="colormorphtest_8c_source.html#l00031">main()</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="morphseq_8c.html">morphseq.c</a>      </li>
      <li class="footer">Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
