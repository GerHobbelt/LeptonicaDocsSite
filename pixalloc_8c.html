<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Leptonica: src/pixalloc.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="moller52-tiny.jpg"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Leptonica&#160;<span id="projectnumber">1.68</span></div>
   <div id="projectbrief">C Image Processing Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('pixalloc_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>pixalloc.c File Reference</h1>  </div>
</div>
<div class="contents">

<p>Custom memory allocation for <a class="el" href="struct_pix.html">Pix</a> memory.  
<a href="#_details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="allheaders_8h_source.html">allheaders.h</a>&quot;</code><br/>
</div>
<p><a href="pixalloc_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_pix_memory_store.html">PixMemoryStore</a></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_pix_memory_store.html">PixMemoryStore</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pixalloc_8c.html#a10a80d5c92ac035abd7b2c7e5a858359">L_PIX_MEM_STORE</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pixalloc_8c.html#a92e1e30832f57e81805395ca2501f173">pmsCreate</a> (size_t minsize, size_t smallest, <a class="el" href="struct_numa.html">NUMA</a> *numalloc, const char *logfile)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pixalloc_8c.html#a67264007eeb1de573b78ad07578b14ba">pmsDestroy</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pixalloc_8c.html#ade2ca55800a8825336f8bf3becd4cfc3">pmsCustomAlloc</a> (size_t nbytes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pixalloc_8c.html#ac64f4b1a46b2d09ece17276857bcf4e0">pmsCustomDealloc</a> (void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pixalloc_8c.html#af0bc6f9bb83390480b7c7fb4b600dcac">pmsGetAlloc</a> (size_t nbytes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pixalloc_8c.html#a8d499d36476873f3c7c1a0a3404ccb39">pmsGetLevelForAlloc</a> (size_t nbytes, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *plevel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pixalloc_8c.html#a236877eec5d9c8e01af57be673bc5ac1">pmsGetLevelForDealloc</a> (void *data, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *plevel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pixalloc_8c.html#ad5f881cf2245eb8d8bfcc28ba1b982d9">pmsLogInfo</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="struct_pix_memory_store.html">L_PIX_MEM_STORE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pixalloc_8c.html#a7ad91dedf25ff77a9e1b12e19aa66063">CustomPMS</a> = NULL</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Custom memory allocation for <a class="el" href="struct_pix.html">Pix</a> memory. </p>

<p>Definition in file <a class="el" href="pixalloc_8c_source.html">pixalloc.c</a>.</p>
</div><hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a10a80d5c92ac035abd7b2c7e5a858359"></a><!-- doxytag: member="pixalloc.c::L_PIX_MEM_STORE" ref="a10a80d5c92ac035abd7b2c7e5a858359" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_pix_memory_store.html">PixMemoryStore</a> <a class="el" href="struct_pix_memory_store.html">L_PIX_MEM_STORE</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pixalloc_8c_source.html#l00121">121</a> of file <a class="el" href="pixalloc_8c_source.html">pixalloc.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a92e1e30832f57e81805395ca2501f173"></a><!-- doxytag: member="pixalloc.c::pmsCreate" ref="a92e1e30832f57e81805395ca2501f173" args="(size_t minsize, size_t smallest, NUMA *numalloc, const char *logfile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> pmsCreate </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>minsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>smallest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_numa.html">NUMA</a> *&#160;</td>
          <td class="paramname"><em>numalloc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>logfile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#aea041e96ed9efc1ccc647afb8a8d9b4e">pmsCreate()</a></p>
<p>Input: minsize (of data chunk that can be supplied by pms) smallest (bytes of the smallest pre-allocated data chunk. numalloc (array with the number of data chunks for each size that are in the memory store) logfile (use for debugging; null otherwise) Return: 0 if OK, 1 on error</p>
<p>Notes: (1) This computes the size of the block of memory required and allocates it. Each chunk starts on a 32-bit word boundary. The chunk sizes are in powers of 2, starting at , and the number of levels and chunks at each level is specified by . (2) This is intended to manage the image data for a small number of relatively large pix. The system malloc is expected to handle very large numbers of small chunks efficiently. (3) Important: set the allocators and call this function before any pix have been allocated. Destroy all the pix in the normal way before calling <a class="el" href="leptprotos_8h.html#a9fe96f718380a805d8007918dbb835da">pmsDestroy()</a>. (4) The pms struct is stored in a static global, so this function is not thread-safe. When used, there must be only one thread per process. </p>

<p>Definition at line <a class="el" href="pixalloc_8c_source.html#l00153">153</a> of file <a class="el" href="pixalloc_8c_source.html">pixalloc.c</a>.</p>

<p>References <a class="el" href="pixalloc_8c_source.html#l00110">PixMemoryStore::allocarray</a>, <a class="el" href="pixalloc_8c_source.html#l00111">PixMemoryStore::baseptr</a>, <a class="el" href="environ_8h_source.html#l00214">CALLOC</a>, <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="pixalloc_8c_source.html#l00113">PixMemoryStore::firstptr</a>, <a class="el" href="environ_8h_source.html#l00261">L_WARNING_FLOAT</a>, <a class="el" href="pixalloc_8c_source.html#l00106">PixMemoryStore::largest</a>, <a class="el" href="pixalloc_8c_source.html#l00119">PixMemoryStore::logfile</a>, <a class="el" href="pixalloc_8c_source.html#l00112">PixMemoryStore::maxptr</a>, <a class="el" href="pixalloc_8c_source.html#l00117">PixMemoryStore::memempty</a>, <a class="el" href="pixalloc_8c_source.html#l00115">PixMemoryStore::meminuse</a>, <a class="el" href="pixalloc_8c_source.html#l00116">PixMemoryStore::memmax</a>, <a class="el" href="pixalloc_8c_source.html#l00114">PixMemoryStore::memused</a>, <a class="el" href="pixalloc_8c_source.html#l00103">PixMemoryStore::minsize</a>, <a class="el" href="pixalloc_8c_source.html#l00107">PixMemoryStore::nbytes</a>, <a class="el" href="pixalloc_8c_source.html#l00108">PixMemoryStore::nlevels</a>, <a class="el" href="pixalloc__reg_8c_source.html#l00041">nlevels</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="numabasic_8c_source.html#l00557">numaGetCount()</a>, <a class="el" href="numabasic_8c_source.html#l00738">numaGetIArray()</a>, <a class="el" href="numafunc1_8c_source.html#l00395">numaGetSum()</a>, <a class="el" href="pixalloc_8c_source.html#l00102">PixMemoryStore::paa</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="ptra_8c_source.html#l00790">ptraaCreate()</a>, <a class="el" href="ptra_8c_source.html#l00229">ptraAdd()</a>, <a class="el" href="ptra_8c_source.html#l00893">ptraaInsertPtra()</a>, <a class="el" href="ptra_8c_source.html#l00129">ptraCreate()</a>, <a class="el" href="pixalloc_8c_source.html#l00109">PixMemoryStore::sizes</a>, <a class="el" href="genfonts_8c_source.html#l00042">sizes</a>, <a class="el" href="pixalloc_8c_source.html#l00105">PixMemoryStore::smallest</a>, and <a class="el" href="utils_8c_source.html#l00735">stringNew()</a>.</p>

<p>Referenced by <a class="el" href="pixalloc__reg_8c_source.html#l00049">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a67264007eeb1de573b78ad07578b14ba"></a><!-- doxytag: member="pixalloc.c::pmsDestroy" ref="a67264007eeb1de573b78ad07578b14ba" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pmsDestroy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a9fe96f718380a805d8007918dbb835da">pmsDestroy()</a></p>
<p>Input: (none) Return: void</p>
<p>Notes: (1) Important: call this function at the end of the program, after the last pix has been destroyed. </p>

<p>Definition at line <a class="el" href="pixalloc_8c_source.html#l00250">250</a> of file <a class="el" href="pixalloc_8c_source.html">pixalloc.c</a>.</p>

<p>References <a class="el" href="pixalloc_8c_source.html#l00110">PixMemoryStore::allocarray</a>, <a class="el" href="pixalloc_8c_source.html#l00111">PixMemoryStore::baseptr</a>, <a class="el" href="environ_8h_source.html#l00179">FALSE</a>, <a class="el" href="pixalloc_8c_source.html#l00113">PixMemoryStore::firstptr</a>, <a class="el" href="environ_8h_source.html#l00216">FREE</a>, <a class="el" href="pixalloc_8c_source.html#l00119">PixMemoryStore::logfile</a>, <a class="el" href="pixalloc_8c_source.html#l00117">PixMemoryStore::memempty</a>, <a class="el" href="pixalloc_8c_source.html#l00115">PixMemoryStore::meminuse</a>, <a class="el" href="pixalloc_8c_source.html#l00116">PixMemoryStore::memmax</a>, <a class="el" href="pixalloc_8c_source.html#l00114">PixMemoryStore::memused</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pixalloc_8c_source.html#l00102">PixMemoryStore::paa</a>, <a class="el" href="pixalloc_8c_source.html#l00490">pmsLogInfo()</a>, <a class="el" href="ptra_8c_source.html#l00823">ptraaDestroy()</a>, and <a class="el" href="pixalloc_8c_source.html#l00109">PixMemoryStore::sizes</a>.</p>

<p>Referenced by <a class="el" href="pixalloc__reg_8c_source.html#l00049">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ade2ca55800a8825336f8bf3becd4cfc3"></a><!-- doxytag: member="pixalloc.c::pmsCustomAlloc" ref="ade2ca55800a8825336f8bf3becd4cfc3" args="(size_t nbytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* pmsCustomAlloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nbytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a02c10474413407207072018772c1d7ac">pmsCustomAlloc()</a></p>
<p>Input: nbytes (min number of bytes in the chunk to be retrieved) Return: data (ptr to chunk)</p>
<p>Notes: (1) This attempts to find a suitable pre-allocated chunk. If not found, it dynamically allocates the chunk. (2) If logging is turned on, the allocations that are not taken from the memory store, and are at least as large as the minimum size the store can handle, are logged to file. </p>

<p>Definition at line <a class="el" href="pixalloc_8c_source.html#l00292">292</a> of file <a class="el" href="pixalloc_8c_source.html">pixalloc.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="ptra_8h_source.html#l00075">L_HANDLE_ONLY</a>, <a class="el" href="pixalloc_8c_source.html#l00119">PixMemoryStore::logfile</a>, <a class="el" href="pixalloc_8c_source.html#l00117">PixMemoryStore::memempty</a>, <a class="el" href="pixalloc_8c_source.html#l00115">PixMemoryStore::meminuse</a>, <a class="el" href="pixalloc_8c_source.html#l00116">PixMemoryStore::memmax</a>, <a class="el" href="pixalloc_8c_source.html#l00114">PixMemoryStore::memused</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pixalloc_8c_source.html#l00102">PixMemoryStore::paa</a>, <a class="el" href="pixalloc_8c_source.html#l00382">pmsGetAlloc()</a>, <a class="el" href="pixalloc_8c_source.html#l00413">pmsGetLevelForAlloc()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="ptra_8c_source.html#l00934">ptraaGetPtra()</a>, and <a class="el" href="ptra_8c_source.html#l00497">ptraRemoveLast()</a>.</p>

<p>Referenced by <a class="el" href="pixalloc__reg_8c_source.html#l00049">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ac64f4b1a46b2d09ece17276857bcf4e0"></a><!-- doxytag: member="pixalloc.c::pmsCustomDealloc" ref="ac64f4b1a46b2d09ece17276857bcf4e0" args="(void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pmsCustomDealloc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a55558c127ec63cfe0145d506deeea7ed">pmsCustomDealloc()</a></p>
<p>Input: data (to be freed or returned to the storage) Return: void </p>

<p>Definition at line <a class="el" href="pixalloc_8c_source.html#l00337">337</a> of file <a class="el" href="pixalloc_8c_source.html">pixalloc.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00216">FREE</a>, <a class="el" href="environ_8h_source.html#l00253">L_ERROR</a>, <a class="el" href="ptra_8h_source.html#l00075">L_HANDLE_ONLY</a>, <a class="el" href="pixalloc_8c_source.html#l00119">PixMemoryStore::logfile</a>, <a class="el" href="pixalloc_8c_source.html#l00115">PixMemoryStore::meminuse</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pixalloc_8c_source.html#l00102">PixMemoryStore::paa</a>, <a class="el" href="pixalloc_8c_source.html#l00452">pmsGetLevelForDealloc()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="ptra_8c_source.html#l00229">ptraAdd()</a>, and <a class="el" href="ptra_8c_source.html#l00934">ptraaGetPtra()</a>.</p>

<p>Referenced by <a class="el" href="pixalloc__reg_8c_source.html#l00049">main()</a>.</p>

</div>
</div>
<a class="anchor" id="af0bc6f9bb83390480b7c7fb4b600dcac"></a><!-- doxytag: member="pixalloc.c::pmsGetAlloc" ref="af0bc6f9bb83390480b7c7fb4b600dcac" args="(size_t nbytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* pmsGetAlloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nbytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a83661a6b0ad1d75a742dd5bfcfe7db9f">pmsGetAlloc()</a></p>
<p>Input: nbytes Return: data</p>
<p>Notes: (1) This is called when a request for pix data cannot be obtained from the preallocated memory store. After use it is freed like normal memory. (2) If logging is on, only write out allocs that are as large as the minimum size handled by the memory store. </p>

<p>Definition at line <a class="el" href="pixalloc_8c_source.html#l00382">382</a> of file <a class="el" href="pixalloc_8c_source.html">pixalloc.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00214">CALLOC</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="utils_8c_source.html#l01993">fopenWriteStream()</a>, <a class="el" href="pixalloc_8c_source.html#l00119">PixMemoryStore::logfile</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, and <a class="el" href="pixalloc_8c_source.html#l00105">PixMemoryStore::smallest</a>.</p>

<p>Referenced by <a class="el" href="pixalloc_8c_source.html#l00292">pmsCustomAlloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a8d499d36476873f3c7c1a0a3404ccb39"></a><!-- doxytag: member="pixalloc.c::pmsGetLevelForAlloc" ref="a8d499d36476873f3c7c1a0a3404ccb39" args="(size_t nbytes, l_int32 *plevel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> pmsGetLevelForAlloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *&#160;</td>
          <td class="paramname"><em>plevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a186fd7c98f9b153856e69d97dcb09922">pmsGetLevelForAlloc()</a></p>
<p>Input: nbytes (min number of bytes in the chunk to be retrieved) &amp;level (&lt;return&gt;; -1 if either too small or too large) Return: 0 if OK, 1 on error </p>

<p>Definition at line <a class="el" href="pixalloc_8c_source.html#l00413">413</a> of file <a class="el" href="pixalloc_8c_source.html">pixalloc.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="pixalloc_8c_source.html#l00106">PixMemoryStore::largest</a>, <a class="el" href="pixalloc_8c_source.html#l00103">PixMemoryStore::minsize</a>, <a class="el" href="pixalloc_8c_source.html#l00108">PixMemoryStore::nlevels</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, and <a class="el" href="pixalloc_8c_source.html#l00105">PixMemoryStore::smallest</a>.</p>

<p>Referenced by <a class="el" href="pixalloc_8c_source.html#l00292">pmsCustomAlloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a236877eec5d9c8e01af57be673bc5ac1"></a><!-- doxytag: member="pixalloc.c::pmsGetLevelForDealloc" ref="a236877eec5d9c8e01af57be673bc5ac1" args="(void *data, l_int32 *plevel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> pmsGetLevelForDealloc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *&#160;</td>
          <td class="paramname"><em>plevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a239dc24fbeb62807f78a5fad0e1f73e5">pmsGetLevelForDealloc()</a></p>
<p>Input: data (ptr to memory chunk) &amp;level (&lt;return&gt; level in memory store; -1 if allocated outside the store) Return: 0 if OK, 1 on error </p>

<p>Definition at line <a class="el" href="pixalloc_8c_source.html#l00452">452</a> of file <a class="el" href="pixalloc_8c_source.html">pixalloc.c</a>.</p>

<p>References <a class="el" href="pixalloc_8c_source.html#l00111">PixMemoryStore::baseptr</a>, <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="pixalloc_8c_source.html#l00113">PixMemoryStore::firstptr</a>, <a class="el" href="pixalloc_8c_source.html#l00112">PixMemoryStore::maxptr</a>, <a class="el" href="pixalloc_8c_source.html#l00108">PixMemoryStore::nlevels</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="pixalloc_8c_source.html#l00337">pmsCustomDealloc()</a>.</p>

</div>
</div>
<a class="anchor" id="ad5f881cf2245eb8d8bfcc28ba1b982d9"></a><!-- doxytag: member="pixalloc.c::pmsLogInfo" ref="ad5f881cf2245eb8d8bfcc28ba1b982d9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pmsLogInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a6e9f6308f959e9d34b621b4ac817f441">pmsLogInfo()</a></p>
<p>Input: (none) Return: void </p>

<p>Definition at line <a class="el" href="pixalloc_8c_source.html#l00490">490</a> of file <a class="el" href="pixalloc_8c_source.html">pixalloc.c</a>.</p>

<p>References <a class="el" href="pixalloc_8c_source.html#l00117">PixMemoryStore::memempty</a>, <a class="el" href="pixalloc_8c_source.html#l00116">PixMemoryStore::memmax</a>, <a class="el" href="pixalloc_8c_source.html#l00114">PixMemoryStore::memused</a>, <a class="el" href="pixalloc_8c_source.html#l00108">PixMemoryStore::nlevels</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, and <a class="el" href="pixalloc_8c_source.html#l00109">PixMemoryStore::sizes</a>.</p>

<p>Referenced by <a class="el" href="pixalloc_8c_source.html#l00250">pmsDestroy()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a7ad91dedf25ff77a9e1b12e19aa66063"></a><!-- doxytag: member="pixalloc.c::CustomPMS" ref="a7ad91dedf25ff77a9e1b12e19aa66063" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix_memory_store.html">L_PIX_MEM_STORE</a>* <a class="el" href="pixalloc_8c.html#a7ad91dedf25ff77a9e1b12e19aa66063">CustomPMS</a> = NULL<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pixalloc_8c_source.html#l00123">123</a> of file <a class="el" href="pixalloc_8c_source.html">pixalloc.c</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="pixalloc_8c.html">pixalloc.c</a>      </li>
      <li class="footer">Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
