<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Leptonica: src/regutils.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="moller52-tiny.jpg"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Leptonica&#160;<span id="projectnumber">1.68</span></div>
   <div id="projectbrief">C Image Processing Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('regutils_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<h1>regutils.h File Reference</h1>  </div>
</div>
<div class="contents">

<p>Regression test parameter packer.  
<a href="#_details">More...</a></p>

<p><a href="regutils_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_l___reg_params.html">L_RegParams</a></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_l___reg_params.html">L_RegParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="regutils_8h.html#a832a9b1edac161be33ea60a2ded940a1">L_REGPARAMS</a></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="regutils_8h.html#a550cb4231d535863c55643bbd2d3c6baa16bb87637e846f2de2b3b95cddadf25b">L_REG_GENERATE</a> =  0, 
<a class="el" href="regutils_8h.html#a550cb4231d535863c55643bbd2d3c6baa7ba6e571c3e41a7740c17178cb5b67f9">L_REG_COMPARE</a> =  1, 
<a class="el" href="regutils_8h.html#a550cb4231d535863c55643bbd2d3c6baabae3e61e65bc3c762b2015471dff5def">L_REG_DISPLAY</a> =  2
 }</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Regression test parameter packer. </p>
<div class="fragment"><pre class="fragment"> Contains <span class="keyword">this</span> regression test parameter packaging <span class="keyword">struct</span>
     <span class="keyword">struct </span><a class="code" href="struct_l___reg_params.html">L_RegParams</a>


 The regression test utility allows you to write regression <a class="code" href="alltests__reg_8c.html#a3eb5f726cdf59abb8b0df20ce8902180">tests</a>
 that compare results with existing &quot;golden files&quot;.

 Such regression <a class="code" href="alltests__reg_8c.html#a3eb5f726cdf59abb8b0df20ce8902180">tests</a> can be called in three ways.
 For example, for distance_reg:

     Case 1: distance_reg generate
         This generates golden files in /tmp for the reg test.

     Case 2: distance_reg compare
         This runs the test against the set of golden files.  It
         appends to &#39;outfile.txt&#39; either &quot;SUCCESS&quot; or &quot;FAILURE&quot;,
         as well as the details of any parts of the test that failed.
         It writes to a temporary file stream (fp)

     Case 3: distance_reg [<a class="code" href="struct_l___reg_params.html#a6907e4514a9014ba21bb23e5faf85923">display</a>]
         This runs the test but makes no comparison of the output
         against the set of golden files.  In addition, this displays
         images and plots that are specified in the test under
         control of the <a class="code" href="struct_l___reg_params.html#a6907e4514a9014ba21bb23e5faf85923">display</a> variable.  Display is enabled only
         for this case.  Using &#39;<a class="code" href="struct_l___reg_params.html#a6907e4514a9014ba21bb23e5faf85923">display</a>&#39; on the command line is optional.

 Regression <a class="code" href="alltests__reg_8c.html#a3eb5f726cdf59abb8b0df20ce8902180">tests</a> follow the pattern given below.  In an actual
 case, comparisons of pix and of files can occur in any order.
 We give a specific order here for clarity.

     <a class="code" href="struct_l___reg_params.html">L_REGPARAMS</a>  *rp;  <span class="comment">// holds data required by the test functions</span>

     <span class="comment">// Setup variables; optionally open stream</span>
     if (regTestSetup(argc, argv, &amp;rp))
         return 1;

     <span class="comment">// Test pairs of generated pix for identity.  This compares</span>
     <span class="comment">// two pix; no golden file is generated.</span>
     <a class="code" href="leptprotos_8h.html#a3908fc7dae17785821ec232dca3a6c06">regTestComparePix</a>(rp, pix1, pix2);

     <span class="comment">// Test pairs of generated pix for similarity.  This compares</span>
     <span class="comment">// two pix; no golden file is generated.  The last arg determines</span>
     <span class="comment">// if stats are to be written to stderr.</span>
     <a class="code" href="leptprotos_8h.html#a6b6399dc2d0c609eba15c0d4540001ea">regTestCompareSimilarPix</a>(rp, pix1, pix2, 15, 0.001, 0);

     <span class="comment">// Generation of &lt;newfile*&gt; outputs and testing for identity</span>
     <span class="comment">// These files can be anything, of course.</span>
     <a class="code" href="leptprotos_8h.html#a3a520fec54218b87becfb8417034f03d">regTestCheckFile</a>(rp, &lt;newfile0&gt;);
     <a class="code" href="leptprotos_8h.html#a3a520fec54218b87becfb8417034f03d">regTestCheckFile</a>(rp, &lt;newfile1&gt;);

     <span class="comment">// Test pairs of output golden files for identity.  Here we</span>
     <span class="comment">// are comparing golden files 4 and 5.</span>
     <a class="code" href="leptprotos_8h.html#ad37da8fbd202d49f54117884f3e3a3e4">regTestCompareFiles</a>(rp, 4, 5);

     <span class="comment">// &quot;Write and check&quot;.  This writes a pix using a canonical</span>
     <span class="comment">// formulation for the local filename and either:</span>
     <span class="comment">//     case 1: generates a golden file</span>
     <span class="comment">//     case 2: compares the local file with a golden file</span>
     <span class="comment">//     case 3: generates local files and displays</span>
     <span class="comment">// Here we write the pix compressed with png and jpeg, respectively;</span>
     <span class="comment">// Then check against the golden file.  The internal @index</span>
     <span class="comment">// is incremented; it is embedded in the local filename and,</span>
     <span class="comment">// if generating, in the golden file as well.</span>
     <a class="code" href="leptprotos_8h.html#a97c8ca0f6272805d6679e683c1073600">regTestWritePixAndCheck</a>(rp, pix1, IFF_PNG);
     <a class="code" href="leptprotos_8h.html#a97c8ca0f6272805d6679e683c1073600">regTestWritePixAndCheck</a>(rp, pix2, IFF_JFIF_JPEG);

     <span class="comment">// Display if reg test was called in &#39;display&#39; mode</span>
     <a class="code" href="leptprotos_8h.html#abfdb7bca89ec16e69b7f9748823cf7aa">pixDisplayWithTitle</a>(pix1, 100, 100, NULL, rp-&gt;<a class="code" href="struct_l___reg_params.html#a6907e4514a9014ba21bb23e5faf85923">display</a>);

     <span class="comment">// Clean up and output result</span>
     <a class="code" href="leptprotos_8h.html#aaa96f119e2744e286fdb1cab5562673a">regTestCleanup</a>(rp);
</pre></div> 
<p>Definition in file <a class="el" href="regutils_8h_source.html">regutils.h</a>.</p>
</div><hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a832a9b1edac161be33ea60a2ded940a1"></a><!-- doxytag: member="regutils.h::L_REGPARAMS" ref="a832a9b1edac161be33ea60a2ded940a1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_l___reg_params.html">L_RegParams</a> <a class="el" href="struct_l___reg_params.html">L_REGPARAMS</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="regutils_8h_source.html#l00110">110</a> of file <a class="el" href="regutils_8h_source.html">regutils.h</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a550cb4231d535863c55643bbd2d3c6ba"></a><!-- doxytag: member="regutils.h::@70" ref="a550cb4231d535863c55643bbd2d3c6ba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a550cb4231d535863c55643bbd2d3c6baa16bb87637e846f2de2b3b95cddadf25b"></a><!-- doxytag: member="L_REG_GENERATE" ref="a550cb4231d535863c55643bbd2d3c6baa16bb87637e846f2de2b3b95cddadf25b" args="" -->L_REG_GENERATE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a550cb4231d535863c55643bbd2d3c6baa7ba6e571c3e41a7740c17178cb5b67f9"></a><!-- doxytag: member="L_REG_COMPARE" ref="a550cb4231d535863c55643bbd2d3c6baa7ba6e571c3e41a7740c17178cb5b67f9" args="" -->L_REG_COMPARE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a550cb4231d535863c55643bbd2d3c6baabae3e61e65bc3c762b2015471dff5def"></a><!-- doxytag: member="L_REG_DISPLAY" ref="a550cb4231d535863c55643bbd2d3c6baabae3e61e65bc3c762b2015471dff5def" args="" -->L_REG_DISPLAY</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="regutils_8h_source.html#l00114">114</a> of file <a class="el" href="regutils_8h_source.html">regutils.h</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="regutils_8h.html">regutils.h</a>      </li>
      <li class="footer">Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
