<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Leptonica: src/shear.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="moller52-tiny.jpg"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Leptonica&#160;<span id="projectnumber">1.68</span></div>
   <div id="projectbrief">C Image Processing Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('shear_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>shear.c File Reference</h1>  </div>
</div>
<div class="contents">

<p>Image shear about arbitrary lines and special points.  
<a href="#_details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;math.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="allheaders_8h_source.html">allheaders.h</a>&quot;</code><br/>
</div>
<p><a href="shear_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shear_8c.html#ad72dbcf6d0153db1b8d8a58001feed83">DEBUG</a>&#160;&#160;&#160;0</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shear_8c.html#a1b492a06ad29358ef2db8a4cefaf6947">normalizeAngleForShear</a> (<a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> radang, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> mindif)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shear_8c.html#ae720a488bb38f92f3857958e898fa2c1">pixHShear</a> (<a class="el" href="struct_pix.html">PIX</a> *pixd, <a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> liney, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> radang, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> incolor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shear_8c.html#a4f18298657f8b7a6f415267a9f27021c">pixVShear</a> (<a class="el" href="struct_pix.html">PIX</a> *pixd, <a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> linex, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> radang, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> incolor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shear_8c.html#aa8ac3787cf5c19df3211e7be773944d2">pixHShearCorner</a> (<a class="el" href="struct_pix.html">PIX</a> *pixd, <a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> radang, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> incolor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shear_8c.html#a9b900b9b8709789a2c4fdf19e0986380">pixVShearCorner</a> (<a class="el" href="struct_pix.html">PIX</a> *pixd, <a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> radang, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> incolor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shear_8c.html#a29e457ed537752d7cedc06084c5cfba7">pixHShearCenter</a> (<a class="el" href="struct_pix.html">PIX</a> *pixd, <a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> radang, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> incolor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shear_8c.html#a76987f2b0a65ca505fc998ad9abad309">pixVShearCenter</a> (<a class="el" href="struct_pix.html">PIX</a> *pixd, <a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> radang, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> incolor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shear_8c.html#aaf180ae5b78a70c7df4315fa85f18b9c">pixHShearIP</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> liney, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> radang, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> incolor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shear_8c.html#a1e1d0c78dd2cd0cd2cedc1a1184a96a0">pixVShearIP</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> linex, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> radang, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> incolor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shear_8c.html#acf5d6ebcd7a1f1b7f5685e769e9e4e28">pixHShearLI</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> liney, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> radang, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> incolor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shear_8c.html#a9c6b6b7de80cdcbdebf63271b1392f0b">pixVShearLI</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> linex, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> radang, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> incolor)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shear_8c.html#a5e840e7dfaf786d8c9b9fddddacd94ff">MIN_DIFF_FROM_HALF_PI</a> = 0.04</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Image shear about arbitrary lines and special points. </p>
<div class="fragment"><pre class="fragment">  About arbitrary lines
         <a class="code" href="struct_pix.html">PIX</a>      *<a class="code" href="leptprotos_8h.html#a258583ceac7003db795a52f90ec1bb5a">pixHShear</a>()
         <a class="code" href="struct_pix.html">PIX</a>      *<a class="code" href="leptprotos_8h.html#a92c7e61d8d175082aa6523f484b888e0">pixVShear</a>()

  About special &#39;points&#39;: UL corner and center
         <a class="code" href="struct_pix.html">PIX</a>      *<a class="code" href="leptprotos_8h.html#a2a0ebd3d3bbe469ffabf6eb3965ce9c9">pixHShearCorner</a>()
         <a class="code" href="struct_pix.html">PIX</a>      *<a class="code" href="leptprotos_8h.html#a6f5c3ba52fe490d7b3b17a8f70a6ab66">pixVShearCorner</a>()
         <a class="code" href="struct_pix.html">PIX</a>      *<a class="code" href="leptprotos_8h.html#a6e3664bb8dfd4d3516f040d94a8fad2e">pixHShearCenter</a>()
         <a class="code" href="struct_pix.html">PIX</a>      *<a class="code" href="leptprotos_8h.html#ad3ee047da1970094204006e391b4be27">pixVShearCenter</a>()

  In place about arbitrary lines
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>   <a class="code" href="leptprotos_8h.html#ad6819aeb89e0dbe3c5dd3d68778bc532">pixHShearIP</a>()
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>   <a class="code" href="leptprotos_8h.html#a111cc1ba2344c01e171bc80b8de2a4d5">pixVShearIP</a>()

  Linear interpolated shear about arbitrary lines
         <a class="code" href="struct_pix.html">PIX</a>      *<a class="code" href="leptprotos_8h.html#a09aced82387cb20de00aae5af72b899c">pixHShearLI</a>()
         <a class="code" href="struct_pix.html">PIX</a>      *<a class="code" href="leptprotos_8h.html#aa26890ae970c92aee9cf9f191cd66b10">pixVShearLI</a>()

  Static helper
    static <a class="code" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>  <a class="code" href="shear_8c.html#a1b492a06ad29358ef2db8a4cefaf6947">normalizeAngleForShear</a>()
</pre></div> 
<p>Definition in file <a class="el" href="shear_8c_source.html">shear.c</a>.</p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="ad72dbcf6d0153db1b8d8a58001feed83"></a><!-- doxytag: member="shear.c::DEBUG" ref="ad72dbcf6d0153db1b8d8a58001feed83" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="shear_8c_source.html#l00055">55</a> of file <a class="el" href="shear_8c_source.html">shear.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a1b492a06ad29358ef2db8a4cefaf6947"></a><!-- doxytag: member="shear.c::normalizeAngleForShear" ref="a1b492a06ad29358ef2db8a4cefaf6947" args="(l_float32 radang, l_float32 mindif)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> normalizeAngleForShear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>&#160;</td>
          <td class="paramname"><em>radang</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>&#160;</td>
          <td class="paramname"><em>mindif</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="shear_8c_source.html#l00783">783</a> of file <a class="el" href="shear_8c_source.html">shear.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00257">L_WARNING</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="shear_8c_source.html#l00100">pixHShear()</a>, <a class="el" href="shear_8c_source.html#l00434">pixHShearIP()</a>, <a class="el" href="shear_8c_source.html#l00582">pixHShearLI()</a>, <a class="el" href="shear_8c_source.html#l00215">pixVShear()</a>, <a class="el" href="shear_8c_source.html#l00504">pixVShearIP()</a>, and <a class="el" href="shear_8c_source.html#l00692">pixVShearLI()</a>.</p>

</div>
</div>
<a class="anchor" id="ae720a488bb38f92f3857958e898fa2c1"></a><!-- doxytag: member="shear.c::pixHShear" ref="ae720a488bb38f92f3857958e898fa2c1" args="(PIX *pixd, PIX *pixs, l_int32 liney, l_float32 radang, l_int32 incolor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixHShear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>liney</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>&#160;</td>
          <td class="paramname"><em>radang</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>incolor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a258583ceac7003db795a52f90ec1bb5a">pixHShear()</a></p>
<p>Input: pixd (&lt;optional&gt;, this can be null, equal to pixs, or different from pixs) pixs (no restrictions on depth) liney (location of horizontal line, measured from origin) angle (in radians) incolor (L_BRING_IN_WHITE, L_BRING_IN_BLACK); Return: pixd, always</p>
<p>Notes: (1) There are 3 cases: (a) pixd == null (make a new pixd) (b) pixd == pixs (in-place) (c) pixd != pixs (2) For these three cases, use these patterns, respectively: pixd = pixHShear(NULL, pixs, ...); pixHShear(pixs, pixs, ...); pixHShear(pixd, pixs, ...); (3) This shear leaves the horizontal line of pixels at y = liney invariant. For a positive shear angle, pixels above this line are shoved to the right, and pixels below this line move to the left. (4) With positive shear angle, this can be used, along with <a class="el" href="leptprotos_8h.html#a92c7e61d8d175082aa6523f484b888e0">pixVShear()</a>, to perform a cw rotation, either with 2 shears (for small angles) or in the general case with 3 shears. (5) Changing the value of liney is equivalent to translating the result horizontally. (6) This brings in 'incolor' pixels from outside the image. (7) For in-place operation, pixs cannot be colormapped, because the in-place operation only blits in 0 or 1 bits, not an arbitrary colormap index. (8) The angle is brought into the range [-pi, -pi]. It is not permitted to be within MIN_DIFF_FROM_HALF_PI radians from either -pi/2 or pi/2. </p>

<p>Definition at line <a class="el" href="shear_8c_source.html#l00100">100</a> of file <a class="el" href="shear_8c_source.html">shear.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00159">L_ABS</a>, <a class="el" href="pix_8h_source.html#l00695">L_BRING_IN_BLACK</a>, <a class="el" href="pix_8h_source.html#l00694">L_BRING_IN_WHITE</a>, <a class="el" href="environ_8h_source.html#l00163">L_SIGN</a>, <a class="el" href="shear_8c_source.html#l00049">MIN_DIFF_FROM_HALF_PI</a>, <a class="el" href="shear_8c_source.html#l00783">normalizeAngleForShear()</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix_8h_source.html#l00243">PIX_SRC</a>, <a class="el" href="pix1_8c_source.html#l00548">pixCopy()</a>, <a class="el" href="pix1_8c_source.html#l00328">pixCreateTemplate()</a>, <a class="el" href="pix1_8c_source.html#l01288">pixGetColormap()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="shear_8c_source.html#l00434">pixHShearIP()</a>, <a class="el" href="rop_8c_source.html#l00180">pixRasterop()</a>, <a class="el" href="pix1_8c_source.html#l00605">pixResizeImageData()</a>, <a class="el" href="pix2_8c_source.html#l00735">pixSetBlackOrWhite()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="sheartest_8c_source.html#l00031">main()</a>, <a class="el" href="shear_8c_source.html#l00369">pixHShearCenter()</a>, <a class="el" href="shear_8c_source.html#l00311">pixHShearCorner()</a>, <a class="el" href="rotateshear_8c_source.html#l00216">pixRotate2Shear()</a>, <a class="el" href="rotateshear_8c_source.html#l00272">pixRotate3Shear()</a>, and <a class="el" href="shear__reg_8c_source.html#l00127">shearTest()</a>.</p>

</div>
</div>
<a class="anchor" id="a4f18298657f8b7a6f415267a9f27021c"></a><!-- doxytag: member="shear.c::pixVShear" ref="a4f18298657f8b7a6f415267a9f27021c" args="(PIX *pixd, PIX *pixs, l_int32 linex, l_float32 radang, l_int32 incolor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixVShear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>linex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>&#160;</td>
          <td class="paramname"><em>radang</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>incolor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a92c7e61d8d175082aa6523f484b888e0">pixVShear()</a></p>
<p>Input: pixd (&lt;optional&gt;, this can be null, equal to pixs, or different from pixs) pixs (no restrictions on depth) linex (location of vertical line, measured from origin) angle (in radians; not too close to +-(pi / 2)) incolor (L_BRING_IN_WHITE, L_BRING_IN_BLACK); Return: pixd, or null on error</p>
<p>Notes: (1) There are 3 cases: (a) pixd == null (make a new pixd) (b) pixd == pixs (in-place) (c) pixd != pixs (2) For these three cases, use these patterns, respectively: pixd = pixVShear(NULL, pixs, ...); pixVShear(pixs, pixs, ...); pixVShear(pixd, pixs, ...); (3) This shear leaves the vertical line of pixels at x = linex invariant. For a positive shear angle, pixels to the right of this line are shoved downward, and pixels to the left of the line move upward. (4) With positive shear angle, this can be used, along with <a class="el" href="leptprotos_8h.html#a258583ceac7003db795a52f90ec1bb5a">pixHShear()</a>, to perform a cw rotation, either with 2 shears (for small angles) or in the general case with 3 shears. (5) Changing the value of linex is equivalent to translating the result vertically. (6) This brings in 'incolor' pixels from outside the image. (7) For in-place operation, pixs cannot be colormapped, because the in-place operation only blits in 0 or 1 bits, not an arbitrary colormap index. (8) The angle is brought into the range [-pi, -pi]. It is not permitted to be within MIN_DIFF_FROM_HALF_PI radians from either -pi/2 or pi/2. </p>

<p>Definition at line <a class="el" href="shear_8c_source.html#l00215">215</a> of file <a class="el" href="shear_8c_source.html">shear.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00159">L_ABS</a>, <a class="el" href="pix_8h_source.html#l00695">L_BRING_IN_BLACK</a>, <a class="el" href="pix_8h_source.html#l00694">L_BRING_IN_WHITE</a>, <a class="el" href="environ_8h_source.html#l00163">L_SIGN</a>, <a class="el" href="shear_8c_source.html#l00049">MIN_DIFF_FROM_HALF_PI</a>, <a class="el" href="shear_8c_source.html#l00783">normalizeAngleForShear()</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix_8h_source.html#l00243">PIX_SRC</a>, <a class="el" href="pix1_8c_source.html#l00548">pixCopy()</a>, <a class="el" href="pix1_8c_source.html#l00328">pixCreateTemplate()</a>, <a class="el" href="pix1_8c_source.html#l01288">pixGetColormap()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="rop_8c_source.html#l00180">pixRasterop()</a>, <a class="el" href="pix1_8c_source.html#l00605">pixResizeImageData()</a>, <a class="el" href="pix2_8c_source.html#l00735">pixSetBlackOrWhite()</a>, <a class="el" href="shear_8c_source.html#l00504">pixVShearIP()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="sheartest_8c_source.html#l00031">main()</a>, <a class="el" href="rotateshear_8c_source.html#l00216">pixRotate2Shear()</a>, <a class="el" href="rotateshear_8c_source.html#l00272">pixRotate3Shear()</a>, <a class="el" href="shear_8c_source.html#l00398">pixVShearCenter()</a>, <a class="el" href="shear_8c_source.html#l00340">pixVShearCorner()</a>, and <a class="el" href="shear__reg_8c_source.html#l00127">shearTest()</a>.</p>

</div>
</div>
<a class="anchor" id="aa8ac3787cf5c19df3211e7be773944d2"></a><!-- doxytag: member="shear.c::pixHShearCorner" ref="aa8ac3787cf5c19df3211e7be773944d2" args="(PIX *pixd, PIX *pixs, l_float32 radang, l_int32 incolor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixHShearCorner </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>&#160;</td>
          <td class="paramname"><em>radang</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>incolor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a2a0ebd3d3bbe469ffabf6eb3965ce9c9">pixHShearCorner()</a></p>
<p>Input: pixd (&lt;optional&gt;, if not null, must be equal to pixs) pixs angle (in radians) incolor (L_BRING_IN_WHITE, L_BRING_IN_BLACK); Return: pixd, or null on error.</p>
<p>Notes: (1) See <a class="el" href="leptprotos_8h.html#a258583ceac7003db795a52f90ec1bb5a">pixHShear()</a> for usage. (2) This does a horizontal shear about the UL corner, with (+) shear pushing increasingly leftward (-x) with increasing y. </p>

<p>Definition at line <a class="el" href="shear_8c_source.html#l00311">311</a> of file <a class="el" href="shear_8c_source.html">shear.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="shear_8c_source.html#l00100">pixHShear()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

</div>
</div>
<a class="anchor" id="a9b900b9b8709789a2c4fdf19e0986380"></a><!-- doxytag: member="shear.c::pixVShearCorner" ref="a9b900b9b8709789a2c4fdf19e0986380" args="(PIX *pixd, PIX *pixs, l_float32 radang, l_int32 incolor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixVShearCorner </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>&#160;</td>
          <td class="paramname"><em>radang</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>incolor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a6f5c3ba52fe490d7b3b17a8f70a6ab66">pixVShearCorner()</a></p>
<p>Input: pixd (&lt;optional&gt;, if not null, must be equal to pixs) pixs angle (in radians) incolor (L_BRING_IN_WHITE, L_BRING_IN_BLACK); Return: pixd, or null on error.</p>
<p>Notes: (1) See <a class="el" href="leptprotos_8h.html#a92c7e61d8d175082aa6523f484b888e0">pixVShear()</a> for usage. (2) This does a vertical shear about the UL corner, with (+) shear pushing increasingly downward (+y) with increasing x. </p>

<p>Definition at line <a class="el" href="shear_8c_source.html#l00340">340</a> of file <a class="el" href="shear_8c_source.html">shear.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="shear_8c_source.html#l00215">pixVShear()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="skew_8c_source.html#l00347">pixFindSkewSweep()</a>, and <a class="el" href="skew_8c_source.html#l00588">pixFindSkewSweepAndSearchScorePivot()</a>.</p>

</div>
</div>
<a class="anchor" id="a29e457ed537752d7cedc06084c5cfba7"></a><!-- doxytag: member="shear.c::pixHShearCenter" ref="a29e457ed537752d7cedc06084c5cfba7" args="(PIX *pixd, PIX *pixs, l_float32 radang, l_int32 incolor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixHShearCenter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>&#160;</td>
          <td class="paramname"><em>radang</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>incolor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a6e3664bb8dfd4d3516f040d94a8fad2e">pixHShearCenter()</a></p>
<p>Input: pixd (&lt;optional&gt;, if not null, must be equal to pixs) pixs angle (in radians) incolor (L_BRING_IN_WHITE, L_BRING_IN_BLACK); Return: pixd, or null on error.</p>
<p>Notes: (1) See <a class="el" href="leptprotos_8h.html#a258583ceac7003db795a52f90ec1bb5a">pixHShear()</a> for usage. (2) This does a horizontal shear about the center, with (+) shear pushing increasingly leftward (-x) with increasing y. </p>

<p>Definition at line <a class="el" href="shear_8c_source.html#l00369">369</a> of file <a class="el" href="shear_8c_source.html">shear.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="pix1_8c_source.html#l00833">pixGetHeight()</a>, <a class="el" href="shear_8c_source.html#l00100">pixHShear()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

</div>
</div>
<a class="anchor" id="a76987f2b0a65ca505fc998ad9abad309"></a><!-- doxytag: member="shear.c::pixVShearCenter" ref="a76987f2b0a65ca505fc998ad9abad309" args="(PIX *pixd, PIX *pixs, l_float32 radang, l_int32 incolor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixVShearCenter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>&#160;</td>
          <td class="paramname"><em>radang</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>incolor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#ad3ee047da1970094204006e391b4be27">pixVShearCenter()</a></p>
<p>Input: pixd (&lt;optional&gt;, if not null, must be equal to pixs) pixs angle (in radians) incolor (L_BRING_IN_WHITE, L_BRING_IN_BLACK); Return: pixd, or null on error.</p>
<p>Notes: (1) See <a class="el" href="leptprotos_8h.html#a92c7e61d8d175082aa6523f484b888e0">pixVShear()</a> for usage. (2) This does a vertical shear about the center, with (+) shear pushing increasingly downward (+y) with increasing x. </p>

<p>Definition at line <a class="el" href="shear_8c_source.html#l00398">398</a> of file <a class="el" href="shear_8c_source.html">shear.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="pix1_8c_source.html#l00803">pixGetWidth()</a>, <a class="el" href="shear_8c_source.html#l00215">pixVShear()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="skew_8c_source.html#l00588">pixFindSkewSweepAndSearchScorePivot()</a>.</p>

</div>
</div>
<a class="anchor" id="aaf180ae5b78a70c7df4315fa85f18b9c"></a><!-- doxytag: member="shear.c::pixHShearIP" ref="aaf180ae5b78a70c7df4315fa85f18b9c" args="(PIX *pixs, l_int32 liney, l_float32 radang, l_int32 incolor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> pixHShearIP </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>liney</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>&#160;</td>
          <td class="paramname"><em>radang</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>incolor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#ad6819aeb89e0dbe3c5dd3d68778bc532">pixHShearIP()</a></p>
<p>Input: pixs liney (location of horizontal line, measured from origin) angle (in radians) incolor (L_BRING_IN_WHITE, L_BRING_IN_BLACK); Return: 0 if OK; 1 on error</p>
<p>Notes: (1) This is an in-place version of <a class="el" href="leptprotos_8h.html#a258583ceac7003db795a52f90ec1bb5a">pixHShear()</a>; see comments there. (2) This brings in 'incolor' pixels from outside the image. (3) pixs cannot be colormapped, because the in-place operation only blits in 0 or 1 bits, not an arbitrary colormap index. (4) Does a horizontal full-band shear about the line with (+) shear pushing increasingly leftward (-x) with increasing y. </p>

<p>Definition at line <a class="el" href="shear_8c_source.html#l00434">434</a> of file <a class="el" href="shear_8c_source.html">shear.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="environ_8h_source.html#l00159">L_ABS</a>, <a class="el" href="pix_8h_source.html#l00695">L_BRING_IN_BLACK</a>, <a class="el" href="pix_8h_source.html#l00694">L_BRING_IN_WHITE</a>, <a class="el" href="environ_8h_source.html#l00163">L_SIGN</a>, <a class="el" href="shear_8c_source.html#l00049">MIN_DIFF_FROM_HALF_PI</a>, <a class="el" href="shear_8c_source.html#l00783">normalizeAngleForShear()</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix1_8c_source.html#l01288">pixGetColormap()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="rop_8c_source.html#l00330">pixRasteropHip()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="sheartest_8c_source.html#l00031">main()</a>, <a class="el" href="affine_8c_source.html#l01446">pixAffineSequential()</a>, <a class="el" href="shear_8c_source.html#l00100">pixHShear()</a>, <a class="el" href="rotateshear_8c_source.html#l00330">pixRotateShearIP()</a>, and <a class="el" href="shear__reg_8c_source.html#l00127">shearTest()</a>.</p>

</div>
</div>
<a class="anchor" id="a1e1d0c78dd2cd0cd2cedc1a1184a96a0"></a><!-- doxytag: member="shear.c::pixVShearIP" ref="a1e1d0c78dd2cd0cd2cedc1a1184a96a0" args="(PIX *pixs, l_int32 linex, l_float32 radang, l_int32 incolor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> pixVShearIP </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>linex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>&#160;</td>
          <td class="paramname"><em>radang</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>incolor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a111cc1ba2344c01e171bc80b8de2a4d5">pixVShearIP()</a></p>
<p>Input: pixs (all depths; not colormapped) linex (location of vertical line, measured from origin) angle (in radians) incolor (L_BRING_IN_WHITE, L_BRING_IN_BLACK); Return: 0 if OK; 1 on error</p>
<p>Notes: (1) This is an in-place version of <a class="el" href="leptprotos_8h.html#a92c7e61d8d175082aa6523f484b888e0">pixVShear()</a>; see comments there. (2) This brings in 'incolor' pixels from outside the image. (3) pixs cannot be colormapped, because the in-place operation only blits in 0 or 1 bits, not an arbitrary colormap index. (4) Does a vertical full-band shear about the line with (+) shear pushing increasingly downward (+y) with increasing x. </p>

<p>Definition at line <a class="el" href="shear_8c_source.html#l00504">504</a> of file <a class="el" href="shear_8c_source.html">shear.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="environ_8h_source.html#l00159">L_ABS</a>, <a class="el" href="pix_8h_source.html#l00695">L_BRING_IN_BLACK</a>, <a class="el" href="pix_8h_source.html#l00694">L_BRING_IN_WHITE</a>, <a class="el" href="environ_8h_source.html#l00163">L_SIGN</a>, <a class="el" href="shear_8c_source.html#l00049">MIN_DIFF_FROM_HALF_PI</a>, <a class="el" href="shear_8c_source.html#l00783">normalizeAngleForShear()</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix1_8c_source.html#l01288">pixGetColormap()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="rop_8c_source.html#l00254">pixRasteropVip()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="sheartest_8c_source.html#l00031">main()</a>, <a class="el" href="affine_8c_source.html#l01446">pixAffineSequential()</a>, <a class="el" href="rotateshear_8c_source.html#l00330">pixRotateShearIP()</a>, <a class="el" href="shear_8c_source.html#l00215">pixVShear()</a>, and <a class="el" href="shear__reg_8c_source.html#l00127">shearTest()</a>.</p>

</div>
</div>
<a class="anchor" id="acf5d6ebcd7a1f1b7f5685e769e9e4e28"></a><!-- doxytag: member="shear.c::pixHShearLI" ref="acf5d6ebcd7a1f1b7f5685e769e9e4e28" args="(PIX *pixs, l_int32 liney, l_float32 radang, l_int32 incolor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixHShearLI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>liney</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>&#160;</td>
          <td class="paramname"><em>radang</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>incolor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a09aced82387cb20de00aae5af72b899c">pixHShearLI()</a></p>
<p>Input: pixs (8 bpp or 32 bpp, or colormapped) liney (location of horizontal line, measured from origin) angle (in radians, in range (-pi/2 ... pi/2)) incolor (L_BRING_IN_WHITE, L_BRING_IN_BLACK); Return: pixd (sheared), or null on error</p>
<p>Notes: (1) This does horizontal shear with linear interpolation for accurate results on 8 bpp gray, 32 bpp rgb, or cmapped images. It is relatively slow compared to the sampled version implemented by rasterop, but the result is much smoother. (2) This shear leaves the horizontal line of pixels at y = liney invariant. For a positive shear angle, pixels above this line are shoved to the right, and pixels below this line move to the left. (3) Any colormap is removed. (4) The angle is brought into the range [-pi/2 + del, pi/2 - del], where del == MIN_DIFF_FROM_HALF_PI. </p>

<p>Definition at line <a class="el" href="shear_8c_source.html#l00582">582</a> of file <a class="el" href="shear_8c_source.html">shear.c</a>.</p>

<p>References <a class="el" href="pix2_8c_source.html#l02076">composeRGBPixel()</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="arrayaccess_8h_source.html#l00118">GET_DATA_BYTE</a>, <a class="el" href="pix_8h_source.html#l00153">L_BLUE_SHIFT</a>, <a class="el" href="pix_8h_source.html#l00695">L_BRING_IN_BLACK</a>, <a class="el" href="pix_8h_source.html#l00694">L_BRING_IN_WHITE</a>, <a class="el" href="pix_8h_source.html#l00151">L_GREEN_SHIFT</a>, <a class="el" href="pix_8h_source.html#l00149">L_RED_SHIFT</a>, <a class="el" href="shear_8c_source.html#l00049">MIN_DIFF_FROM_HALF_PI</a>, <a class="el" href="shear_8c_source.html#l00783">normalizeAngleForShear()</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix1_8c_source.html#l00440">pixClone()</a>, <a class="el" href="pix1_8c_source.html#l00548">pixCopy()</a>, <a class="el" href="pix1_8c_source.html#l00328">pixCreateTemplate()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l01288">pixGetColormap()</a>, <a class="el" href="pix1_8c_source.html#l01358">pixGetData()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix1_8c_source.html#l00970">pixGetWpl()</a>, <a class="el" href="pixconv_8c_source.html#l00223">pixRemoveColormap()</a>, <a class="el" href="pix2_8c_source.html#l00735">pixSetBlackOrWhite()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="pix_8h_source.html#l00181">REMOVE_CMAP_BASED_ON_SRC</a>, and <a class="el" href="arrayaccess_8h_source.html#l00126">SET_DATA_BYTE</a>.</p>

<p>Referenced by <a class="el" href="warpertest_8c_source.html#l00037">main()</a>, <a class="el" href="warper_8c_source.html#l00567">pixWarpStereoscopic()</a>, and <a class="el" href="shear__reg_8c_source.html#l00127">shearTest()</a>.</p>

</div>
</div>
<a class="anchor" id="a9c6b6b7de80cdcbdebf63271b1392f0b"></a><!-- doxytag: member="shear.c::pixVShearLI" ref="a9c6b6b7de80cdcbdebf63271b1392f0b" args="(PIX *pixs, l_int32 linex, l_float32 radang, l_int32 incolor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixVShearLI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>linex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>&#160;</td>
          <td class="paramname"><em>radang</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>incolor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#aa26890ae970c92aee9cf9f191cd66b10">pixVShearLI()</a></p>
<p>Input: pixs (8 bpp or 32 bpp, or colormapped) linex (location of vertical line, measured from origin) angle (in radians, in range (-pi/2 ... pi/2)) incolor (L_BRING_IN_WHITE, L_BRING_IN_BLACK); Return: pixd (sheared), or null on error</p>
<p>Notes: (1) This does vertical shear with linear interpolation for accurate results on 8 bpp gray, 32 bpp rgb, or cmapped images. It is relatively slow compared to the sampled version implemented by rasterop, but the result is much smoother. (2) This shear leaves the vertical line of pixels at x = linex invariant. For a positive shear angle, pixels to the right of this line are shoved downward, and pixels to the left of the line move upward. (3) Any colormap is removed. (4) The angle is brought into the range [-pi/2 + del, pi/2 - del], where del == MIN_DIFF_FROM_HALF_PI. </p>

<p>Definition at line <a class="el" href="shear_8c_source.html#l00692">692</a> of file <a class="el" href="shear_8c_source.html">shear.c</a>.</p>

<p>References <a class="el" href="pix2_8c_source.html#l02076">composeRGBPixel()</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="arrayaccess_8h_source.html#l00118">GET_DATA_BYTE</a>, <a class="el" href="pix_8h_source.html#l00153">L_BLUE_SHIFT</a>, <a class="el" href="pix_8h_source.html#l00695">L_BRING_IN_BLACK</a>, <a class="el" href="pix_8h_source.html#l00694">L_BRING_IN_WHITE</a>, <a class="el" href="pix_8h_source.html#l00151">L_GREEN_SHIFT</a>, <a class="el" href="pix_8h_source.html#l00149">L_RED_SHIFT</a>, <a class="el" href="shear_8c_source.html#l00049">MIN_DIFF_FROM_HALF_PI</a>, <a class="el" href="shear_8c_source.html#l00783">normalizeAngleForShear()</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix1_8c_source.html#l00440">pixClone()</a>, <a class="el" href="pix1_8c_source.html#l00548">pixCopy()</a>, <a class="el" href="pix1_8c_source.html#l00328">pixCreateTemplate()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l01288">pixGetColormap()</a>, <a class="el" href="pix1_8c_source.html#l01358">pixGetData()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="pix1_8c_source.html#l00970">pixGetWpl()</a>, <a class="el" href="pixconv_8c_source.html#l00223">pixRemoveColormap()</a>, <a class="el" href="pix2_8c_source.html#l00735">pixSetBlackOrWhite()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="pix_8h_source.html#l00181">REMOVE_CMAP_BASED_ON_SRC</a>, and <a class="el" href="arrayaccess_8h_source.html#l00126">SET_DATA_BYTE</a>.</p>

<p>Referenced by <a class="el" href="warpertest_8c_source.html#l00037">main()</a>, and <a class="el" href="shear__reg_8c_source.html#l00127">shearTest()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a5e840e7dfaf786d8c9b9fddddacd94ff"></a><!-- doxytag: member="shear.c::MIN_DIFF_FROM_HALF_PI" ref="a5e840e7dfaf786d8c9b9fddddacd94ff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> <a class="el" href="shear_8c.html#a5e840e7dfaf786d8c9b9fddddacd94ff">MIN_DIFF_FROM_HALF_PI</a> = 0.04<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="shear_8c_source.html#l00049">49</a> of file <a class="el" href="shear_8c_source.html">shear.c</a>.</p>

<p>Referenced by <a class="el" href="shear_8c_source.html#l00100">pixHShear()</a>, <a class="el" href="shear_8c_source.html#l00434">pixHShearIP()</a>, <a class="el" href="shear_8c_source.html#l00582">pixHShearLI()</a>, <a class="el" href="shear_8c_source.html#l00215">pixVShear()</a>, <a class="el" href="shear_8c_source.html#l00504">pixVShearIP()</a>, and <a class="el" href="shear_8c_source.html#l00692">pixVShearLI()</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="shear_8c.html">shear.c</a>      </li>
      <li class="footer">Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
