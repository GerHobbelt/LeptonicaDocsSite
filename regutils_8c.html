<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Leptonica: src/regutils.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="moller52-tiny.jpg"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Leptonica&#160;<span id="projectnumber">1.68</span></div>
   <div id="projectbrief">C Image Processing Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('regutils_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>regutils.c File Reference</h1>  </div>
</div>
<div class="contents">

<p>Regression test utilities.  
<a href="#_details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="allheaders_8h_source.html">allheaders.h</a>&quot;</code><br/>
</div>
<p><a href="regutils_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="regutils_8c.html#a7a9ad2c11491c8d16f84fc38acb5b967">getRootNameFromArgv0</a> (const char *argv0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="regutils_8c.html#a1ed38b553c1fd2997ba6797fc359bf5a">regTestSetup</a> (<a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> argc, char **argv, <a class="el" href="struct_l___reg_params.html">L_REGPARAMS</a> **prp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="regutils_8c.html#aa94a5d4cd1b9681f052a551beac10031">regTestCleanup</a> (<a class="el" href="struct_l___reg_params.html">L_REGPARAMS</a> *rp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="regutils_8c.html#a33798adc8c58b243a15d31080a640111">regTestComparePix</a> (<a class="el" href="struct_l___reg_params.html">L_REGPARAMS</a> *rp, <a class="el" href="struct_pix.html">PIX</a> *pix1, <a class="el" href="struct_pix.html">PIX</a> *pix2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="regutils_8c.html#a7351890492b9ab25f0f1e48cf68de4b5">regTestCompareSimilarPix</a> (<a class="el" href="struct_l___reg_params.html">L_REGPARAMS</a> *rp, <a class="el" href="struct_pix.html">PIX</a> *pix1, <a class="el" href="struct_pix.html">PIX</a> *pix2, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> mindiff, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> maxfract, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> printstats)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="regutils_8c.html#a9f50b7f42b13c92dd1a52628527fe3f2">regTestCheckFile</a> (<a class="el" href="struct_l___reg_params.html">L_REGPARAMS</a> *rp, const char *localname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="regutils_8c.html#a198bba87afe6d4b383f565bf717b8d54">regTestCompareFiles</a> (<a class="el" href="struct_l___reg_params.html">L_REGPARAMS</a> *rp, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> index1, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> index2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="regutils_8c.html#a5cd2ecf8b4e69e085fc4d5452f272c28">regTestWritePixAndCheck</a> (<a class="el" href="struct_l___reg_params.html">L_REGPARAMS</a> *rp, <a class="el" href="struct_pix.html">PIX</a> *pix, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> format)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="regutils_8c.html#a0a3ea8e6ec9131cd7b94da891b7c2afa">NumImageFileFormatExtensions</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="regutils_8c.html#a65db7b5cece58497d4ecbd3cfa1002cc">ImageFileFormatExtensions</a> []</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Regression test utilities. </p>
<div class="fragment"><pre class="fragment">     Regression test utilities
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>    <a class="code" href="leptprotos_8h.html#ae0217b9c267e3898440aaf6a026efb8d">regTestSetup</a>()
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>    <a class="code" href="leptprotos_8h.html#aaa96f119e2744e286fdb1cab5562673a">regTestCleanup</a>()
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>    <a class="code" href="leptprotos_8h.html#a3908fc7dae17785821ec232dca3a6c06">regTestComparePix</a>()
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>    <a class="code" href="leptprotos_8h.html#a6b6399dc2d0c609eba15c0d4540001ea">regTestCompareSimilarPix</a>()
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>    <a class="code" href="leptprotos_8h.html#a3a520fec54218b87becfb8417034f03d">regTestCheckFile</a>()
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>    <a class="code" href="leptprotos_8h.html#ad37da8fbd202d49f54117884f3e3a3e4">regTestCompareFiles</a>()
         <a class="code" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>    <a class="code" href="leptprotos_8h.html#a97c8ca0f6272805d6679e683c1073600">regTestWritePixAndCheck</a>()

     Static function
         <span class="keywordtype">char</span>      *<a class="code" href="regutils_8c.html#a7a9ad2c11491c8d16f84fc38acb5b967">getRootNameFromArgv0</a>()
</pre></div> 
<p>Definition in file <a class="el" href="regutils_8c_source.html">regutils.c</a>.</p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a7a9ad2c11491c8d16f84fc38acb5b967"></a><!-- doxytag: member="regutils.c::getRootNameFromArgv0" ref="a7a9ad2c11491c8d16f84fc38acb5b967" args="(const char *argv0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static char * getRootNameFromArgv0 </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argv0</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="regutils_8c.html#a7a9ad2c11491c8d16f84fc38acb5b967">getRootNameFromArgv0()</a></p>
<p>Input: argv0 Return: root name (without the '_reg'), or null on error</p>
<p>Notes: (1) For example, from psioseg_reg, we want to extract just 'psioseg' as the root. (2) In unix with autotools, the executable is not X, but ./.libs/lt-X. So in addition to stripping out the last 4 characters of the tail, we have to check for the '-' and strip out the "lt-" prefix if we find it. </p>

<p>Definition at line <a class="el" href="regutils_8c_source.html#l00545">545</a> of file <a class="el" href="regutils_8c_source.html">regutils.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00216">FREE</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="utils_8c_source.html#l02487">splitPathAtDirectory()</a>, <a class="el" href="utils_8c_source.html#l01184">stringFindSubstr()</a>, and <a class="el" href="utils_8c_source.html#l00735">stringNew()</a>.</p>

<p>Referenced by <a class="el" href="regutils_8c_source.html#l00081">regTestSetup()</a>.</p>

</div>
</div>
<a class="anchor" id="a1ed38b553c1fd2997ba6797fc359bf5a"></a><!-- doxytag: member="regutils.c::regTestSetup" ref="a1ed38b553c1fd2997ba6797fc359bf5a" args="(l_int32 argc, char **argv, L_REGPARAMS **prp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> regTestSetup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_l___reg_params.html">L_REGPARAMS</a> **&#160;</td>
          <td class="paramname"><em>prp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#ae0217b9c267e3898440aaf6a026efb8d">regTestSetup()</a></p>
<p>Input: argc (from invocation; can be either 1 or 2) argv (to regtest: [1] is one of these: "generate", "compare", "display") &amp;rp (&lt;return&gt; all regression params) Return: 0 if OK, 1 on error</p>
<p>Notes: (1) Call this function with the args to the reg test. There are three cases: Case 1: The second arg is "generate". This will cause generation of new golden files for the reg test. The results of the reg test are not recorded, and the display field is set to FALSE, preventing image display. Case 2: The second arg is "compare". This is the mode in which you run a regression test (or a set of them), looking for failures and logging the results to a file. The output, which includes logging of all reg test failures plus a SUCCESS or FAILURE summary for each test, is appended to the file "/tmp/reg_results.txt. For this case, as in Case 1, the display field in rp is set to FALSE. Case 3: There is either only arg, or the second arg is "display". The test will run and files will be written. Comparisons with golden files will not be carried out, so the only notion of success or failure is with tests that do not involve golden files. The display field in rp is TRUE, and this is used by <a class="el" href="leptprotos_8h.html#abfdb7bca89ec16e69b7f9748823cf7aa">pixDisplayWithTitle()</a>. (2) See <a class="el" href="regutils_8h.html" title="Regression test parameter packer.">regutils.h</a> for examples of usage. </p>

<p>Definition at line <a class="el" href="regutils_8c_source.html#l00081">81</a> of file <a class="el" href="regutils_8c_source.html">regutils.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00214">CALLOC</a>, <a class="el" href="regutils_8h_source.html#l00107">L_RegParams::display</a>, <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="environ_8h_source.html#l00179">FALSE</a>, <a class="el" href="utils_8c_source.html#l01993">fopenWriteStream()</a>, <a class="el" href="regutils_8h_source.html#l00101">L_RegParams::fp</a>, <a class="el" href="environ_8h_source.html#l00216">FREE</a>, <a class="el" href="utils_8c_source.html#l02816">genTempFilename()</a>, <a class="el" href="libversions_8c_source.html#l00077">getImagelibVersions()</a>, <a class="el" href="utils_8c_source.html#l02987">getLeptonicaVersion()</a>, <a class="el" href="regutils_8c_source.html#l00545">getRootNameFromArgv0()</a>, <a class="el" href="regutils_8h_source.html#l00105">L_RegParams::index</a>, <a class="el" href="regutils_8h_source.html#l00116">L_REG_COMPARE</a>, <a class="el" href="regutils_8h_source.html#l00117">L_REG_DISPLAY</a>, <a class="el" href="regutils_8h_source.html#l00115">L_REG_GENERATE</a>, <a class="el" href="utils_8c_source.html#l02139">lept_mkdir()</a>, <a class="el" href="regutils_8h_source.html#l00104">L_RegParams::mode</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="utils_8c_source.html#l03076">startTimerNested()</a>, <a class="el" href="regutils_8h_source.html#l00106">L_RegParams::success</a>, <a class="el" href="regutils_8h_source.html#l00103">L_RegParams::tempfile</a>, <a class="el" href="regutils_8h_source.html#l00102">L_RegParams::testname</a>, <a class="el" href="environ_8h_source.html#l00175">TRUE</a>, and <a class="el" href="regutils_8h_source.html#l00108">L_RegParams::tstart</a>.</p>

<p>Referenced by <a class="el" href="alphaxform__reg_8c_source.html#l00054">main()</a>.</p>

</div>
</div>
<a class="anchor" id="aa94a5d4cd1b9681f052a551beac10031"></a><!-- doxytag: member="regutils.c::regTestCleanup" ref="aa94a5d4cd1b9681f052a551beac10031" args="(L_REGPARAMS *rp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> regTestCleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l___reg_params.html">L_REGPARAMS</a> *&#160;</td>
          <td class="paramname"><em>rp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#aaa96f119e2744e286fdb1cab5562673a">regTestCleanup()</a></p>
<p>Input: rp (regression test parameters) Return: 0 if OK, 1 on error</p>
<p>Notes: (1) This copies anything written to the temporary file to the output file /tmp/reg_results.txt. </p>

<p>Definition at line <a class="el" href="regutils_8c_source.html#l00162">162</a> of file <a class="el" href="regutils_8c_source.html">regutils.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="environ_8h_source.html#l00179">FALSE</a>, <a class="el" href="utils_8c_source.html#l01787">fileAppendString()</a>, <a class="el" href="regutils_8h_source.html#l00101">L_RegParams::fp</a>, <a class="el" href="environ_8h_source.html#l00216">FREE</a>, <a class="el" href="utils_8c_source.html#l02708">genPathname()</a>, <a class="el" href="utils_8c_source.html#l01531">l_binaryRead()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="utils_8c_source.html#l03086">stopTimerNested()</a>, <a class="el" href="utils_8c_source.html#l00934">stringJoin()</a>, <a class="el" href="regutils_8h_source.html#l00106">L_RegParams::success</a>, <a class="el" href="regutils_8h_source.html#l00103">L_RegParams::tempfile</a>, <a class="el" href="regutils_8h_source.html#l00102">L_RegParams::testname</a>, and <a class="el" href="regutils_8h_source.html#l00108">L_RegParams::tstart</a>.</p>

<p>Referenced by <a class="el" href="alphaxform__reg_8c_source.html#l00054">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a33798adc8c58b243a15d31080a640111"></a><!-- doxytag: member="regutils.c::regTestComparePix" ref="a33798adc8c58b243a15d31080a640111" args="(L_REGPARAMS *rp, PIX *pix1, PIX *pix2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> regTestComparePix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l___reg_params.html">L_REGPARAMS</a> *&#160;</td>
          <td class="paramname"><em>rp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a3908fc7dae17785821ec232dca3a6c06">regTestComparePix()</a></p>
<p>Input: rp (regtest parameters) pix1, pix2 (to be tested for equality) Return: 0 if OK, 1 on error (a failure in comparison is not an error)</p>
<p>Notes: (1) This function compares two pix for equality. If not in compare mode, on failure it writes to stderr. </p>

<p>Definition at line <a class="el" href="regutils_8c_source.html#l00225">225</a> of file <a class="el" href="regutils_8c_source.html">regutils.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="environ_8h_source.html#l00179">FALSE</a>, <a class="el" href="regutils_8h_source.html#l00101">L_RegParams::fp</a>, <a class="el" href="regutils_8h_source.html#l00105">L_RegParams::index</a>, <a class="el" href="compare_8c_source.html#l00087">pixEqual()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="regutils_8h_source.html#l00106">L_RegParams::success</a>, and <a class="el" href="regutils_8h_source.html#l00102">L_RegParams::testname</a>.</p>

<p>Referenced by <a class="el" href="binarize__reg_8c_source.html#l00030">main()</a>, <a class="el" href="binarize__reg_8c_source.html#l00153">PixTest3()</a>, and <a class="el" href="rotateorth__reg_8c_source.html#l00069">RotateOrthTest()</a>.</p>

</div>
</div>
<a class="anchor" id="a7351890492b9ab25f0f1e48cf68de4b5"></a><!-- doxytag: member="regutils.c::regTestCompareSimilarPix" ref="a7351890492b9ab25f0f1e48cf68de4b5" args="(L_REGPARAMS *rp, PIX *pix1, PIX *pix2, l_int32 mindiff, l_float32 maxfract, l_int32 printstats)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> regTestCompareSimilarPix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l___reg_params.html">L_REGPARAMS</a> *&#160;</td>
          <td class="paramname"><em>rp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>mindiff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>&#160;</td>
          <td class="paramname"><em>maxfract</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>printstats</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a6b6399dc2d0c609eba15c0d4540001ea">regTestCompareSimilarPix()</a></p>
<p>Input: rp (regtest parameters) pix1, pix2 (to be tested for equality) mindiff (minimum pixel difference to be counted; &gt; 0) maxfract (maximum fraction of pixels allowed to have diff greater than or equal to mindiff) printstats (use 1 to print normalized histogram to stderr) Return: 0 if OK, 1 on error (a failure in similarity comparison is not an error)</p>
<p>Notes: (1) This function compares two pix for equality. If not in compare mode, on failure it writes to stderr. (2) To identify two images as 'similar', select  to be the upper bound for what you expect. Typical values might be  = 15 and  = 0.01. (3) Normally, use  = 0. In debugging mode, to see the relation between  and the minimum value of  for success, set this to 1. </p>

<p>Definition at line <a class="el" href="regutils_8c_source.html#l00280">280</a> of file <a class="el" href="regutils_8c_source.html">regutils.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="environ_8h_source.html#l00179">FALSE</a>, <a class="el" href="regutils_8h_source.html#l00101">L_RegParams::fp</a>, <a class="el" href="regutils_8h_source.html#l00105">L_RegParams::index</a>, <a class="el" href="environ_8h_source.html#l00155">L_MAX</a>, <a class="el" href="environ_8h_source.html#l00151">L_MIN</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix1_8c_source.html#l00898">pixGetDimensions()</a>, <a class="el" href="compare_8c_source.html#l01105">pixTestForSimilarity()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="regutils_8h_source.html#l00106">L_RegParams::success</a>, and <a class="el" href="regutils_8h_source.html#l00102">L_RegParams::testname</a>.</p>

<p>Referenced by <a class="el" href="fpix__reg_8c_source.html#l00032">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a9f50b7f42b13c92dd1a52628527fe3f2"></a><!-- doxytag: member="regutils.c::regTestCheckFile" ref="a9f50b7f42b13c92dd1a52628527fe3f2" args="(L_REGPARAMS *rp, const char *localname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> regTestCheckFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l___reg_params.html">L_REGPARAMS</a> *&#160;</td>
          <td class="paramname"><em>rp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>localname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a3a520fec54218b87becfb8417034f03d">regTestCheckFile()</a></p>
<p>Input: rp (regtest parameters) localname (name of output file from reg test) Return: 0 if OK, 1 on error (a failure in comparison is not an error)</p>
<p>Notes: (1) This function does one of three things, depending on the mode: * "generate": makes a "golden" file as a copy . * "compare": compares  contents with the golden file * "display": makes the  file but does no comparison (2) The canonical format of the golden filenames is: /tmp/golden/&lt;root of="" main="" name&gt;=""&gt;_golden.&lt;index&gt;.&lt;ext of="" localname&gt;=""&gt; e.g., /tmp/golden/maze_golden.0.png It is important to add an extension to the local name, because the extension is added to the name of the golden file. </p>

<p>Definition at line <a class="el" href="regutils_8c_source.html#l00340">340</a> of file <a class="el" href="regutils_8c_source.html">regutils.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="environ_8h_source.html#l00179">FALSE</a>, <a class="el" href="utils_8c_source.html#l01729">fileCopy()</a>, <a class="el" href="utils_8c_source.html#l01819">filesAreIdentical()</a>, <a class="el" href="regutils_8h_source.html#l00101">L_RegParams::fp</a>, <a class="el" href="environ_8h_source.html#l00216">FREE</a>, <a class="el" href="regutils_8h_source.html#l00105">L_RegParams::index</a>, <a class="el" href="regutils_8h_source.html#l00116">L_REG_COMPARE</a>, <a class="el" href="regutils_8h_source.html#l00117">L_REG_DISPLAY</a>, <a class="el" href="regutils_8h_source.html#l00115">L_REG_GENERATE</a>, <a class="el" href="regutils_8h_source.html#l00104">L_RegParams::mode</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="utils_8c_source.html#l02551">splitPathAtExtension()</a>, <a class="el" href="regutils_8h_source.html#l00106">L_RegParams::success</a>, and <a class="el" href="regutils_8h_source.html#l00102">L_RegParams::testname</a>.</p>

<p>Referenced by <a class="el" href="dewarp__reg_8c_source.html#l00027">main()</a>, and <a class="el" href="regutils_8c_source.html#l00496">regTestWritePixAndCheck()</a>.</p>

</div>
</div>
<a class="anchor" id="a198bba87afe6d4b383f565bf717b8d54"></a><!-- doxytag: member="regutils.c::regTestCompareFiles" ref="a198bba87afe6d4b383f565bf717b8d54" args="(L_REGPARAMS *rp, l_int32 index1, l_int32 index2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> regTestCompareFiles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l___reg_params.html">L_REGPARAMS</a> *&#160;</td>
          <td class="paramname"><em>rp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>index1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>index2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#ad37da8fbd202d49f54117884f3e3a3e4">regTestCompareFiles()</a></p>
<p>Input: rp (regtest parameters) index1 (of one output file from reg test) index2 (of another output file from reg test) Return: 0 if OK, 1 on error (a failure in comparison is not an error)</p>
<p>Notes: (1) This only does something in "compare" mode. (2) The canonical format of the golden filenames is: /tmp/golden/&lt;root of="" main="" name&gt;=""&gt;_golden.&lt;index&gt;.&lt;ext of="" localname&gt;=""&gt; e.g., /tmp/golden/maze_golden.0.png </p>

<p>Definition at line <a class="el" href="regutils_8c_source.html#l00409">409</a> of file <a class="el" href="regutils_8c_source.html">regutils.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="environ_8h_source.html#l00179">FALSE</a>, <a class="el" href="utils_8c_source.html#l01819">filesAreIdentical()</a>, <a class="el" href="regutils_8h_source.html#l00101">L_RegParams::fp</a>, <a class="el" href="environ_8h_source.html#l00216">FREE</a>, <a class="el" href="sarray_8c_source.html#l01706">getSortedPathnamesInDirectory()</a>, <a class="el" href="regutils_8h_source.html#l00105">L_RegParams::index</a>, <a class="el" href="pix_8h_source.html#l00597">L_COPY</a>, <a class="el" href="environ_8h_source.html#l00254">L_ERROR_STRING</a>, <a class="el" href="regutils_8h_source.html#l00116">L_REG_COMPARE</a>, <a class="el" href="regutils_8h_source.html#l00104">L_RegParams::mode</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="sarray_8c_source.html#l00319">sarrayDestroy()</a>, <a class="el" href="sarray_8c_source.html#l00585">sarrayGetCount()</a>, <a class="el" href="sarray_8c_source.html#l00648">sarrayGetString()</a>, <a class="el" href="regutils_8h_source.html#l00106">L_RegParams::success</a>, and <a class="el" href="regutils_8h_source.html#l00102">L_RegParams::testname</a>.</p>

<p>Referenced by <a class="el" href="dewarp__reg_8c_source.html#l00027">main()</a>, and <a class="el" href="projection__reg_8c_source.html#l00064">TestProjection()</a>.</p>

</div>
</div>
<a class="anchor" id="a5cd2ecf8b4e69e085fc4d5452f272c28"></a><!-- doxytag: member="regutils.c::regTestWritePixAndCheck" ref="a5cd2ecf8b4e69e085fc4d5452f272c28" args="(L_REGPARAMS *rp, PIX *pix, l_int32 format)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> regTestWritePixAndCheck </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l___reg_params.html">L_REGPARAMS</a> *&#160;</td>
          <td class="paramname"><em>rp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a97c8ca0f6272805d6679e683c1073600">regTestWritePixAndCheck()</a></p>
<p>Input: rp (regtest parameters) pix (to be written) format (of output pix) Return: 0 if OK, 1 on error (a failure in comparison is not an error)</p>
<p>Notes: (1) This function makes it easy to write the pix in a numbered sequence of files, and either to: (a) write the golden file ("generate" arg to regression test) (b) make a local file and "compare" with the golden file (c) make a local file and "display" the results (3) The canonical format of the local filename is: /tmp/&lt;root of="" main="" name&gt;=""&gt;.&lt;count&gt;.&lt;format extension="" string&gt;=""&gt; e.g., for scale_reg, /tmp/scale.0.png </p>

<p>Definition at line <a class="el" href="regutils_8c_source.html#l00496">496</a> of file <a class="el" href="regutils_8c_source.html">regutils.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="environ_8h_source.html#l00179">FALSE</a>, <a class="el" href="writefile_8c_source.html#l00080">ImageFileFormatExtensions</a>, <a class="el" href="regutils_8h_source.html#l00105">L_RegParams::index</a>, <a class="el" href="writefile_8c_source.html#l00079">NumImageFileFormatExtensions</a>, <a class="el" href="writefile_8c_source.html#l00190">pixWrite()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="regutils_8c_source.html#l00340">regTestCheckFile()</a>, <a class="el" href="regutils_8h_source.html#l00106">L_RegParams::success</a>, and <a class="el" href="regutils_8h_source.html#l00102">L_RegParams::testname</a>.</p>

<p>Referenced by <a class="el" href="findpattern__reg_8c_source.html#l00072">GeneratePattern()</a>, <a class="el" href="alphaxform__reg_8c_source.html#l00054">main()</a>, <a class="el" href="scale__reg_8c_source.html#l00275">PixaSaveDisplay()</a>, <a class="el" href="colorquant__reg_8c_source.html#l00225">PixSave32()</a>, <a class="el" href="binarize__reg_8c_source.html#l00070">PixTest1()</a>, <a class="el" href="binarize__reg_8c_source.html#l00112">PixTest2()</a>, <a class="el" href="rotate1__reg_8c_source.html#l00100">RotateTest()</a>, <a class="el" href="gifio__reg_8c_source.html#l00139">test_gif()</a>, <a class="el" href="distance__reg_8c_source.html#l00085">TestDistance()</a>, <a class="el" href="hardlight__reg_8c_source.html#l00056">TestHardlight()</a>, and <a class="el" href="projection__reg_8c_source.html#l00064">TestProjection()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a0a3ea8e6ec9131cd7b94da891b7c2afa"></a><!-- doxytag: member="regutils.c::NumImageFileFormatExtensions" ref="a0a3ea8e6ec9131cd7b94da891b7c2afa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> <a class="el" href="writefile_8c.html#a5ef9f9b0c0e2be650a87eec23435d1ae">NumImageFileFormatExtensions</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="writefile_8c_source.html#l00079">79</a> of file <a class="el" href="writefile_8c_source.html">writefile.c</a>.</p>

</div>
</div>
<a class="anchor" id="a65db7b5cece58497d4ecbd3cfa1002cc"></a><!-- doxytag: member="regutils.c::ImageFileFormatExtensions" ref="a65db7b5cece58497d4ecbd3cfa1002cc" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="pngio__reg_8c.html#a778bf3936e5b49b9f386c49cc1a9af18">ImageFileFormatExtensions</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="writefile_8c_source.html#l00080">80</a> of file <a class="el" href="writefile_8c_source.html">writefile.c</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="regutils_8c.html">regutils.c</a>      </li>
      <li class="footer">Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
