<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Leptonica: src/selgen.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="moller52-tiny.jpg"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Leptonica&#160;<span id="projectnumber">1.68</span></div>
   <div id="projectbrief">C Image Processing Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('selgen_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>selgen.c File Reference</h1>  </div>
</div>
<div class="contents">

<p>Generate hit-miss Sels for doing a loose match to a small bitmap.  
<a href="#_details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="allheaders_8h_source.html">allheaders.h</a>&quot;</code><br/>
</div>
<p><a href="selgen_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selgen_8c.html#aa8c8112a46dc5b9babc79b094d6c9197">DEBUG_DISPLAY_HM_SEL</a>&#160;&#160;&#160;0</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_sel.html">SEL</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selgen_8c.html#a6bfcd33933b2b34fb9cf2b196e2ddbaf">pixGenerateSelWithRuns</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> nhlines, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> nvlines, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> distance, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> minlength, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> toppix, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> botpix, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> leftpix, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> rightpix, <a class="el" href="struct_pix.html">PIX</a> **ppixe)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_sel.html">SEL</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selgen_8c.html#ad586f551b380c6049c0afd67712030bf">pixGenerateSelRandom</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> hitfract, <a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a> missfract, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> distance, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> toppix, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> botpix, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> leftpix, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> rightpix, <a class="el" href="struct_pix.html">PIX</a> **ppixe)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_sel.html">SEL</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selgen_8c.html#a03a67a68c50d9ce054794892c471441d">pixGenerateSelBoundary</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> hitdist, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> missdist, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> hitskip, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> missskip, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> topflag, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> botflag, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> leftflag, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> rightflag, <a class="el" href="struct_pix.html">PIX</a> **ppixe)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_numa.html">NUMA</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selgen_8c.html#a0d6503dc52fd1ce2eee527fa12bad44c">pixGetRunCentersOnLine</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> x, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> y, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> minlength)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_numa.html">NUMA</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selgen_8c.html#adfc0bdfb7931209b3abec292775d37d0">pixGetRunsOnLine</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> <a class="el" href="projective__reg_8c.html#ae7a35515457046b7539c24062cf94d40">x1</a>, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> <a class="el" href="projective__reg_8c.html#af3df0e6eba20b6ae09d0111c121aac36">y1</a>, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> <a class="el" href="projective__reg_8c.html#ad85afc03d55324b175bbccc3ecfc983c">x2</a>, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> <a class="el" href="projective__reg_8c.html#a5afb8355b4d1b35dd123f44f1743d9f4">y2</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pta.html">PTA</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selgen_8c.html#a32bca42664527949b07d0ab525644b0d">pixSubsampleBoundaryPixels</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> skip)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selgen_8c.html#ad8f134aec064b4b606c87bb67bb4efc2">adjacentOnPixelInRaster</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> x, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> y, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *pxa, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *pya)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selgen_8c.html#aad55a05c74e3cd29f41571704984d23f">pixDisplayHitMissSel</a> (<a class="el" href="struct_pix.html">PIX</a> *pixs, <a class="el" href="struct_sel.html">SEL</a> *sel, <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> scalefactor, <a class="el" href="environ_8h.html#a4d4d7254020fc95aef5dde8884405358">l_uint32</a> hitcolor, <a class="el" href="environ_8h.html#a4d4d7254020fc95aef5dde8884405358">l_uint32</a> misscolor)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selgen_8c.html#a48859de3fde22e8ba48960f3d6915d63">DEFAULT_DISTANCE_TO_BOUNDARY</a> = 1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selgen_8c.html#a418c5acf76783ccc97b4520c2742137b">MAX_DISTANCE_TO_BOUNDARY</a> = 4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selgen_8c.html#a495084d6dffffd1f54381b425943384f">DEFAULT_MIN_RUNLENGTH</a> = 3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selgen_8c.html#ad6c5a5be3fa429aadbe73b942c75565f">DEFAULT_SEL_SCALEFACTOR</a> = 7</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="selgen_8c.html#aebf503f6e5f4d88f44e6897c14e36d2b">MAX_SEL_SCALEFACTOR</a> = 31</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Generate hit-miss Sels for doing a loose match to a small bitmap. </p>
<div class="fragment"><pre class="fragment">    This file contains functions that generate hit-miss Sels
    <span class="keywordflow">for</span> doing a loose match to a small bitmap.  The hit-miss
    <a class="code" href="struct_sel.html">Sel</a> is made from a given bitmap.  Several <span class="stringliteral">&quot;knobs&quot;</span>
    are available to control the looseness of the match.
    In general, a tight match will have fewer <span class="keyword">false</span> positives
    (bad matches) but more <span class="keyword">false</span> negatives (missed patterns).
    The values to be used depend on the quality and variation
    of the image in which the pattern is to be searched,
    and the relative penalties of <span class="keyword">false</span> positives and
    <span class="keyword">false</span> negatives.  Default values <span class="keywordflow">for</span> the three knobs --
    minimum distance to boundary pixels, number of extra pixels
    added to selected sides, and minimum acceptable runlength
    in eroded <a class="code" href="src_2xtractprotos_8c.html#aa31f487a99743d24af9076a3e11e5425">version</a> -- are provided.

    The generated hit-miss Sels can always be used in the
    rasterop implementation of binary morphology (in morph.h).
    If they are small enough (not more than 31 pixels extending
    in any direction from the <a class="code" href="struct_sel.html">Sel</a> origin), they can also be used
    to <span class="keyword">auto</span>-generate dwa code (fmorphauto.c).


    Generate a subsampled structuring element
          <span class="keywordtype">SEL</span>     *<a class="code" href="leptprotos_8h.html#a316666e52d8dcdf4f946a707e44af273">pixGenerateSelWithRuns</a>()
          <a class="code" href="struct_sel.html">SEL</a>     *<a class="code" href="leptprotos_8h.html#a3dec8068b27626a7f47cbb25ea3772bb">pixGenerateSelRandom</a>()
          <span class="keywordtype">SEL</span>     *<a class="code" href="leptprotos_8h.html#ad89dc56e5eef8562644e87c2b4814d5b">pixGenerateSelBoundary</a>()
    
    Accumulate data on runs along lines
          <a class="code" href="struct_numa.html">NUMA</a>    *<a class="code" href="leptprotos_8h.html#a12ae2a862e6a7618089f704272c97727">pixGetRunCentersOnLine</a>()
          <a class="code" href="struct_numa.html">NUMA</a>    *<a class="code" href="leptprotos_8h.html#af25ee30928d14dc452d44cade85f0d5e">pixGetRunsOnLine</a>()

    Subsample boundary pixels in relatively ordered way
          <a class="code" href="struct_pta.html">PTA</a>     *<a class="code" href="leptprotos_8h.html#a452f1c3fbe5e5e61769d4e57e3b0c100">pixSubsampleBoundaryPixels</a>()
          <a class="code" href="struct_pta.html">PTA</a>     *<a class="code" href="leptprotos_8h.html#ae0b5723a92cdcfc0f68d1d0d573797d6">adjacentOnPixelInRaster</a>()

    Display generated sel with originating image
          <a class="code" href="struct_pix.html">PIX</a>     *<a class="code" href="leptprotos_8h.html#add3daae06f71dee1d414aadcb8aa061b">pixDisplayHitMissSel</a>()
</pre></div> 
<p>Definition in file <a class="el" href="selgen_8c_source.html">selgen.c</a>.</p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="aa8c8112a46dc5b9babc79b094d6c9197"></a><!-- doxytag: member="selgen.c::DEBUG_DISPLAY_HM_SEL" ref="aa8c8112a46dc5b9babc79b094d6c9197" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_DISPLAY_HM_SEL&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="selgen_8c_source.html#l00078">78</a> of file <a class="el" href="selgen_8c_source.html">selgen.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a6bfcd33933b2b34fb9cf2b196e2ddbaf"></a><!-- doxytag: member="selgen.c::pixGenerateSelWithRuns" ref="a6bfcd33933b2b34fb9cf2b196e2ddbaf" args="(PIX *pixs, l_int32 nhlines, l_int32 nvlines, l_int32 distance, l_int32 minlength, l_int32 toppix, l_int32 botpix, l_int32 leftpix, l_int32 rightpix, PIX **ppixe)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_sel.html">SEL</a>* pixGenerateSelWithRuns </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>nhlines</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>nvlines</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>distance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>minlength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>toppix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>botpix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>leftpix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>rightpix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> **&#160;</td>
          <td class="paramname"><em>ppixe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a316666e52d8dcdf4f946a707e44af273">pixGenerateSelWithRuns()</a></p>
<p>Input: pix (1 bpp, typically small, to be used as a pattern) nhlines (number of hor lines along which elements are found) nvlines (number of vert lines along which elements are found) distance (min distance from boundary pixel; use 0 for default) minlength (min runlength to set hit or miss; use 0 for default) toppix (number of extra pixels of bg added above) botpix (number of extra pixels of bg added below) leftpix (number of extra pixels of bg added to left) rightpix (number of extra pixels of bg added to right) &amp;pixe (&lt;optional return&gt;=""&gt; input pix expanded by extra pixels) Return: sel (hit-miss for input pattern), or null on error</p>
<p>Notes: (1) The horizontal and vertical lines along which elements are selected are roughly equally spaced. The actual locations of the hits and misses are the centers of respective run-lengths. (2) No elements are selected that are less than 'distance' pixels away from a boundary pixel of the same color. This makes the match much more robust to edge noise. Valid inputs of 'distance' are 0, 1, 2, 3 and 4. If distance is either 0 or greater than 4, we reset it to the default value. (3) The 4 numbers for adding rectangles of pixels outside the fg can be use if the pattern is expected to be surrounded by bg (white) pixels. On the other hand, if the pattern may be near other fg (black) components on some sides, use 0 for those sides. (4) The pixels added to a side allow you to have miss elements there. There is a constraint between distance, minlength, and the added pixels for this to work. We illustrate using the default values. If you add 5 pixels to the top, and use a distance of 1, then you end up with a vertical run of at least 4 bg pixels along the top edge of the image. If you use a minimum runlength of 3, each vertical line will always find a miss near the center of its run. However, if you use a minimum runlength of 5, you will not get a miss on every vertical line. As another example, if you have 7 added pixels and a distance of 2, you can use a runlength up to 5 to guarantee that the miss element is recorded. We give a warning if the contraint does not guarantee a miss element outside the image proper. (5) The input pix, as extended by the extra pixels on selected sides, can optionally be returned. For debugging, call <a class="el" href="leptprotos_8h.html#add3daae06f71dee1d414aadcb8aa061b">pixDisplayHitMissSel()</a> to visualize the hit-miss sel superimposed on the generating bitmap. </p>

<p>Definition at line <a class="el" href="selgen_8c_source.html#l00133">133</a> of file <a class="el" href="selgen_8c_source.html">selgen.c</a>.</p>

<p>References <a class="el" href="selgen_8c_source.html#l00064">DEFAULT_DISTANCE_TO_BOUNDARY</a>, <a class="el" href="selgen_8c_source.html#l00069">DEFAULT_MIN_RUNLENGTH</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00257">L_WARNING</a>, <a class="el" href="selgen_8c_source.html#l00065">MAX_DISTANCE_TO_BOUNDARY</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="numabasic_8c_source.html#l00292">numaDestroy()</a>, <a class="el" href="numabasic_8c_source.html#l00557">numaGetCount()</a>, <a class="el" href="numabasic_8c_source.html#l00647">numaGetIValue()</a>, <a class="el" href="pix_8h_source.html#l00243">PIX_SRC</a>, <a class="el" href="pix5_8c_source.html#l00896">pixClipToForeground()</a>, <a class="el" href="pix1_8c_source.html#l00440">pixClone()</a>, <a class="el" href="pix1_8c_source.html#l00269">pixCreate()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="morph_8c_source.html#l00195">pixDilate()</a>, <a class="el" href="morph_8c_source.html#l00247">pixErode()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00833">pixGetHeight()</a>, <a class="el" href="selgen_8c_source.html#l00618">pixGetRunCentersOnLine()</a>, <a class="el" href="pix1_8c_source.html#l00803">pixGetWidth()</a>, <a class="el" href="pix3_8c_source.html#l01002">pixInvert()</a>, <a class="el" href="rop_8c_source.html#l00180">pixRasterop()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="ptabasic_8c_source.html#l00262">ptaAddPt()</a>, <a class="el" href="ptabasic_8c_source.html#l00083">ptaCreate()</a>, <a class="el" href="ptabasic_8c_source.html#l00156">ptaDestroy()</a>, <a class="el" href="ptabasic_8c_source.html#l00346">ptaGetCount()</a>, <a class="el" href="ptabasic_8c_source.html#l00397">ptaGetIPt()</a>, <a class="el" href="morph_8h_source.html#l00101">SEL_DONT_CARE</a>, <a class="el" href="morph_8h_source.html#l00102">SEL_HIT</a>, <a class="el" href="morph_8h_source.html#l00103">SEL_MISS</a>, <a class="el" href="sel1_8c_source.html#l00396">selCreateBrick()</a>, <a class="el" href="sel1_8c_source.html#l00319">selDestroy()</a>, and <a class="el" href="sel1_8c_source.html#l00778">selSetElement()</a>.</p>

<p>Referenced by <a class="el" href="findpattern1_8c_source.html#l00045">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ad586f551b380c6049c0afd67712030bf"></a><!-- doxytag: member="selgen.c::pixGenerateSelRandom" ref="ad586f551b380c6049c0afd67712030bf" args="(PIX *pixs, l_float32 hitfract, l_float32 missfract, l_int32 distance, l_int32 toppix, l_int32 botpix, l_int32 leftpix, l_int32 rightpix, PIX **ppixe)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_sel.html">SEL</a>* pixGenerateSelRandom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>&#160;</td>
          <td class="paramname"><em>hitfract</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#af59419416d96ecf5fca70c8d05adb456">l_float32</a>&#160;</td>
          <td class="paramname"><em>missfract</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>distance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>toppix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>botpix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>leftpix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>rightpix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> **&#160;</td>
          <td class="paramname"><em>ppixe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a3dec8068b27626a7f47cbb25ea3772bb">pixGenerateSelRandom()</a></p>
<p>Input: pix (1 bpp, typically small, to be used as a pattern) hitfract (fraction of allowable fg pixels that are hits) missfract (fraction of allowable bg pixels that are misses) distance (min distance from boundary pixel; use 0 for default) toppix (number of extra pixels of bg added above) botpix (number of extra pixels of bg added below) leftpix (number of extra pixels of bg added to left) rightpix (number of extra pixels of bg added to right) &amp;pixe (&lt;optional return&gt;=""&gt; input pix expanded by extra pixels) Return: sel (hit-miss for input pattern), or null on error</p>
<p>Notes: (1) Either of hitfract and missfract can be zero. If both are zero, the sel would be empty, and NULL is returned. (2) No elements are selected that are less than 'distance' pixels away from a boundary pixel of the same color. This makes the match much more robust to edge noise. Valid inputs of 'distance' are 0, 1, 2, 3 and 4. If distance is either 0 or greater than 4, we reset it to the default value. (3) The 4 numbers for adding rectangles of pixels outside the fg can be use if the pattern is expected to be surrounded by bg (white) pixels. On the other hand, if the pattern may be near other fg (black) components on some sides, use 0 for those sides. (4) The input pix, as extended by the extra pixels on selected sides, can optionally be returned. For debugging, call <a class="el" href="leptprotos_8h.html#add3daae06f71dee1d414aadcb8aa061b">pixDisplayHitMissSel()</a> to visualize the hit-miss sel superimposed on the generating bitmap. </p>

<p>Definition at line <a class="el" href="selgen_8c_source.html#l00321">321</a> of file <a class="el" href="selgen_8c_source.html">selgen.c</a>.</p>

<p>References <a class="el" href="selgen_8c_source.html#l00064">DEFAULT_DISTANCE_TO_BOUNDARY</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00257">L_WARNING</a>, <a class="el" href="selgen_8c_source.html#l00065">MAX_DISTANCE_TO_BOUNDARY</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix_8h_source.html#l00243">PIX_SRC</a>, <a class="el" href="pix5_8c_source.html#l00896">pixClipToForeground()</a>, <a class="el" href="pix1_8c_source.html#l00440">pixClone()</a>, <a class="el" href="pix1_8c_source.html#l00269">pixCreate()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="morph_8c_source.html#l00195">pixDilate()</a>, <a class="el" href="morph_8c_source.html#l00247">pixErode()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00833">pixGetHeight()</a>, <a class="el" href="pix2_8c_source.html#l00148">pixGetPixel()</a>, <a class="el" href="pix1_8c_source.html#l00803">pixGetWidth()</a>, <a class="el" href="pix3_8c_source.html#l01002">pixInvert()</a>, <a class="el" href="rop_8c_source.html#l00180">pixRasterop()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="morph_8h_source.html#l00101">SEL_DONT_CARE</a>, <a class="el" href="morph_8h_source.html#l00102">SEL_HIT</a>, <a class="el" href="morph_8h_source.html#l00103">SEL_MISS</a>, <a class="el" href="sel1_8c_source.html#l00396">selCreateBrick()</a>, <a class="el" href="sel1_8c_source.html#l00319">selDestroy()</a>, and <a class="el" href="sel1_8c_source.html#l00778">selSetElement()</a>.</p>

<p>Referenced by <a class="el" href="findpattern2_8c_source.html#l00041">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a03a67a68c50d9ce054794892c471441d"></a><!-- doxytag: member="selgen.c::pixGenerateSelBoundary" ref="a03a67a68c50d9ce054794892c471441d" args="(PIX *pixs, l_int32 hitdist, l_int32 missdist, l_int32 hitskip, l_int32 missskip, l_int32 topflag, l_int32 botflag, l_int32 leftflag, l_int32 rightflag, PIX **ppixe)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_sel.html">SEL</a>* pixGenerateSelBoundary </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>hitdist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>missdist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>hitskip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>missskip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>topflag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>botflag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>leftflag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>rightflag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> **&#160;</td>
          <td class="paramname"><em>ppixe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#ad89dc56e5eef8562644e87c2b4814d5b">pixGenerateSelBoundary()</a></p>
<p>Input: pix (1 bpp, typically small, to be used as a pattern) hitdist (min distance from fg boundary pixel) missdist (min distance from bg boundary pixel) hitskip (number of boundary pixels skipped between hits) missskip (number of boundary pixels skipped between misses) topflag (flag for extra pixels of bg added above) botflag (flag for extra pixels of bg added below) leftflag (flag for extra pixels of bg added to left) rightflag (flag for extra pixels of bg added to right) &amp;pixe (&lt;optional return&gt;=""&gt; input pix expanded by extra pixels) Return: sel (hit-miss for input pattern), or null on error</p>
<p>Notes: (1) All fg elements selected are exactly hitdist pixels away from the nearest fg boundary pixel, and ditto for bg elements. Valid inputs of hitdist and missdist are 0, 1, 2, 3 and 4. For example, a hitdist of 0 puts the hits at the fg boundary. Usually, the distances should be &gt; 0 avoid the effect of noise at the boundary. (2) Set hitskip &lt; 0 if no hits are to be used. Ditto for missskip. If both hitskip and missskip are &lt; 0, the sel would be empty, and NULL is returned. (3) The 4 flags determine whether the sel is increased on that side to allow bg misses to be placed all along that boundary. The increase in sel size on that side is the minimum necessary to allow the misses to be placed at mindist. For text characters, the topflag and botflag are typically set to 1, and the leftflag and rightflag to 0. (4) The input pix, as extended by the extra pixels on selected sides, can optionally be returned. For debugging, call <a class="el" href="leptprotos_8h.html#add3daae06f71dee1d414aadcb8aa061b">pixDisplayHitMissSel()</a> to visualize the hit-miss sel superimposed on the generating bitmap. (5) This is probably the best of the three sel generators, in the sense that you have the most flexibility with the smallest number of hits and misses. </p>

<p>Definition at line <a class="el" href="selgen_8c_source.html#l00472">472</a> of file <a class="el" href="selgen_8c_source.html">selgen.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix_8h_source.html#l00243">PIX_SRC</a>, <a class="el" href="pix5_8c_source.html#l00896">pixClipToForeground()</a>, <a class="el" href="pix1_8c_source.html#l00440">pixClone()</a>, <a class="el" href="pix1_8c_source.html#l00269">pixCreate()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="morph_8c_source.html#l00195">pixDilate()</a>, <a class="el" href="morph_8c_source.html#l00247">pixErode()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00833">pixGetHeight()</a>, <a class="el" href="pix1_8c_source.html#l00803">pixGetWidth()</a>, <a class="el" href="rop_8c_source.html#l00180">pixRasterop()</a>, <a class="el" href="selgen_8c_source.html#l00781">pixSubsampleBoundaryPixels()</a>, <a class="el" href="pix3_8c_source.html#l01175">pixXor()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="ptabasic_8c_source.html#l00156">ptaDestroy()</a>, <a class="el" href="ptabasic_8c_source.html#l00346">ptaGetCount()</a>, <a class="el" href="ptabasic_8c_source.html#l00397">ptaGetIPt()</a>, <a class="el" href="morph_8h_source.html#l00101">SEL_DONT_CARE</a>, <a class="el" href="morph_8h_source.html#l00102">SEL_HIT</a>, <a class="el" href="morph_8h_source.html#l00103">SEL_MISS</a>, <a class="el" href="sel1_8c_source.html#l00396">selCreateBrick()</a>, <a class="el" href="sel1_8c_source.html#l00319">selDestroy()</a>, and <a class="el" href="sel1_8c_source.html#l00778">selSetElement()</a>.</p>

<p>Referenced by <a class="el" href="findpattern__reg_8c_source.html#l00072">GeneratePattern()</a>, and <a class="el" href="findpattern3_8c_source.html#l00041">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a0d6503dc52fd1ce2eee527fa12bad44c"></a><!-- doxytag: member="selgen.c::pixGetRunCentersOnLine" ref="a0d6503dc52fd1ce2eee527fa12bad44c" args="(PIX *pixs, l_int32 x, l_int32 y, l_int32 minlength)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_numa.html">NUMA</a>* pixGetRunCentersOnLine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>minlength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a12ae2a862e6a7618089f704272c97727">pixGetRunCentersOnLine()</a></p>
<p>Input: pixs (1 bpp) x, y (set one of these to -1; see notes) minlength (minimum length of acceptable run) Return: numa of fg runs, or null on error</p>
<p>Notes: (1) Action: this function computes the fg (black) and bg (white) pixel runlengths along the specified horizontal or vertical line, and returns a <a class="el" href="struct_numa.html">Numa</a> of the "center" pixels of each fg run whose length equals or exceeds the minimum length. (2) This only works on horizontal and vertical lines. (3) For horizontal runs, set x = -1 and y to the value for all points along the raster line. For vertical runs, set y = -1 and x to the value for all points along the pixel column. (4) For horizontal runs, the points in the <a class="el" href="struct_numa.html">Numa</a> are the x values in the center of fg runs that are of length at least 'minlength'. For vertical runs, the points in the <a class="el" href="struct_numa.html">Numa</a> are the y values in the center of fg runs, again of length 'minlength' or greater. (5) If there are no fg runs along the line that satisfy the minlength constraint, the returned <a class="el" href="struct_numa.html">Numa</a> is empty. This is not an error. </p>

<p>Definition at line <a class="el" href="selgen_8c_source.html#l00618">618</a> of file <a class="el" href="selgen_8c_source.html">selgen.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="numabasic_8c_source.html#l00403">numaAddNumber()</a>, <a class="el" href="numabasic_8c_source.html#l00177">numaCreate()</a>, <a class="el" href="numabasic_8c_source.html#l00292">numaDestroy()</a>, <a class="el" href="numabasic_8c_source.html#l00557">numaGetCount()</a>, <a class="el" href="numabasic_8c_source.html#l00647">numaGetIValue()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00833">pixGetHeight()</a>, <a class="el" href="selgen_8c_source.html#l00690">pixGetRunsOnLine()</a>, <a class="el" href="pix1_8c_source.html#l00803">pixGetWidth()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="selgen_8c_source.html#l00133">pixGenerateSelWithRuns()</a>.</p>

</div>
</div>
<a class="anchor" id="adfc0bdfb7931209b3abec292775d37d0"></a><!-- doxytag: member="selgen.c::pixGetRunsOnLine" ref="adfc0bdfb7931209b3abec292775d37d0" args="(PIX *pixs, l_int32 x1, l_int32 y1, l_int32 x2, l_int32 y2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_numa.html">NUMA</a>* pixGetRunsOnLine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>y1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>x2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>y2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#af25ee30928d14dc452d44cade85f0d5e">pixGetRunsOnLine()</a></p>
<p>Input: pixs (1 bpp) x1, y1, x2, y2 Return: numa, or null on error</p>
<p>Notes: (1) Action: this function uses the bresenham algorithm to compute the pixels along the specified line. It returns a <a class="el" href="struct_numa.html">Numa</a> of the runlengths of the fg (black) and bg (white) runs, always starting with a white run. (2) If the first pixel on the line is black, the length of the first returned run (which is white) is 0. </p>

<p>Definition at line <a class="el" href="selgen_8c_source.html#l00690">690</a> of file <a class="el" href="selgen_8c_source.html">selgen.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="graphics_8c_source.html#l00093">generatePtaLine()</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="numabasic_8c_source.html#l00403">numaAddNumber()</a>, <a class="el" href="numabasic_8c_source.html#l00177">numaCreate()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00833">pixGetHeight()</a>, <a class="el" href="pix2_8c_source.html#l00148">pixGetPixel()</a>, <a class="el" href="pix1_8c_source.html#l00803">pixGetWidth()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="ptabasic_8c_source.html#l00156">ptaDestroy()</a>, <a class="el" href="ptabasic_8c_source.html#l00346">ptaGetCount()</a>, and <a class="el" href="ptabasic_8c_source.html#l00397">ptaGetIPt()</a>.</p>

<p>Referenced by <a class="el" href="selgen_8c_source.html#l00618">pixGetRunCentersOnLine()</a>.</p>

</div>
</div>
<a class="anchor" id="a32bca42664527949b07d0ab525644b0d"></a><!-- doxytag: member="selgen.c::pixSubsampleBoundaryPixels" ref="a32bca42664527949b07d0ab525644b0d" args="(PIX *pixs, l_int32 skip)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pta.html">PTA</a>* pixSubsampleBoundaryPixels </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>skip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#a452f1c3fbe5e5e61769d4e57e3b0c100">pixSubsampleBoundaryPixels()</a></p>
<p>Input: pixs (1 bpp, with only boundary pixels in fg) skip (number to skip between samples as you traverse boundary) Return: pta, or null on error</p>
<p>Notes: (1) If skip = 0, we take all the fg pixels. (2) We try to traverse the boundaries in a regular way. Some pixels may be missed, and these are then subsampled randomly with a fraction determined by 'skip'. (3) The most natural approach is to use a depth first (stack-based) method to find the fg pixels. However, the pixel runs are 4-connected and there are relatively few branches. So instead of doing a proper depth-first search, we get nearly the same result using two nested while loops: the outer one continues a raster-based search for the next fg pixel, and the inner one does a reasonable job running along each 4-connected coutour. </p>

<p>Definition at line <a class="el" href="selgen_8c_source.html#l00781">781</a> of file <a class="el" href="selgen_8c_source.html">selgen.c</a>.</p>

<p>References <a class="el" href="selgen_8c_source.html#l00847">adjacentOnPixelInRaster()</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="conncomp_8c_source.html#l00416">nextOnPixelInRaster()</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="pix1_8c_source.html#l00548">pixCopy()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix2_8c_source.html#l00219">pixSetPixel()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="ptabasic_8c_source.html#l00262">ptaAddPt()</a>, <a class="el" href="ptabasic_8c_source.html#l00083">ptaCreate()</a>, and <a class="el" href="ptafunc1_8c_source.html#l01475">ptaGetPixelsFromPix()</a>.</p>

<p>Referenced by <a class="el" href="selgen_8c_source.html#l00472">pixGenerateSelBoundary()</a>.</p>

</div>
</div>
<a class="anchor" id="ad8f134aec064b4b606c87bb67bb4efc2"></a><!-- doxytag: member="selgen.c::adjacentOnPixelInRaster" ref="ad8f134aec064b4b606c87bb67bb4efc2" args="(PIX *pixs, l_int32 x, l_int32 y, l_int32 *pxa, l_int32 *pya)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> adjacentOnPixelInRaster </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *&#160;</td>
          <td class="paramname"><em>pxa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> *&#160;</td>
          <td class="paramname"><em>pya</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#ae0b5723a92cdcfc0f68d1d0d573797d6">adjacentOnPixelInRaster()</a></p>
<p>Input: pixs (1 bpp) x, y (current pixel) xa, ya (adjacent ON pixel, found by simple CCW search) Return: 1 if a pixel is found; 0 otherwise or on error</p>
<p>Notes: (1) Search is in 4-connected directions first; then on diagonals. This allows traversal along a 4-connected boundary. </p>

<p>Definition at line <a class="el" href="selgen_8c_source.html#l00847">847</a> of file <a class="el" href="selgen_8c_source.html">selgen.c</a>.</p>

<p>References <a class="el" href="environ_8h_source.html#l00251">ERROR_INT</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="pix1_8c_source.html#l00833">pixGetHeight()</a>, <a class="el" href="pix2_8c_source.html#l00148">pixGetPixel()</a>, <a class="el" href="pix1_8c_source.html#l00803">pixGetWidth()</a>, and <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>.</p>

<p>Referenced by <a class="el" href="selgen_8c_source.html#l00781">pixSubsampleBoundaryPixels()</a>.</p>

</div>
</div>
<a class="anchor" id="aad55a05c74e3cd29f41571704984d23f"></a><!-- doxytag: member="selgen.c::pixDisplayHitMissSel" ref="aad55a05c74e3cd29f41571704984d23f" args="(PIX *pixs, SEL *sel, l_int32 scalefactor, l_uint32 hitcolor, l_uint32 misscolor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_pix.html">PIX</a>* pixDisplayHitMissSel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pix.html">PIX</a> *&#160;</td>
          <td class="paramname"><em>pixs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_sel.html">SEL</a> *&#160;</td>
          <td class="paramname"><em>sel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a>&#160;</td>
          <td class="paramname"><em>scalefactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a4d4d7254020fc95aef5dde8884405358">l_uint32</a>&#160;</td>
          <td class="paramname"><em>hitcolor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="environ_8h.html#a4d4d7254020fc95aef5dde8884405358">l_uint32</a>&#160;</td>
          <td class="paramname"><em>misscolor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="leptprotos_8h.html#add3daae06f71dee1d414aadcb8aa061b">pixDisplayHitMissSel()</a></p>
<p>Input: pixs (1 bpp) sel (hit-miss in general) scalefactor (an integer &gt;= 1; use 0 for default) hitcolor (RGB0 color for center of hit pixels) misscolor (RGB0 color for center of miss pixels) Return: pixd (RGB showing both pixs and sel), or null on error Notes: (1) We don't allow scalefactor to be larger than MAX_SEL_SCALEFACTOR (2) The colors are conveniently given as 4 bytes in hex format, such as 0xff008800. The least significant byte is ignored. </p>

<p>Definition at line <a class="el" href="selgen_8c_source.html#l00903">903</a> of file <a class="el" href="selgen_8c_source.html">selgen.c</a>.</p>

<p>References <a class="el" href="selgen_8c_source.html#l00074">DEFAULT_SEL_SCALEFACTOR</a>, <a class="el" href="environ_8h_source.html#l00250">ERROR_PTR</a>, <a class="el" href="environ_8h_source.html#l00257">L_WARNING</a>, <a class="el" href="selgen_8c_source.html#l00075">MAX_SEL_SCALEFACTOR</a>, <a class="el" href="environ_8h_source.html#l00171">NULL</a>, <a class="el" href="colormap_8c_source.html#l00271">pixcmapAddColor()</a>, <a class="el" href="colormap_8c_source.html#l00085">pixcmapCreate()</a>, <a class="el" href="pixconv_8c_source.html#l01838">pixConvert1To8()</a>, <a class="el" href="pix1_8c_source.html#l00466">pixDestroy()</a>, <a class="el" href="pix1_8c_source.html#l00863">pixGetDepth()</a>, <a class="el" href="scale_8c_source.html#l00769">pixScaleBySampling()</a>, <a class="el" href="pix1_8c_source.html#l01312">pixSetColormap()</a>, <a class="el" href="pix2_8c_source.html#l00219">pixSetPixel()</a>, <a class="el" href="environ_8h_source.html#l00249">PROCNAME</a>, <a class="el" href="morph_8h_source.html#l00101">SEL_DONT_CARE</a>, <a class="el" href="morph_8h_source.html#l00102">SEL_HIT</a>, <a class="el" href="sel1_8c_source.html#l00740">selGetElement()</a>, <a class="el" href="morph_8h_source.html#l00051">Sel::sx</a>, and <a class="el" href="morph_8h_source.html#l00050">Sel::sy</a>.</p>

<p>Referenced by <a class="el" href="findpattern__reg_8c_source.html#l00072">GeneratePattern()</a>, and <a class="el" href="findpattern1_8c_source.html#l00045">main()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a48859de3fde22e8ba48960f3d6915d63"></a><!-- doxytag: member="selgen.c::DEFAULT_DISTANCE_TO_BOUNDARY" ref="a48859de3fde22e8ba48960f3d6915d63" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> <a class="el" href="selgen_8c.html#a48859de3fde22e8ba48960f3d6915d63">DEFAULT_DISTANCE_TO_BOUNDARY</a> = 1<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="selgen_8c_source.html#l00064">64</a> of file <a class="el" href="selgen_8c_source.html">selgen.c</a>.</p>

<p>Referenced by <a class="el" href="selgen_8c_source.html#l00321">pixGenerateSelRandom()</a>, and <a class="el" href="selgen_8c_source.html#l00133">pixGenerateSelWithRuns()</a>.</p>

</div>
</div>
<a class="anchor" id="a418c5acf76783ccc97b4520c2742137b"></a><!-- doxytag: member="selgen.c::MAX_DISTANCE_TO_BOUNDARY" ref="a418c5acf76783ccc97b4520c2742137b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> <a class="el" href="selgen_8c.html#a418c5acf76783ccc97b4520c2742137b">MAX_DISTANCE_TO_BOUNDARY</a> = 4<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="selgen_8c_source.html#l00065">65</a> of file <a class="el" href="selgen_8c_source.html">selgen.c</a>.</p>

<p>Referenced by <a class="el" href="selgen_8c_source.html#l00321">pixGenerateSelRandom()</a>, and <a class="el" href="selgen_8c_source.html#l00133">pixGenerateSelWithRuns()</a>.</p>

</div>
</div>
<a class="anchor" id="a495084d6dffffd1f54381b425943384f"></a><!-- doxytag: member="selgen.c::DEFAULT_MIN_RUNLENGTH" ref="a495084d6dffffd1f54381b425943384f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> <a class="el" href="selgen_8c.html#a495084d6dffffd1f54381b425943384f">DEFAULT_MIN_RUNLENGTH</a> = 3<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="selgen_8c_source.html#l00069">69</a> of file <a class="el" href="selgen_8c_source.html">selgen.c</a>.</p>

<p>Referenced by <a class="el" href="selgen_8c_source.html#l00133">pixGenerateSelWithRuns()</a>.</p>

</div>
</div>
<a class="anchor" id="ad6c5a5be3fa429aadbe73b942c75565f"></a><!-- doxytag: member="selgen.c::DEFAULT_SEL_SCALEFACTOR" ref="ad6c5a5be3fa429aadbe73b942c75565f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> <a class="el" href="selgen_8c.html#ad6c5a5be3fa429aadbe73b942c75565f">DEFAULT_SEL_SCALEFACTOR</a> = 7<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="selgen_8c_source.html#l00074">74</a> of file <a class="el" href="selgen_8c_source.html">selgen.c</a>.</p>

<p>Referenced by <a class="el" href="selgen_8c_source.html#l00903">pixDisplayHitMissSel()</a>.</p>

</div>
</div>
<a class="anchor" id="aebf503f6e5f4d88f44e6897c14e36d2b"></a><!-- doxytag: member="selgen.c::MAX_SEL_SCALEFACTOR" ref="aebf503f6e5f4d88f44e6897c14e36d2b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="environ_8h.html#a9085c7874153c280a4171244aa052e4e">l_int32</a> <a class="el" href="selgen_8c.html#aebf503f6e5f4d88f44e6897c14e36d2b">MAX_SEL_SCALEFACTOR</a> = 31<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="selgen_8c_source.html#l00075">75</a> of file <a class="el" href="selgen_8c_source.html">selgen.c</a>.</p>

<p>Referenced by <a class="el" href="selgen_8c_source.html#l00903">pixDisplayHitMissSel()</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="selgen_8c.html">selgen.c</a>      </li>
      <li class="footer">Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
